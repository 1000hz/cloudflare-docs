{"data":{"mdx":{"id":"40c54981-d75f-54fa-a1eb-cf4444da3c35","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"2: User access\",\n  \"order\": 2,\n  \"pcx-content-type\": \"get-started\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar Button = makeShortcode(\"Button\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"step-2-user-access\"\n  }, \"Step 2: User access\"), mdx(\"p\", null, \"There are two ways to manage how external customers access Cloudflare:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"By giving them direct Cloudflare dashboard access.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"By building an interface that they directly interact with.\")), mdx(\"p\", null, \"The first method gives customers control over all aspects of Cloudflare, while the latter allows you to integrate your customer's Cloudflare experience into a dashboard that you control and that they may already be familiar with.\"), mdx(\"h2\", {\n    \"id\": \"1-direct-cloudflare-dashboard-access\"\n  }, \"1. Direct Cloudflare dashboard access\"), mdx(\"h3\", {\n    \"id\": \"grant-access-using-the-dashboard\"\n  }, \"Grant access using the dashboard\"), mdx(\"p\", null, \"If you want to give customers access to their individual accounts, it is not different than if you were inviting a teammate to help manage your account. This can be done via dashboard. \"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Log in to the \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://dash.cloudflare.com/login\"\n  }, \"Cloudflare dashboard\"), \".\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Select your account.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Manage Account\"), \" > \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Members\"), \".\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"In the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Invite Members\"), \" panel, enter the email address requiring account access.\")), mdx(\"h3\", {\n    \"id\": \"grant-access-using-the-api\"\n  }, \"Grant access using the API\"), mdx(\"p\", null, \"Another way to grant access is by making the below API call.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"curl -X POST 'https://api.cloudflare.com/client/v4/accounts/<customer_account_id>/members' -H 'Content-Type: application/json' -H 'x-auth-email: <x-auth-email>' -H 'x-auth-key: <x-auth-key>' -d '{ \\\"email\\\": \\\"<customer-email>\\\", \\\"roles\\\": [\\\"<user-role>\\\"] }'\\n\")), mdx(\"p\", null, \"In most cases, the user role to use is that of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Administrator\"), \" which has the id \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"05784afa30c1afe1440e79d9351c7430\"), \". A full list of available roles can be fetched by making a call to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET https://api.cloudflare.com/client/v4/accounts/<account_id>/roles\"), \". Only ENT customers have access to our full set of user roles. For more details about roles, please refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://support.cloudflare.com/hc/articles/200167946\"\n  }, \"Managing Cloudflare account access\"), \".\"), mdx(\"p\", null, \"Once the invite is sent, the user will receive an invitation to gain access to the account. If they do not already have a Cloudflare user, we will take them through the process of creating one. Once created, they will be given access to the account and any zones already created.\"), mdx(\"h2\", {\n    \"id\": \"2-build-an-interface-for-customers-to-use\"\n  }, \"2. Build an interface for customers to use\"), mdx(\"p\", null, \"If you want to have greater control over how customers use Cloudflare or if you want your customers to use an existing dashboard of yours that they already know, you can directly use our API to build this experience.\"), mdx(\"p\", null, \"In general, this means that you will be making all the API calls to Cloudflare on behalf of customers. In this case, it is still recommended to create accounts and users that match 1:1 with your customers. This means changes made by customer \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"A\"), \" will go through user \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"A\"), \" and changes made by customer \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"B\"), \" will go through user \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"B\"), \". This helps to avoid hitting rate limits across all customers if one user is particularly busy.\"), mdx(Aside, {\n    type: \"note\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"This capability is not enabled by default. Please contacct \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://support.cloudflare.com/hc/articles/200172476\"\n  }, \"Cloudflare Support\"), \" if you need this functionality.\")), mdx(\"p\", null, \"Creating a user works as follows:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"curl -X POST https://api.cloudflare.com/client/v4/users -H 'Content-Type: application/json' -H 'x-auth-email: <x-auth-email>' -H 'x-auth-key: <x-auth-key>' -d '{ \\\"email\\\": \\\"<identifier>@youremaildomain.com>\\\" }'\\n\")), mdx(\"p\", null, \"These type of users are service users, as no one will log into the dashboard with them. If you are planning to use this method, we will enable you to see the API key in order to make API calls as this user.\"), mdx(\"p\", null, \"An example response for a successful creation:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n    \\\"result\\\": {\\n        \\\"id\\\": \\\"60758bd48392a06215ae817bc35084b6\\\",\\n        \\\"email\\\": \\\"<identifier>@youremaildomain.com>\\\",\\n        \\\"first_name\\\": null,\\n        \\\"last_name\\\": null,\\n        \\\"username\\\": \\\"17bd2796b374cec14976ac3bced85c05\\\",\\n        \\\"telephone\\\": null,\\n        \\\"country\\\": null,\\n        \\\"created_on\\\": \\\"2019-02-21T23:20:28.645256Z\\\",\\n        \\\"modified_on\\\": \\\"2019-02-21T23:20:28.645256Z\\\",\\n        \\\"two_factor_authentication\\\": {\\n            \\\"enabled\\\": false,\\n            \\\"locked\\\": false\\n        },\\n        \\\"api_key\\\": \\\"xxx\\\"\\n    },\\n    \\\"success\\\": true,\\n    \\\"errors\\\": [],\\n    \\\"messages\\\": []\\n}\\n\")), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"next-step\"\n  }, \"Next step\"), mdx(\"p\", null, \"Now that the customer has access to the account, in the next step we will look at how to enable paid services for customers.\"), mdx(\"p\", null, mdx(Button, {\n    type: \"primary\",\n    href: \"/get-started/enabling-services\",\n    mdxType: \"Button\"\n  }, \"Step 3: Enabling services\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"demo":null,"difficulty":null,"summary":null,"tags":null,"title":"2: User access","type":null,"updated":null}}},"pageContext":{"id":"40c54981-d75f-54fa-a1eb-cf4444da3c35","fields":{"slug":"/get-started/user-access"},"frontmatter":{"title":"2: User access","type":null,"order":2,"hidden":null,"hideChildren":null,"breadcrumbs":null},"headings":[{"value":"Step 2: User access","depth":1}],"tableOfContents":{"items":[{"url":"#step-2-user-access","title":"Step 2: User access","items":[{"url":"#1-direct-cloudflare-dashboard-access","title":"1. Direct Cloudflare dashboard access","items":[{"url":"#grant-access-using-the-dashboard","title":"Grant access using the dashboard"},{"url":"#grant-access-using-the-api","title":"Grant access using the API"}]},{"url":"#2-build-an-interface-for-customers-to-use","title":"2. Build an interface for customers to use"},{"url":"#next-step","title":"Next step"}]}]},"parent":{"modifiedTime":"2022-02-09","relativePath":"get-started/user-access.md"}}}