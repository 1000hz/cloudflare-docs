{"componentChunkName":"component---src-components-mdx-custom-renderer-js","path":"/cf-dashboard/rule-preview","result":{"data":{"mdx":{"id":"f3f8bc87-4bf1-5f64-b406-c6269842919e","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Preview rules\",\n  \"pcx-content-type\": \"concept\",\n  \"type\": \"table\",\n  \"order\": 330\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar ContentColumn = makeShortcode(\"ContentColumn\");\nvar Aside = makeShortcode(\"Aside\");\nvar TableWrap = makeShortcode(\"TableWrap\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"preview-firewall-rules\"\n  }, \"Preview Firewall Rules\"), mdx(ContentColumn, {\n    mdxType: \"ContentColumn\"\n  }, mdx(\"h2\", {\n    \"id\": \"overview\"\n  }, \"Overview\"), mdx(\"p\", null, \"Cloudflare Firewall Rules provides a powerful and flexible platform for filtering HTTP requests and protecting your site amid an evolving threat landscape. However, the same power and flexibility that allows you to tailor Firewall Rules to your specific application and environment can also introduce complexity. In these cases, it is critical that you have a way to test a Firewall Rule before deploying it so that you can ensure the rule will behave the way you expect.\"), mdx(\"p\", null, \"To help customers understand the potential impact of a rule, Cloudflare has built \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rule Preview\"), \". With the click of a button, Rule Preview allows you to test a Firewall Rule against a sample drawn from the last 72 hours of traffic. Rule Preview is built into the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Firewall Rules Expression Editor\"), \" so that you can test a rule as you edit it.\"), mdx(Aside, {\n    type: \"warning\",\n    header: \"Important\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Rule Preview requires access to a Cloudflare Enterprise plan.\")), mdx(\"h2\", {\n    \"id\": \"use-rule-preview\"\n  }, \"Use Rule Preview\"), mdx(\"p\", null, \"To test a Firewall Rule with Rule Preview:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Locate the desired rule in the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Rules List\"), \" and click the associated \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Edit\"), \" button (wrench icon). The \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Edit Firewall Rule\"), \" panel will open.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Test rule\"), \" to trigger the test.\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/032f7146250489e2f1cc6d9cac1d5ebd/5a190/firewall-rules-preview-1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75.14450867052024%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Expression Builder Test Rule button\",\n    \"title\": \"Expression Builder Test Rule button\",\n    \"src\": \"/static/032f7146250489e2f1cc6d9cac1d5ebd/5a190/firewall-rules-preview-1.png\",\n    \"srcSet\": [\"/static/032f7146250489e2f1cc6d9cac1d5ebd/8f77f/firewall-rules-preview-1.png 346w\", \"/static/032f7146250489e2f1cc6d9cac1d5ebd/e185b/firewall-rules-preview-1.png 691w\", \"/static/032f7146250489e2f1cc6d9cac1d5ebd/5a190/firewall-rules-preview-1.png 800w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The results of the test are displayed in a plot that simulates how many of the total requests in the last 72 hours would have matched the tested expression.\"), mdx(\"p\", null, \"In this screenshot, a rule that matches all User-Agents that contain the string \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Mozilla\"), \" would block about 8% of requests to the zone:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1382px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/766df311c1c152862187711265501875/1df5b/cf-firewall-rules-preview-rule-plot-chart.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"64.73988439306359%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABMklEQVQoz41Sy07EMAzM//8cJ049VLAHWKhK0ibO08mO+1JhYcXIrRw3M35VTdP0tWAYBrxrrcxcH6LtUM6Rcw7XtTZwSinjOHrv4eTfgPjH8Pl+veKOwiGlhGxtV/0hf4+Uc4hCURDQWltrIRGjGCD6fyOkPFMoRcjBSuVkrVsNPuiH1r3ha065clXzbIlIyt7BtaGowo8q3wYWFqzjgSRjYIaenl/ehnnt/xEZHCIflwEcUeGcaDFl9IKbUhdXJMOkcEdhVK+XC85n8jeV1oyZuq4zRq9B7LLve2gptA9m+zcyc0SPRTLJnoMP51zbe9/58QFPATMXRMtSpsLjA3aOf4fFMlQxvJLEYeTZnCIRCgnrBZBSeoaMI08hQgASfnFWmx2N2hxHMEPM65oxY/R8AyqI/AFJ1QjtAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Example rule preview results chart\",\n    \"title\": \"Example rule preview results chart\",\n    \"src\": \"/static/766df311c1c152862187711265501875/f868f/cf-firewall-rules-preview-rule-plot-chart.png\",\n    \"srcSet\": [\"/static/766df311c1c152862187711265501875/8f77f/cf-firewall-rules-preview-rule-plot-chart.png 346w\", \"/static/766df311c1c152862187711265501875/e185b/cf-firewall-rules-preview-rule-plot-chart.png 691w\", \"/static/766df311c1c152862187711265501875/f868f/cf-firewall-rules-preview-rule-plot-chart.png 1382w\", \"/static/766df311c1c152862187711265501875/1df5b/cf-firewall-rules-preview-rule-plot-chart.png 1999w\"],\n    \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"important-notes\"\n  }, \"Important Notes\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Consider the results of Firewall Preview an \", mdx(\"em\", {\n    parentName: \"strong\"\n  }, \"indication\"), \" of traffic levels\"), \", not an exact calculation. The sample rate can be as little as 1% of your total traffic.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rule Preview does not take into account other Cloudflare Firewall Rules\"), \" that you have already configured. In effect, Rule Preview tests a single Firewall Rule in isolation. Firewall Events or any other rules with a higher priority that may have blocked or challenged a request are ignored.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"You cannot test Firewall Rules that reference \", mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/cf-dashboard/rules-lists\"\n  }, \"IP Lists\")), \".\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Cloudflare does not store the entirety of requests, so only a limited number of fields are available to Rule Preview\"), \". The table below lists the fields that Rule Preview supports (green cells), broken down by operator. Fields and operators that are not supported are not included in this table.\")), mdx(TableWrap, {\n    style: {\n      \"width\": \"100%\"\n    },\n    mdxType: \"TableWrap\"\n  }, mdx(\"table\", {\n    style: {\n      \"width\": \"100%\"\n    }\n  }, mdx(\"thead\", null, mdx(\"tr\", null, mdx(\"td\", null), mdx(\"td\", null, mdx(\"strong\", null, \"Equal\")), mdx(\"td\", null, mdx(\"strong\", null, \"Not equal\")), mdx(\"td\", null, mdx(\"strong\", null, \"Greater than\")), mdx(\"td\", null, mdx(\"strong\", null, \"Less than\")), mdx(\"td\", null, mdx(\"strong\", null, \"Greater than or equal\")), mdx(\"td\", null, mdx(\"strong\", null, \"Less than or equal\")), mdx(\"td\", null, mdx(\"strong\", null, \"In\")), mdx(\"td\", null, mdx(\"strong\", null, \"Contains\")))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"AS Number\"), mdx(\"p\", null), mdx(\"strong\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"ip.geoip.asnum\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"Country\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"ip.geoip.country\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"Hostname\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.host\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"IP Address\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"ip.src\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"Referer\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.referer\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"Request method\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.request.method\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"SSL\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"ssl\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"URI\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.request.uri\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"URI path\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.request.uri.path\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"URI query string\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.request.uri.query\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"User agent\", mdx(\"p\", null), mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.user_agent\"))), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"))))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"demo":null,"difficulty":null,"summary":null,"tags":null,"title":"Preview rules","type":"table","updated":null}}},"pageContext":{"id":"f3f8bc87-4bf1-5f64-b406-c6269842919e","fields":{"slug":"/cf-dashboard/rule-preview"},"frontmatter":{"title":"Preview rules","type":"table","order":330,"hidden":null,"hideChildren":null,"breadcrumbs":null},"headings":[{"value":"Preview Firewall Rules","depth":1}],"tableOfContents":{"items":[{"url":"#preview-firewall-rules","title":"Preview Firewall Rules","items":[{"url":"#overview","title":"Overview"},{"url":"#use-rule-preview","title":"Use Rule Preview"},{"url":"#important-notes","title":"Important Notes"}]}]},"parent":{"modifiedTime":"2022-02-09","relativePath":"cf-dashboard/rule-preview.md"}}},"staticQueryHashes":["2814688963","32046230","338033027","598566803","811020565"]}