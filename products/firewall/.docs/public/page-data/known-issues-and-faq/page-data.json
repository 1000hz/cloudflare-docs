{"componentChunkName":"component---src-components-mdx-custom-renderer-js","path":"/known-issues-and-faq","result":{"data":{"mdx":{"id":"8a75c3af-70d6-5543-89b7-76d72a93799a","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"FAQ\",\n  \"pcx-content-type\": \"faq\",\n  \"weight\": 700\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar TableWrap = makeShortcode(\"TableWrap\");\nvar Aside = makeShortcode(\"Aside\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"firewall-rules-faq\"\n  }, \"Firewall Rules FAQ\"), mdx(\"h2\", {\n    \"id\": \"how-many-rules-can-i-have-on-my-site\"\n  }, \"How many rules can I have on my site?\"), mdx(\"p\", null, \"You can create a large number of rules. However, the number of active rules at any given time is limited. Refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-firewall-rules/#entitlements\"\n  }, \"Entitlements\"), \" for details on what is allowed per customer plan.\"), mdx(\"h2\", {\n    \"id\": \"can-i-purchase-additional-active-rules\"\n  }, \"Can I purchase additional active rules?\"), mdx(\"p\", null, \"No. The number of active rules is fixed based on customer plan. Refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-firewall-rules/#entitlements\"\n  }, \"Entitlements\"), \".\"), mdx(\"h2\", {\n    \"id\": \"how-are-certain-special-and-escaped-characters-handled\"\n  }, \"How are certain special and escaped characters handled?\"), mdx(\"p\", null, \"When used as literals in an expression, the backslash \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\\\"), \" and double quote \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"\"), \" characters require proper escaping.\"), mdx(\"p\", null, \"An expression built using the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Visual Expression Editor\"), \" does not require you to manually escape those special characters. Conveniently, the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expression Builder\"), \" takes care of any necessary escaping in the final expression by automatically prepending a backslash such that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\\\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"\"), \" become \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\\\\\\\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\\\\\"\"), \", respectively.\"), mdx(\"p\", null, \"The following image illustrates how double quotes are automatically escaped to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\\\\\"\"), \" once they appear in the plain text expression generated in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expression Editor\"), \":\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"867px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/739a6e01fc4df1dedbec3b18c2f57028/264eb/cf-firewall-rules-character-escaping-ann.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"81.21387283236994%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAAB3ElEQVQoz41S2XKbQBDkx/NHefazKk9JOY6ScNlOQELi3F1Y2INbSnpBPpIquTzVSw0DM9PTs9Zms7Ft+9ti2+02CIIo2u/3u7cRhoHj2Bb+Pp/PXddprfGE/+d9Ngyj5biuELKum74fgLbt3oOu65FiOY7LKMsLwnldVRyhtu0BpfBLfw1o0zTC8jwflaSU4ziByWITjpDSdFiaXE02nVmZplkcJ0mSZllOCF0/m+cwdotzrbOnlAa0bsG5LCu9TAUfEd0wrcQyyMu0L8mu69V1zcoScSTkeQHy8AmtSH4oHj9J8jhO8zAM/ThM85wXRRDuomOMNpbv359O59cln7hB+VbzvNWyH07PhEFHGZ6GpukMApQyqP16KlMNtcZZN1RVMQqt8ind0VqVQnMkQ+2CkF0URYcD5FpUS2OcLI2z/Bi60cOXw+8f2e47LTlllFCWEVpQVnFuks0laWACTLjZdGPO+lqVVfpQJX5TFUIoYQxrlSB+oc1MFaPtesmesdiEbYF9D+cpDjkuakMwjA9Aq3EYIbW5KVhvu+jXLdtecalovp7nSQpp/bRtsGhq0Yh/sDL/L8jNRShTUv5KWFZQ6+vdHUhje5DtbRBKj0nie87NZ+fDx9vtffgX/+2CGgHxzjoAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Escaped characters\",\n    \"title\": \"Escaped characters\",\n    \"src\": \"/static/739a6e01fc4df1dedbec3b18c2f57028/264eb/cf-firewall-rules-character-escaping-ann.png\",\n    \"srcSet\": [\"/static/739a6e01fc4df1dedbec3b18c2f57028/8f77f/cf-firewall-rules-character-escaping-ann.png 346w\", \"/static/739a6e01fc4df1dedbec3b18c2f57028/e185b/cf-firewall-rules-character-escaping-ann.png 691w\", \"/static/739a6e01fc4df1dedbec3b18c2f57028/264eb/cf-firewall-rules-character-escaping-ann.png 867w\"],\n    \"sizes\": \"(max-width: 867px) 100vw, 867px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"why-isnt-my-regular-expression-pattern-matching-working\"\n  }, \"Why isn't my regular expression pattern matching working?\"), mdx(\"p\", null, \"If you are using a regular expression, we recommend you test it against a testing tool like \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://regex101.com/?flavor=golang\"\n  }, \"Regular Expressions 101\"), \" or \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://rustexp.lpil.uk\"\n  }, \"Rustexp\"), \".\"), mdx(\"p\", null, \"Also, note that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http.request.method\"), \" fields requires all-caps for method names.\"), mdx(\"h2\", {\n    \"id\": \"how-can-i-use-the-threat-score-effectively\"\n  }, \"How can I use the Threat Score effectively?\"), mdx(\"p\", null, \"The \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Cloudflare Threat Score\"), \" is a key item behind the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Security Level\"), \" functionality in the Cloudflare dashboard.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Threat Score\"), \" as configured by \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Security Level\"), \" is based on:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"High - for scores greater than 0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Medium - for scores greater than 14\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Low - for scores greater than 24\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Essentially off - for scores greater than 49\")), mdx(\"p\", null, \"Enabling a high threat score for sensitive areas, like comment form pages or login forms, can add an effective level of protection. Integrating \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Threat Score\"), \" with Firewall Rules is advantageous because you can specify a Captcha vs. a JS Challenge, or even a block. You can also exclude IP addresses using \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"and not\"), \" logic.\"), mdx(\"h2\", {\n    \"id\": \"how-does-firewall-rules-handle-traffic-from-known-bots\"\n  }, \"How does Firewall Rules handle traffic from known bots?\"), mdx(\"h3\", {\n    \"id\": \"caution-about-potentially-blocking-bots\"\n  }, \"Caution about potentially blocking bots\"), mdx(\"p\", null, \"When you create a Firewall rule with a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Block\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Legacy CAPTCHA\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"JS Challenge\"), \", or \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Managed Challenge (Recommended)\"), \" action, you might unintentionally block traffic from known bots. Specifically, this might affect search engine optimization (SEO) and website monitoring when trying to enforce a mitigation action based on URI, path, host, ASN, or country.\"), mdx(\"p\", null, \"Refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#how-do-i-create-an-exception-to-exclude-certain-requests-from-being-blocked-or-challenged\"\n  }, \"How do I create an exception to exclude certain requests from being blocked or challenged?\"), \".\"), mdx(\"h3\", {\n    \"id\": \"bots-currently-detected\"\n  }, \"Bots currently detected\"), mdx(\"p\", null, \"The table below lists a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"sample\"), \" of known bots that Firewall Rules currently detects. When traffic comes from these bots and others not listed, the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"cf.client.bot\"), \" field is set to true.\"), mdx(TableWrap, {\n    mdxType: \"TableWrap\"\n  }, mdx(\"table\", {\n    style: {\n      \"width\": \"100%\"\n    }\n  }, mdx(\"thead\", null, mdx(\"tr\", null, mdx(\"th\", null, \"Bot\"), mdx(\"th\", null, \"Description\"))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"ahrefs\")), mdx(\"td\", null, mdx(\"p\", null, \"Ahrefs SEO bot\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"apple\")), mdx(\"td\", null, mdx(\"p\", null, \"Applebot is the web crawler for Apple, for products like Siri and Spotlight Suggestions\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"archive.org\")), mdx(\"td\", null, mdx(\"p\", null, \"Archive.org bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"baidu\")), mdx(\"td\", null, mdx(\"p\", null, \"Baidu search engine bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"better uptime\")), mdx(\"td\", null, mdx(\"p\", null, \"Bot for monitoring website uptime\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"bing\")), mdx(\"td\", null, mdx(\"p\", null, \"Bing search engine bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"feedbin\")), mdx(\"td\", null, mdx(\"p\", null, \"Feedbin.com bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"google\")), mdx(\"td\", null, mdx(\"p\", null, \"Google search engine bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"grapeshot\")), mdx(\"td\", null, mdx(\"p\", null, \"Grapeshot (Oracle) SEO bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"linkedin\")), mdx(\"td\", null, mdx(\"p\", null, \"LinkedIn bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"mail.ru\")), mdx(\"td\", null, mdx(\"p\", null, \"Mail.ru bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"naver\")), mdx(\"td\", null, mdx(\"p\", null, \"Naver (South Korean) search engine bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"pingdom\")), mdx(\"td\", null, mdx(\"p\", null, \"Pingdom.com monitoring bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"pinterest\")), mdx(\"td\", null, mdx(\"p\", null, \"Pinterest bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"seznam\")), mdx(\"td\", null, mdx(\"p\", null, \"Seznam search engine bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"sogou\")), mdx(\"td\", null, mdx(\"p\", null, \"Sogou search engine bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"uptimerobot\")), mdx(\"td\", null, mdx(\"p\", null, \"Uptime Robot monitoring bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"yahoo\")), mdx(\"td\", null, mdx(\"p\", null, \"Yahoo! search engine bots\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, \"yandex\")), mdx(\"td\", null, mdx(\"p\", null, \"Yandex search engine bots\")))))), mdx(\"h2\", {\n    \"id\": \"how-do-i-create-an-exception-to-exclude-certain-requests-from-being-blocked-or-challenged\"\n  }, \"How do I create an exception to exclude certain requests from being blocked or challenged?\"), mdx(\"p\", null, \"There may be situations in which you want to enforce a blocking or challenging action but make exceptions for specific types of requests.\"), mdx(\"p\", null, \"Cloudflare supports two methods to permit requests through Firewall Rules expressions:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Exclude a type of request from being blocked or challenged, for example based on IP address, ASN, or country\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Create an independent Firewall rule with an \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Allow\"), \" action\")), mdx(Aside, {\n    type: \"note\",\n    header: \"Note\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Cloudflare Firewall Rules does not bypass security measures defined in other \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Firewall\"), \" app features.\")), mdx(\"p\", null, \"If you wish to permit certain exclusions, the examples below illustrate a few possible approaches.\"), mdx(\"h3\", {\n    \"id\": \"example-1\"\n  }, \"Example 1\"), mdx(\"p\", null, \"Exclude multiple IP addresses from a blocking/challenging rule that assesses Threat Score\"), mdx(TableWrap, {\n    mdxType: \"TableWrap\"\n  }, mdx(\"table\", {\n    style: {\n      \"width\": \"100%\"\n    }\n  }, mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", {\n    colSpan: \"2\"\n  }, mdx(\"strong\", null, \"Basic rule, with no \", mdx(\"em\", null, \"exclusion\")))), mdx(\"tr\", null, mdx(\"td\", null, \"Action\"), mdx(\"td\", null, mdx(\"em\", null, \"block (or challenge)\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Expression\"), mdx(\"td\", null, mdx(\"em\", null, \"(http.host eq \\\"example.com\\\" and cf.threat_score > 5)\"))), mdx(\"tr\", null, mdx(\"td\", {\n    colSpan: \"2\"\n  }, mdx(\"strong\", null, \"Rule that excludes IP addresses from being blocked/challenged\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Action\"), mdx(\"td\", null, mdx(\"em\", null, \"block (or challenge)\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Expression\"), mdx(\"td\", null, mdx(\"em\", null, \"(http.host eq \\\"example.com\\\" and cf.threat_score > 5) and not (ip.src in \", '{192.0.2.1 198.51.100.42 203.0.113.0/24}', \")\"))), mdx(\"tr\", null, mdx(\"td\", {\n    colSpan: \"2\"\n  }, mdx(\"strong\", null, \"Two rules to allow exceptions and block the rest\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Rule 1\"), mdx(\"td\", null, \"Action: \", mdx(\"em\", null, \"allow\"), mdx(\"br\", null), \"Expression: \", mdx(\"em\", null, \"ip.src in \", '{192.0.2.1 198.51.100.42 203.0.113.0/24}'))), mdx(\"tr\", null, mdx(\"td\", null, \"Rule 2\"), mdx(\"td\", null, \"Action: \", mdx(\"em\", null, \"block (or challenge)\"), mdx(\"br\", null), mdx(\"em\", null, \"(http.host eq \\\"example.com\\\" and cf.threat_score > 5)\")))))), mdx(\"h3\", {\n    \"id\": \"example-2\"\n  }, \"Example 2\"), mdx(\"p\", null, \"Block Amazon Web Services (AWS) and Google Cloud Platform (GCP) because of large volumes of undesired traffic, but allow Googlebot and other known bots that Cloudflare validates\"), mdx(TableWrap, {\n    mdxType: \"TableWrap\"\n  }, mdx(\"table\", {\n    style: {\n      \"width\": \"100%\"\n    }\n  }, mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", {\n    colSpan: \"2\"\n  }, mdx(\"strong\", null, \"Basic rule, with no \", mdx(\"em\", null, \"exclusion\")))), mdx(\"tr\", null, mdx(\"td\", null, \"Action\"), mdx(\"td\", null, mdx(\"em\", null, \"block (or challenge)\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Expression\"), mdx(\"td\", null, mdx(\"em\", null, \"(ip.geoip.asnum in \", '{7224 15169}', \")\"))), mdx(\"tr\", null, mdx(\"td\", {\n    colSpan: \"2\"\n  }, mdx(\"strong\", null, \"Rule that excludes known bots that Cloudflare validates\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Action\"), mdx(\"td\", null, mdx(\"em\", null, \"block (or challenge)\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Expression\"), mdx(\"td\", null, mdx(\"em\", null, \"(ip.geoip.asnum in \", '{7224 15169}', \") and not cf.client.bot)\"))), mdx(\"tr\", null, mdx(\"td\", {\n    colSpan: \"2\"\n  }, mdx(\"strong\", null, mdx(\"strong\", null, \"Two rules to allow exceptions and block the rest\")))), mdx(\"tr\", null, mdx(\"td\", null, \"Rule 1\"), mdx(\"td\", null, \"Action: \", mdx(\"em\", null, \"allow\"), mdx(\"br\", null), \"Expression: \", mdx(\"em\", null, \"cf.client.bot\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Rule 2\"), mdx(\"td\", null, \"Action: \", mdx(\"em\", null, \"block (or challenge)\"), mdx(\"br\", null), \"Expression: \", mdx(\"em\", null, \"(ip.geoip.asnum in \", '{7224 15169}', \")\")))))), mdx(\"h2\", {\n    \"id\": \"why-does-a-firewall-event-display-a-cloudflare-ip-address-even-though-other-fields-match-the-client-details\"\n  }, \"Why does a Firewall Event display a Cloudflare IP address even though other fields match the client details?\"), mdx(\"p\", null, \"This happens when a request goes through a Cloudflare Worker.\"), mdx(\"p\", null, \"In this case, Cloudflare considers the client details, including its IP address, for triggering security settings. However, the IP displayed in the Firewall Events will be a Cloudflare IP address.\"), mdx(\"h2\", {\n    \"id\": \"do-the-challenge-actions-support-content-types-other-than-html-for-example-ajax-or-xhr-requests\"\n  }, \"Do the Challenge actions support content types other than HTML (for example, AJAX or XHR requests)?\"), mdx(\"p\", null, \"No. The \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Legacy CAPTCHA\"), \" and \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"JS Challenge\"), \" actions only support HTML requests.\"), mdx(\"p\", null, \"Challenges presented to users display an intermediate page where they must prove they are not a bot. This concept does not work over XHR or AJAX.\"), mdx(\"p\", null, \"When an XHR or AJAX request triggers one of the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Legacy CAPTCHA\"), \" actions, the resulting request will have the following status code:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"HTTP status code 403 for \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Legacy CAPTCHA\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"HTTP status code 503 for \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"JS Challenge\"))), mdx(\"p\", null, \"Your application can use these status codes to handle unexpected challenges.\"), mdx(\"h2\", {\n    \"id\": \"does-the-challengefailed-action-accurately-represent-challenges-that-users-did-not-pass\"\n  }, \"Does the 'challengeFailed' action accurately represent challenges that users did not pass?\"), mdx(\"p\", null, \"No. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"challengeFailed\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jschallengeFailed\"), \" Firewall actions account for observed requests that, under special circumstances, did not pass a challenge. However, some failed challenges cannot be traced back to a Firewall rule. Additionally, the Firewall may not have a record of every request with a failed challenge.\"), mdx(\"p\", null, \"Therefore, consider these actions with caution. A reliable indicator is the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-firewall-rules#challenge-solve-rate-csr\"\n  }, \"CSR (Challenge Solve Rate)\"), \" displayed in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Firewall Rules\"), \", which is calculated as follows: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"number of challenges solved / number of challenges issued\"), \".\"), mdx(\"h2\", {\n    \"id\": \"why-would-i-not-find-any-failed-challenges-why-is-challengeissued-not-equal-to-challengesolved-plus-challengefailed\"\n  }, \"Why would I not find any failed challenges? Why is 'ChallengeIssued' not equal to 'ChallengeSolved' plus 'ChallengeFailed'?\"), mdx(\"p\", null, \"Users do not complete all challenges. Cloudflare issues challenges that are never answered \\u2014 only 2-3% of all served challenges are usually answered.\"), mdx(\"p\", null, \"There are multiple reasons for this:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Users give up on a challenge.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Users try to solve a challenge but cannot provide an answer.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Users keep refreshing the challenge but never submit an answer.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Users keep retrying hCaptcha (CAPTCHA failures in hCaptcha are not registered as failed and represent interim failures).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Cloudflare receives a malformed challenge answer.\")), mdx(\"h2\", {\n    \"id\": \"why-do-i-have-matches-for-a-firewall-rule-that-was-not-supposed-to-match-the-request\"\n  }, \"Why do I have matches for a Firewall Rule that was not supposed to match the request?\"), mdx(\"p\", null, \"Make sure you are looking at the correct request.\"), mdx(\"p\", null, \"Only requests that triggered a challenge will match the request parameters of the rule. Subsequent requests with a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"[js]challengeSolved\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"[js]challengeFailed\"), \" action may not match the parameters of the rule \\u2014 for example, the bot score may have changed because the user solved a CAPTCHA.\"), mdx(\"p\", null, \"The \\\"solved\\\" and \\\"failed\\\" actions are informative actions about a previous request that matched a rule. These actions state that \\\"previously a rule had matched a request with the action set to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Legacy CAPTCHA\"), \" or \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"JS Challenge\"), \" and now that challenge was answered\\\".\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"demo":null,"difficulty":null,"summary":null,"tags":null,"title":"FAQ","type":null,"updated":null}}},"pageContext":{"id":"8a75c3af-70d6-5543-89b7-76d72a93799a","fields":{"slug":"/known-issues-and-faq"},"frontmatter":{"title":"FAQ","type":null,"order":null,"hidden":null,"hideChildren":null,"breadcrumbs":null},"headings":[{"value":"Firewall Rules FAQ","depth":1}],"tableOfContents":{"items":[{"url":"#firewall-rules-faq","title":"Firewall Rules FAQ","items":[{"url":"#how-many-rules-can-i-have-on-my-site","title":"How many rules can I have on my site?"},{"url":"#can-i-purchase-additional-active-rules","title":"Can I purchase additional active rules?"},{"url":"#how-are-certain-special-and-escaped-characters-handled","title":"How are certain special and escaped characters handled?"},{"url":"#why-isnt-my-regular-expression-pattern-matching-working","title":"Why isn't my regular expression pattern matching working?"},{"url":"#how-can-i-use-the-threat-score-effectively","title":"How can I use the Threat Score effectively?"},{"url":"#how-does-firewall-rules-handle-traffic-from-known-bots","title":"How does Firewall Rules handle traffic from known bots?","items":[{"url":"#caution-about-potentially-blocking-bots","title":"Caution about potentially blocking bots"},{"url":"#bots-currently-detected","title":"Bots currently detected"}]},{"url":"#how-do-i-create-an-exception-to-exclude-certain-requests-from-being-blocked-or-challenged","title":"How do I create an exception to exclude certain requests from being blocked or challenged?","items":[{"url":"#example-1","title":"Example 1"},{"url":"#example-2","title":"Example 2"}]},{"url":"#why-does-a-firewall-event-display-a-cloudflare-ip-address-even-though-other-fields-match-the-client-details","title":"Why does a Firewall Event display a Cloudflare IP address even though other fields match the client details?"},{"url":"#do-the-challenge-actions-support-content-types-other-than-html-for-example-ajax-or-xhr-requests","title":"Do the Challenge actions support content types other than HTML (for example, AJAX or XHR requests)?"},{"url":"#does-the-challengefailed-action-accurately-represent-challenges-that-users-did-not-pass","title":"Does the 'challengeFailed' action accurately represent challenges that users did not pass?"},{"url":"#why-would-i-not-find-any-failed-challenges-why-is-challengeissued-not-equal-to-challengesolved-plus-challengefailed","title":"Why would I not find any failed challenges? Why is 'ChallengeIssued' not equal to 'ChallengeSolved' plus 'ChallengeFailed'?"},{"url":"#why-do-i-have-matches-for-a-firewall-rule-that-was-not-supposed-to-match-the-request","title":"Why do I have matches for a Firewall Rule that was not supposed to match the request?"}]}]},"parent":{"modifiedTime":"2022-02-09","relativePath":"known-issues-and-faq/index.md"}}},"staticQueryHashes":["2814688963","32046230","338033027","598566803","811020565"]}