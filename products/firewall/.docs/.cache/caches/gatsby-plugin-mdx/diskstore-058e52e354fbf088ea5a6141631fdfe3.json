{"expireTime":9007200899183233000,"key":"gatsby-plugin-mdx-entire-payload-6feb37e4f1aacae148f9c0f1cb349fe2-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Order and priority","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":21,"offset":21},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":21,"offset":21},"indent":[]}},{"type":"import","value":"import firewallRulesOrderAndPriority2 from '../images/firewall-rules-order-and-priority-2.gif'\nimport firewallRulesOrderAndPriority3 from '../images/firewall-rules-order-and-priority-3.gif'","position":{"start":{"line":4,"column":1,"offset":23},"end":{"line":5,"column":95,"offset":212},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Overview","position":{"start":{"line":7,"column":4,"offset":217},"end":{"line":7,"column":12,"offset":225},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":214},"end":{"line":7,"column":12,"offset":225},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cloudflare Firewall Rules is part of a larger evaluation chain for HTTP requests, as illustrated in the diagram below (click the image to view a larger version). For example, Firewall Rules only evaluates requests that first clear IP Access Rules. If a request is blocked by a rule at any stage in the chain, Cloudflare does not evaluate the request further.","position":{"start":{"line":9,"column":1,"offset":227},"end":{"line":9,"column":359,"offset":585},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":227},"end":{"line":9,"column":359,"offset":585},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../images/firewall-rules-order-and-priority-1.png","alt":"Firewall Rules order and priority","position":{"start":{"line":11,"column":1,"offset":587},"end":{"line":11,"column":88,"offset":674},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":587},"end":{"line":11,"column":88,"offset":674},"indent":[]}},{"type":"jsx","value":"<Aside type=\"warning\" header=\"Important\">","position":{"start":{"line":13,"column":1,"offset":676},"end":{"line":13,"column":42,"offset":717},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The execution order diagram does not include products powered by the ","position":{"start":{"line":15,"column":3,"offset":721},"end":{"line":15,"column":72,"offset":790},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/ruleset-engine/","children":[{"type":"text","value":"Ruleset Engine","position":{"start":{"line":15,"column":73,"offset":791},"end":{"line":15,"column":87,"offset":805},"indent":[]}}],"position":{"start":{"line":15,"column":72,"offset":790},"end":{"line":15,"column":139,"offset":857},"indent":[]}},{"type":"text","value":" like the ","position":{"start":{"line":15,"column":139,"offset":857},"end":{"line":15,"column":149,"offset":867},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/waf/","children":[{"type":"text","value":"WAF","position":{"start":{"line":15,"column":150,"offset":868},"end":{"line":15,"column":153,"offset":871},"indent":[]}}],"position":{"start":{"line":15,"column":149,"offset":867},"end":{"line":15,"column":194,"offset":912},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":15,"column":194,"offset":912},"end":{"line":15,"column":198,"offset":916},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/rules/transform","children":[{"type":"text","value":"Transform Rules","position":{"start":{"line":15,"column":199,"offset":917},"end":{"line":15,"column":214,"offset":932},"indent":[]}}],"position":{"start":{"line":15,"column":198,"offset":916},"end":{"line":15,"column":266,"offset":984},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":15,"column":266,"offset":984},"end":{"line":15,"column":267,"offset":985},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":721},"end":{"line":15,"column":267,"offset":985},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":719},"end":{"line":16,"column":1,"offset":986},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"You can use ","position":{"start":{"line":17,"column":3,"offset":989},"end":{"line":17,"column":15,"offset":1001},"indent":[]}},{"type":"link","title":null,"url":"https://support.cloudflare.com/hc/articles/217074967","children":[{"type":"text","value":"IP Access Rules","position":{"start":{"line":17,"column":16,"offset":1002},"end":{"line":17,"column":31,"offset":1017},"indent":[]}}],"position":{"start":{"line":17,"column":15,"offset":1001},"end":{"line":17,"column":86,"offset":1072},"indent":[]}},{"type":"text","value":" to allowlist requests under certain conditions, effectively excluding these requests from all security checks. However, allowing a given country code will not bypass the ","position":{"start":{"line":17,"column":86,"offset":1072},"end":{"line":17,"column":257,"offset":1243},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/waf/","children":[{"type":"text","value":"Cloudflare Web Application Firewall (WAF)","position":{"start":{"line":17,"column":258,"offset":1244},"end":{"line":17,"column":299,"offset":1285},"indent":[]}}],"position":{"start":{"line":17,"column":257,"offset":1243},"end":{"line":17,"column":340,"offset":1326},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":17,"column":340,"offset":1326},"end":{"line":17,"column":341,"offset":1327},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":989},"end":{"line":17,"column":341,"offset":1327},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":987},"end":{"line":17,"column":341,"offset":1327},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":719},"end":{"line":17,"column":341,"offset":1327},"indent":[1,1]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":19,"column":1,"offset":1329},"end":{"line":19,"column":9,"offset":1337},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"By default, Cloudflare evaluates Firewall Rules in ","position":{"start":{"line":21,"column":1,"offset":1339},"end":{"line":21,"column":52,"offset":1390},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"list order","position":{"start":{"line":21,"column":54,"offset":1392},"end":{"line":21,"column":64,"offset":1402},"indent":[]}}],"position":{"start":{"line":21,"column":52,"offset":1390},"end":{"line":21,"column":66,"offset":1404},"indent":[]}},{"type":"text","value":", where rules are evaluated in the order they appear in the Firewall Rules ","position":{"start":{"line":21,"column":66,"offset":1404},"end":{"line":21,"column":141,"offset":1479},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rules List","position":{"start":{"line":21,"column":143,"offset":1481},"end":{"line":21,"column":153,"offset":1491},"indent":[]}}],"position":{"start":{"line":21,"column":141,"offset":1479},"end":{"line":21,"column":155,"offset":1493},"indent":[]}},{"type":"text","value":". List ordering is convenient when working with small numbers of rules because you can manage their order by dragging and dropping them into position. However, as the number of rules grows, managing rules in list order becomes difficult. This is where priority order comes into play.","position":{"start":{"line":21,"column":155,"offset":1493},"end":{"line":21,"column":438,"offset":1776},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1339},"end":{"line":21,"column":438,"offset":1776},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When ","position":{"start":{"line":23,"column":1,"offset":1778},"end":{"line":23,"column":6,"offset":1783},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"priority ordering","position":{"start":{"line":23,"column":8,"offset":1785},"end":{"line":23,"column":25,"offset":1802},"indent":[]}}],"position":{"start":{"line":23,"column":6,"offset":1783},"end":{"line":23,"column":27,"offset":1804},"indent":[]}},{"type":"text","value":" is enabled, Cloudflare evaluates Firewall Rules in order of their ","position":{"start":{"line":23,"column":27,"offset":1804},"end":{"line":23,"column":94,"offset":1871},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"priority number","position":{"start":{"line":23,"column":96,"offset":1873},"end":{"line":23,"column":111,"offset":1888},"indent":[]}}],"position":{"start":{"line":23,"column":94,"offset":1871},"end":{"line":23,"column":113,"offset":1890},"indent":[]}},{"type":"text","value":", starting with the lowest. If a request matches two rules with the same priority, action precedence is used to resolve the tie. In this case, only the action of the rule with the highest precedence is executed, unless that action is ","position":{"start":{"line":23,"column":113,"offset":1890},"end":{"line":23,"column":347,"offset":2124},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Log","position":{"start":{"line":23,"column":348,"offset":2125},"end":{"line":23,"column":351,"offset":2128},"indent":[]}}],"position":{"start":{"line":23,"column":347,"offset":2124},"end":{"line":23,"column":352,"offset":2129},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":23,"column":352,"offset":2129},"end":{"line":23,"column":356,"offset":2133},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Bypass","position":{"start":{"line":23,"column":357,"offset":2134},"end":{"line":23,"column":363,"offset":2140},"indent":[]}}],"position":{"start":{"line":23,"column":356,"offset":2133},"end":{"line":23,"column":364,"offset":2141},"indent":[]}},{"type":"text","value":" (refer to ","position":{"start":{"line":23,"column":364,"offset":2141},"end":{"line":23,"column":375,"offset":2152},"indent":[]}},{"type":"link","title":null,"url":"/cf-firewall-rules/actions#supported-actions","children":[{"type":"text","value":"Firewall Rules actions","position":{"start":{"line":23,"column":376,"offset":2153},"end":{"line":23,"column":398,"offset":2175},"indent":[]}}],"position":{"start":{"line":23,"column":375,"offset":2152},"end":{"line":23,"column":445,"offset":2222},"indent":[]}},{"type":"text","value":" for details). Priority ordering makes it a lot easier to manage large numbers of Firewall Rules, and once the number of rules passes 200, Cloudflare requires it.","position":{"start":{"line":23,"column":445,"offset":2222},"end":{"line":23,"column":607,"offset":2384},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1778},"end":{"line":23,"column":607,"offset":2384},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Managing rule evaluation by list order","position":{"start":{"line":25,"column":4,"offset":2389},"end":{"line":25,"column":42,"offset":2427},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":2386},"end":{"line":25,"column":42,"offset":2427},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Users with relatively small numbers of Firewall Rules (no more than 200) will find that list ordering is enabled by default. When list ordering is enabled, the ","position":{"start":{"line":27,"column":1,"offset":2429},"end":{"line":27,"column":161,"offset":2589},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rules List","position":{"start":{"line":27,"column":163,"offset":2591},"end":{"line":27,"column":173,"offset":2601},"indent":[]}}],"position":{"start":{"line":27,"column":161,"offset":2589},"end":{"line":27,"column":175,"offset":2603},"indent":[]}},{"type":"text","value":" allows you to drag and drop Firewall Rules into position, as shown below:","position":{"start":{"line":27,"column":175,"offset":2603},"end":{"line":27,"column":249,"offset":2677},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":2429},"end":{"line":27,"column":249,"offset":2677},"indent":[]}},{"type":"jsx","value":"<img src={firewallRulesOrderAndPriority2} />","position":{"start":{"line":29,"column":1,"offset":2679},"end":{"line":29,"column":45,"offset":2723},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Once there are more than 200 total rules, including inactive rules, you must manage evaluation using priority ordering. When you cross this threshold, the Firewall Rules interface automatically switches to priority ordering.","position":{"start":{"line":31,"column":1,"offset":2725},"end":{"line":31,"column":225,"offset":2949},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":2725},"end":{"line":31,"column":225,"offset":2949},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Managing rule evaluation by priority order","position":{"start":{"line":33,"column":4,"offset":2954},"end":{"line":33,"column":46,"offset":2996},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":2951},"end":{"line":33,"column":46,"offset":2996},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Although priority ordering is enabled automatically when the number of active and inactive Firewall Rules exceeds 200, you can manually enable priority ordering at any time from the ","position":{"start":{"line":35,"column":1,"offset":2998},"end":{"line":35,"column":183,"offset":3180},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rules List","position":{"start":{"line":35,"column":185,"offset":3182},"end":{"line":35,"column":195,"offset":3192},"indent":[]}}],"position":{"start":{"line":35,"column":183,"offset":3180},"end":{"line":35,"column":197,"offset":3194},"indent":[]}},{"type":"text","value":". To manually enable priority ordering, click ","position":{"start":{"line":35,"column":197,"offset":3194},"end":{"line":35,"column":243,"offset":3240},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Ordering","position":{"start":{"line":35,"column":245,"offset":3242},"end":{"line":35,"column":253,"offset":3250},"indent":[]}}],"position":{"start":{"line":35,"column":243,"offset":3240},"end":{"line":35,"column":255,"offset":3252},"indent":[]}},{"type":"text","value":" and then select the ","position":{"start":{"line":35,"column":255,"offset":3252},"end":{"line":35,"column":276,"offset":3273},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Priority Numbers","position":{"start":{"line":35,"column":278,"offset":3275},"end":{"line":35,"column":294,"offset":3291},"indent":[]}}],"position":{"start":{"line":35,"column":276,"offset":3273},"end":{"line":35,"column":296,"offset":3293},"indent":[]}},{"type":"text","value":" radio button, as shown below:","position":{"start":{"line":35,"column":296,"offset":3293},"end":{"line":35,"column":326,"offset":3323},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2998},"end":{"line":35,"column":326,"offset":3323},"indent":[]}},{"type":"jsx","value":"<img src={firewallRulesOrderAndPriority3} />","position":{"start":{"line":37,"column":1,"offset":3325},"end":{"line":37,"column":45,"offset":3369},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Once priority ordering is enabled, you can set a priority number for each Firewall Rule.","position":{"start":{"line":39,"column":1,"offset":3371},"end":{"line":39,"column":89,"offset":3459},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":3371},"end":{"line":39,"column":89,"offset":3459},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To set the priority number for a Firewall Rule, follow these steps:","position":{"start":{"line":41,"column":1,"offset":3461},"end":{"line":41,"column":68,"offset":3528},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":3461},"end":{"line":41,"column":68,"offset":3528},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Locate the desired rule in the ","position":{"start":{"line":43,"column":4,"offset":3533},"end":{"line":43,"column":35,"offset":3564},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rules List","position":{"start":{"line":43,"column":37,"offset":3566},"end":{"line":43,"column":47,"offset":3576},"indent":[]}}],"position":{"start":{"line":43,"column":35,"offset":3564},"end":{"line":43,"column":49,"offset":3578},"indent":[]}},{"type":"text","value":" and click the associated ","position":{"start":{"line":43,"column":49,"offset":3578},"end":{"line":43,"column":75,"offset":3604},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Edit","position":{"start":{"line":43,"column":77,"offset":3606},"end":{"line":43,"column":81,"offset":3610},"indent":[]}}],"position":{"start":{"line":43,"column":75,"offset":3604},"end":{"line":43,"column":83,"offset":3612},"indent":[]}},{"type":"text","value":" button (wrench icon).","position":{"start":{"line":43,"column":83,"offset":3612},"end":{"line":43,"column":105,"offset":3634},"indent":[]}}],"position":{"start":{"line":43,"column":4,"offset":3533},"end":{"line":43,"column":105,"offset":3634},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":45,"column":4,"offset":3639},"end":{"line":45,"column":8,"offset":3643},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Edit Firewall Rule","position":{"start":{"line":45,"column":10,"offset":3645},"end":{"line":45,"column":28,"offset":3663},"indent":[]}}],"position":{"start":{"line":45,"column":8,"offset":3643},"end":{"line":45,"column":30,"offset":3665},"indent":[]}},{"type":"text","value":" panel will open.","position":{"start":{"line":45,"column":30,"offset":3665},"end":{"line":45,"column":47,"offset":3682},"indent":[]}}],"position":{"start":{"line":45,"column":4,"offset":3639},"end":{"line":45,"column":47,"offset":3682},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":3530},"end":{"line":46,"column":1,"offset":3683},"indent":[1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Locate the ","position":{"start":{"line":47,"column":4,"offset":3687},"end":{"line":47,"column":15,"offset":3698},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Priority","position":{"start":{"line":47,"column":17,"offset":3700},"end":{"line":47,"column":25,"offset":3708},"indent":[]}}],"position":{"start":{"line":47,"column":15,"offset":3698},"end":{"line":47,"column":27,"offset":3710},"indent":[]}},{"type":"text","value":" field and enter a positive integer value.","position":{"start":{"line":47,"column":27,"offset":3710},"end":{"line":47,"column":69,"offset":3752},"indent":[]}}],"position":{"start":{"line":47,"column":4,"offset":3687},"end":{"line":47,"column":69,"offset":3752},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":3684},"end":{"line":47,"column":69,"offset":3752},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":3530},"end":{"line":47,"column":69,"offset":3752},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../images/firewall-rules-order-and-priority-4.png","alt":"Edit Firewall Rule page","position":{"start":{"line":49,"column":1,"offset":3754},"end":{"line":49,"column":78,"offset":3831},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":3754},"end":{"line":49,"column":78,"offset":3831},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":51,"column":4,"offset":3836},"end":{"line":51,"column":10,"offset":3842},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Save","position":{"start":{"line":51,"column":12,"offset":3844},"end":{"line":51,"column":16,"offset":3848},"indent":[]}}],"position":{"start":{"line":51,"column":10,"offset":3842},"end":{"line":51,"column":18,"offset":3850},"indent":[]}},{"type":"text","value":" to commit your changes and return to the ","position":{"start":{"line":51,"column":18,"offset":3850},"end":{"line":51,"column":60,"offset":3892},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rules List","position":{"start":{"line":51,"column":62,"offset":3894},"end":{"line":51,"column":72,"offset":3904},"indent":[]}}],"position":{"start":{"line":51,"column":60,"offset":3892},"end":{"line":51,"column":74,"offset":3906},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":51,"column":74,"offset":3906},"end":{"line":51,"column":75,"offset":3907},"indent":[]}}],"position":{"start":{"line":51,"column":4,"offset":3836},"end":{"line":51,"column":75,"offset":3907},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":3833},"end":{"line":51,"column":75,"offset":3907},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":3833},"end":{"line":51,"column":75,"offset":3907},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":53,"column":1,"offset":3909},"end":{"line":53,"column":5,"offset":3913},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Priority","position":{"start":{"line":53,"column":7,"offset":3915},"end":{"line":53,"column":15,"offset":3923},"indent":[]}}],"position":{"start":{"line":53,"column":5,"offset":3913},"end":{"line":53,"column":17,"offset":3925},"indent":[]}},{"type":"text","value":" column displays the priority value for each rule.","position":{"start":{"line":53,"column":17,"offset":3925},"end":{"line":53,"column":67,"offset":3975},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":3909},"end":{"line":53,"column":67,"offset":3975},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../images/firewall-rules-order-and-priority-5.png","alt":"Firewall Rules tab","position":{"start":{"line":55,"column":1,"offset":3977},"end":{"line":55,"column":73,"offset":4049},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":3977},"end":{"line":55,"column":73,"offset":4049},"indent":[]}},{"type":"jsx","value":"<Aside type='note' header='Note'>","position":{"start":{"line":57,"column":1,"offset":4051},"end":{"line":57,"column":34,"offset":4084},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Firewall Rules does not impose default priorities, and you are not required to set a priority for every rule.","position":{"start":{"line":59,"column":1,"offset":4086},"end":{"line":59,"column":110,"offset":4195},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":4086},"end":{"line":59,"column":110,"offset":4195},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":61,"column":1,"offset":4197},"end":{"line":61,"column":9,"offset":4205},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Working with priority ordering","position":{"start":{"line":63,"column":4,"offset":4210},"end":{"line":63,"column":34,"offset":4240},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":4207},"end":{"line":63,"column":34,"offset":4240},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cloudflare has designed priority ordering to be extremely flexible. This flexibility is particularly useful for managing large rulesets programmatically via the Cloudflare API. Use the Update Firewall Rules command to set the ","position":{"start":{"line":65,"column":1,"offset":4242},"end":{"line":65,"column":227,"offset":4468},"indent":[]}},{"type":"inlineCode","value":"priority","position":{"start":{"line":65,"column":227,"offset":4468},"end":{"line":65,"column":237,"offset":4478},"indent":[]}},{"type":"text","value":" property. Refer to ","position":{"start":{"line":65,"column":237,"offset":4478},"end":{"line":65,"column":257,"offset":4498},"indent":[]}},{"type":"link","title":null,"url":"https://api.cloudflare.com/#firewall-rules-properties","children":[{"type":"text","value":"Cloudflare API: Firewall Rules","position":{"start":{"line":65,"column":258,"offset":4499},"end":{"line":65,"column":288,"offset":4529},"indent":[]}}],"position":{"start":{"line":65,"column":257,"offset":4498},"end":{"line":65,"column":344,"offset":4585},"indent":[]}},{"type":"text","value":" for details.","position":{"start":{"line":65,"column":344,"offset":4585},"end":{"line":65,"column":357,"offset":4598},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":4242},"end":{"line":65,"column":357,"offset":4598},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"While your priority numbering scheme can be arbitrary, keep the following in mind:","position":{"start":{"line":67,"column":1,"offset":4600},"end":{"line":67,"column":83,"offset":4682},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":4600},"end":{"line":67,"column":83,"offset":4682},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"The evaluation sequence starts from the lowest priority number","position":{"start":{"line":69,"column":5,"offset":4688},"end":{"line":69,"column":67,"offset":4750},"indent":[]}}],"position":{"start":{"line":69,"column":3,"offset":4686},"end":{"line":69,"column":69,"offset":4752},"indent":[]}},{"type":"text","value":" and goes to the highest.","position":{"start":{"line":69,"column":69,"offset":4752},"end":{"line":69,"column":94,"offset":4777},"indent":[]}}],"position":{"start":{"line":69,"column":3,"offset":4686},"end":{"line":69,"column":94,"offset":4777},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":4684},"end":{"line":69,"column":94,"offset":4777},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Rules without a priority number are evaluated last","position":{"start":{"line":70,"column":5,"offset":4782},"end":{"line":70,"column":55,"offset":4832},"indent":[]}}],"position":{"start":{"line":70,"column":3,"offset":4780},"end":{"line":70,"column":57,"offset":4834},"indent":[]}},{"type":"text","value":", in order of their action precedence. For example, a rule with the ","position":{"start":{"line":70,"column":57,"offset":4834},"end":{"line":70,"column":125,"offset":4902},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Log","position":{"start":{"line":70,"column":126,"offset":4903},"end":{"line":70,"column":129,"offset":4906},"indent":[]}}],"position":{"start":{"line":70,"column":125,"offset":4902},"end":{"line":70,"column":130,"offset":4907},"indent":[]}},{"type":"text","value":" action is evaluated before a rule that has the ","position":{"start":{"line":70,"column":130,"offset":4907},"end":{"line":70,"column":178,"offset":4955},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Block","position":{"start":{"line":70,"column":179,"offset":4956},"end":{"line":70,"column":184,"offset":4961},"indent":[]}}],"position":{"start":{"line":70,"column":178,"offset":4955},"end":{"line":70,"column":185,"offset":4962},"indent":[]}},{"type":"text","value":" action. For more on action precedence, refer to ","position":{"start":{"line":70,"column":185,"offset":4962},"end":{"line":70,"column":234,"offset":5011},"indent":[]}},{"type":"link","title":null,"url":"/cf-firewall-rules/actions","children":[{"type":"text","value":"Firewall Rules actions","position":{"start":{"line":70,"column":235,"offset":5012},"end":{"line":70,"column":257,"offset":5034},"indent":[]}}],"position":{"start":{"line":70,"column":234,"offset":5011},"end":{"line":70,"column":286,"offset":5063},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":70,"column":286,"offset":5063},"end":{"line":70,"column":287,"offset":5064},"indent":[]}}],"position":{"start":{"line":70,"column":3,"offset":4780},"end":{"line":70,"column":287,"offset":5064},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":4778},"end":{"line":70,"column":287,"offset":5064},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Avoid using the number 1 as a priority","position":{"start":{"line":71,"column":5,"offset":5069},"end":{"line":71,"column":43,"offset":5107},"indent":[]}}],"position":{"start":{"line":71,"column":3,"offset":5067},"end":{"line":71,"column":45,"offset":5109},"indent":[]}},{"type":"text","value":" so that you can easily maintain and modify rule order.","position":{"start":{"line":71,"column":45,"offset":5109},"end":{"line":71,"column":100,"offset":5164},"indent":[]}}],"position":{"start":{"line":71,"column":3,"offset":5067},"end":{"line":71,"column":100,"offset":5164},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":5065},"end":{"line":71,"column":100,"offset":5164},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Consider grouping ranges of priority numbers into categories","position":{"start":{"line":72,"column":5,"offset":5169},"end":{"line":72,"column":65,"offset":5229},"indent":[]}}],"position":{"start":{"line":72,"column":3,"offset":5167},"end":{"line":72,"column":67,"offset":5231},"indent":[]}},{"type":"text","value":" that have some meaning for your deployment. Here are some examples:","position":{"start":{"line":72,"column":67,"offset":5231},"end":{"line":72,"column":135,"offset":5299},"indent":[]}}],"position":{"start":{"line":72,"column":3,"offset":5167},"end":{"line":72,"column":135,"offset":5299},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"5000-9999: Trusted IP addresses","position":{"start":{"line":73,"column":5,"offset":5304},"end":{"line":73,"column":36,"offset":5335},"indent":[]}}],"position":{"start":{"line":73,"column":5,"offset":5304},"end":{"line":73,"column":36,"offset":5335},"indent":[]}}],"position":{"start":{"line":73,"column":3,"offset":5302},"end":{"line":73,"column":36,"offset":5335},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"10000-19999: Blocking rules for bad crawlers","position":{"start":{"line":74,"column":5,"offset":5340},"end":{"line":74,"column":49,"offset":5384},"indent":[]}}],"position":{"start":{"line":74,"column":5,"offset":5340},"end":{"line":74,"column":49,"offset":5384},"indent":[]}}],"position":{"start":{"line":74,"column":3,"offset":5338},"end":{"line":74,"column":49,"offset":5384},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"20000-29999: Blocking rules for abusive users/spam","position":{"start":{"line":75,"column":5,"offset":5389},"end":{"line":75,"column":55,"offset":5439},"indent":[]}}],"position":{"start":{"line":75,"column":5,"offset":5389},"end":{"line":75,"column":55,"offset":5439},"indent":[]}}],"position":{"start":{"line":75,"column":3,"offset":5387},"end":{"line":75,"column":55,"offset":5439},"indent":[]}}],"position":{"start":{"line":73,"column":3,"offset":5302},"end":{"line":75,"column":55,"offset":5439},"indent":[3,3]}}],"position":{"start":{"line":72,"column":1,"offset":5165},"end":{"line":75,"column":55,"offset":5439},"indent":[1,1,1]}}],"position":{"start":{"line":69,"column":1,"offset":4684},"end":{"line":75,"column":55,"offset":5439},"indent":[1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {\"pcx-content-type\":\"concept\",\"order\":230}","position":{"start":{"line":78,"column":1,"offset":5442},"end":{"line":78,"column":71,"offset":5512},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":78,"column":71,"offset":5512}}},"scopeImports":["import firewallRulesOrderAndPriority2 from '../images/firewall-rules-order-and-priority-2.gif'","import firewallRulesOrderAndPriority3 from '../images/firewall-rules-order-and-priority-3.gif'","import * as React from 'react'"],"scopeIdentifiers":["firewallRulesOrderAndPriority2","firewallRulesOrderAndPriority3","React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"pcx-content-type\": \"concept\",\n  \"order\": 230\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"order-and-priority\"\n  }, \"Order and priority\"), mdx(\"h2\", {\n    \"id\": \"overview\"\n  }, \"Overview\"), mdx(\"p\", null, \"Cloudflare Firewall Rules is part of a larger evaluation chain for HTTP requests, as illustrated in the diagram below (click the image to view a larger version). For example, Firewall Rules only evaluates requests that first clear IP Access Rules. If a request is blocked by a rule at any stage in the chain, Cloudflare does not evaluate the request further.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1382px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/29007/firewall-rules-order-and-priority-1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"53.75722543352601%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABCklEQVQoz5WQzU6EMBRGeU3jg8wruHRnjD6C0ZU7M8bMEAlVO8AU5K+NUYkMOBFkAszQXivVjQsD36JNmpx7vlvtNf+4mc2f7Vs4n6R4OjeQ57q6rnueZxgGIcQ0Tdu2McZ3CC0sCyHTcb1TlCRFrWVFdY8XaeTA1eH6EWHHZYxalsUYkwyldElIHMe+78txQRgSsowouyBZXrUa9BFClC2XJ4yJJnoSBN9uStHtBOfq5f/wXvNr7nbFe7Ztahgj/4GBd22R82YDTTWc12Th7/stgOM9uD6Ck31IQ/UNg81S+PQgVpQHM6g/1SqDYdVdDhkC/YVVyVUkLg+gTEfWVpsnLpxNYP0yEP4CCMh12SRWwqgAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Firewall Rules order and priority\",\n    \"title\": \"Firewall Rules order and priority\",\n    \"src\": \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/f868f/firewall-rules-order-and-priority-1.png\",\n    \"srcSet\": [\"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/8f77f/firewall-rules-order-and-priority-1.png 346w\", \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/e185b/firewall-rules-order-and-priority-1.png 691w\", \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/f868f/firewall-rules-order-and-priority-1.png 1382w\", \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/29007/firewall-rules-order-and-priority-1.png 1600w\"],\n    \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(Aside, {\n    type: \"warning\",\n    header: \"Important\",\n    mdxType: \"Aside\"\n  }, mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The execution order diagram does not include products powered by the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/\"\n  }, \"Ruleset Engine\"), \" like the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/waf/\"\n  }, \"WAF\"), \" or \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/rules/transform\"\n  }, \"Transform Rules\"), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"You can use \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://support.cloudflare.com/hc/articles/217074967\"\n  }, \"IP Access Rules\"), \" to allowlist requests under certain conditions, effectively excluding these requests from all security checks. However, allowing a given country code will not bypass the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/waf/\"\n  }, \"Cloudflare Web Application Firewall (WAF)\"), \".\")))), mdx(\"p\", null, \"By default, Cloudflare evaluates Firewall Rules in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"list order\"), \", where rules are evaluated in the order they appear in the Firewall Rules \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rules List\"), \". List ordering is convenient when working with small numbers of rules because you can manage their order by dragging and dropping them into position. However, as the number of rules grows, managing rules in list order becomes difficult. This is where priority order comes into play.\"), mdx(\"p\", null, \"When \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"priority ordering\"), \" is enabled, Cloudflare evaluates Firewall Rules in order of their \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"priority number\"), \", starting with the lowest. If a request matches two rules with the same priority, action precedence is used to resolve the tie. In this case, only the action of the rule with the highest precedence is executed, unless that action is \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Log\"), \" or \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Bypass\"), \" (refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-firewall-rules/actions#supported-actions\"\n  }, \"Firewall Rules actions\"), \" for details). Priority ordering makes it a lot easier to manage large numbers of Firewall Rules, and once the number of rules passes 200, Cloudflare requires it.\"), mdx(\"h2\", {\n    \"id\": \"managing-rule-evaluation-by-list-order\"\n  }, \"Managing rule evaluation by list order\"), mdx(\"p\", null, \"Users with relatively small numbers of Firewall Rules (no more than 200) will find that list ordering is enabled by default. When list ordering is enabled, the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rules List\"), \" allows you to drag and drop Firewall Rules into position, as shown below:\"), mdx(\"img\", {\n    src: firewallRulesOrderAndPriority2\n  }), mdx(\"p\", null, \"Once there are more than 200 total rules, including inactive rules, you must manage evaluation using priority ordering. When you cross this threshold, the Firewall Rules interface automatically switches to priority ordering.\"), mdx(\"h2\", {\n    \"id\": \"managing-rule-evaluation-by-priority-order\"\n  }, \"Managing rule evaluation by priority order\"), mdx(\"p\", null, \"Although priority ordering is enabled automatically when the number of active and inactive Firewall Rules exceeds 200, you can manually enable priority ordering at any time from the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rules List\"), \". To manually enable priority ordering, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Ordering\"), \" and then select the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Priority Numbers\"), \" radio button, as shown below:\"), mdx(\"img\", {\n    src: firewallRulesOrderAndPriority3\n  }), mdx(\"p\", null, \"Once priority ordering is enabled, you can set a priority number for each Firewall Rule.\"), mdx(\"p\", null, \"To set the priority number for a Firewall Rule, follow these steps:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Locate the desired rule in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rules List\"), \" and click the associated \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Edit\"), \" button (wrench icon).\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Edit Firewall Rule\"), \" panel will open.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Locate the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Priority\"), \" field and enter a positive integer value.\"))), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/76da699403fa23304ec40c291e0286f2/d9199/firewall-rules-order-and-priority-4.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75.14450867052024%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Edit Firewall Rule page\",\n    \"title\": \"Edit Firewall Rule page\",\n    \"src\": \"/static/76da699403fa23304ec40c291e0286f2/d9199/firewall-rules-order-and-priority-4.png\",\n    \"srcSet\": [\"/static/76da699403fa23304ec40c291e0286f2/8f77f/firewall-rules-order-and-priority-4.png 346w\", \"/static/76da699403fa23304ec40c291e0286f2/e185b/firewall-rules-order-and-priority-4.png 691w\", \"/static/76da699403fa23304ec40c291e0286f2/d9199/firewall-rules-order-and-priority-4.png 960w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Save\"), \" to commit your changes and return to the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Rules List\"), \".\")), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Priority\"), \" column displays the priority value for each rule.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1382px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4d0941d72d625742fbd67735ff385a16/45662/firewall-rules-order-and-priority-5.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"65.60693641618496%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABvElEQVQoz3WSzW7bMBCE+f4v0T5BTr31kBq9JEHdImjgGIJtxXXkxKJs/VgSJVKU+pFMAqNAB4SwpHZ2Z4cUeVHsdrtkv2/bdvIY32GtDV+lur7rp3GYJssax6HjoOtFnueJR5qmxKfTKcuy4/FYelRVZQZSu3PdXt2tP8+Wn2bLL/OYEyqKuq5zD2hSSmiQ2Ya2AeTVjfp6v4V/dbv+9rBTSrWtEpQPfWgCHxpktoHMFMYM5OleX8geh8FqbZxsmpNqjAl9wthFUfR9zzlltdaDA7SJmkz1ejg0TSNo6ESTW5ZMAgFJBK1SWve4SILy0L46NZ6TfbRaI1I8J8kmjlMpn7ZbBMssWywWURSlHnEcr1YrvicP0tJMFmURWgq6I9jLKylMjCpnQFV52aNzW5tOa8a5/jN/zJ/UuV1vNjgloIUhEUbAlpIwUc5WY4xfIa0x3c18/riMmNnJ/nAI21xgnVXueo0JL2Z6ey929E/o5vbu/vfDIZX5B5l/53Md/OCN4B7B5VPzN+eaX8++//j5a//yKrOjwNW6buwFwn3Z/8A4UNdSUrjrc/OEGx4vwfaf5VR4pUXTN53+Cwl/5xcD2H9VAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Firewall Rules tab\",\n    \"title\": \"Firewall Rules tab\",\n    \"src\": \"/static/4d0941d72d625742fbd67735ff385a16/f868f/firewall-rules-order-and-priority-5.png\",\n    \"srcSet\": [\"/static/4d0941d72d625742fbd67735ff385a16/8f77f/firewall-rules-order-and-priority-5.png 346w\", \"/static/4d0941d72d625742fbd67735ff385a16/e185b/firewall-rules-order-and-priority-5.png 691w\", \"/static/4d0941d72d625742fbd67735ff385a16/f868f/firewall-rules-order-and-priority-5.png 1382w\", \"/static/4d0941d72d625742fbd67735ff385a16/45662/firewall-rules-order-and-priority-5.png 1410w\"],\n    \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(Aside, {\n    type: \"note\",\n    header: \"Note\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Firewall Rules does not impose default priorities, and you are not required to set a priority for every rule.\")), mdx(\"h2\", {\n    \"id\": \"working-with-priority-ordering\"\n  }, \"Working with priority ordering\"), mdx(\"p\", null, \"Cloudflare has designed priority ordering to be extremely flexible. This flexibility is particularly useful for managing large rulesets programmatically via the Cloudflare API. Use the Update Firewall Rules command to set the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"priority\"), \" property. Refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://api.cloudflare.com/#firewall-rules-properties\"\n  }, \"Cloudflare API: Firewall Rules\"), \" for details.\"), mdx(\"p\", null, \"While your priority numbering scheme can be arbitrary, keep the following in mind:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"The evaluation sequence starts from the lowest priority number\"), \" and goes to the highest.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Rules without a priority number are evaluated last\"), \", in order of their action precedence. For example, a rule with the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Log\"), \" action is evaluated before a rule that has the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Block\"), \" action. For more on action precedence, refer to \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/cf-firewall-rules/actions\"\n  }, \"Firewall Rules actions\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Avoid using the number 1 as a priority\"), \" so that you can easily maintain and modify rule order.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Consider grouping ranges of priority numbers into categories\"), \" that have some meaning for your deployment. Here are some examples:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"5000-9999: Trusted IP addresses\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"10000-19999: Blocking rules for bad crawlers\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"20000-29999: Blocking rules for abusive users/spam\")))));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport firewallRulesOrderAndPriority2 from '../images/firewall-rules-order-and-priority-2.gif'\nimport firewallRulesOrderAndPriority3 from '../images/firewall-rules-order-and-priority-3.gif'\nexport const _frontmatter = {\n  \"pcx-content-type\": \"concept\",\n  \"order\": 230\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst Aside = makeShortcode(\"Aside\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"order-and-priority\"\n    }}>{`Order and priority`}</h1>\n\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`Cloudflare Firewall Rules is part of a larger evaluation chain for HTTP requests, as illustrated in the diagram below (click the image to view a larger version). For example, Firewall Rules only evaluates requests that first clear IP Access Rules. If a request is blocked by a rule at any stage in the chain, Cloudflare does not evaluate the request further.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1382px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/29007/firewall-rules-order-and-priority-1.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"53.75722543352601%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABCklEQVQoz5WQzU6EMBRGeU3jg8wruHRnjD6C0ZU7M8bMEAlVO8AU5K+NUYkMOBFkAszQXivVjQsD36JNmpx7vlvtNf+4mc2f7Vs4n6R4OjeQ57q6rnueZxgGIcQ0Tdu2McZ3CC0sCyHTcb1TlCRFrWVFdY8XaeTA1eH6EWHHZYxalsUYkwyldElIHMe+78txQRgSsowouyBZXrUa9BFClC2XJ4yJJnoSBN9uStHtBOfq5f/wXvNr7nbFe7Ztahgj/4GBd22R82YDTTWc12Th7/stgOM9uD6Ck31IQ/UNg81S+PQgVpQHM6g/1SqDYdVdDhkC/YVVyVUkLg+gTEfWVpsnLpxNYP0yEP4CCMh12SRWwqgAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Firewall Rules order and priority\",\n            \"title\": \"Firewall Rules order and priority\",\n            \"src\": \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/f868f/firewall-rules-order-and-priority-1.png\",\n            \"srcSet\": [\"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/8f77f/firewall-rules-order-and-priority-1.png 346w\", \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/e185b/firewall-rules-order-and-priority-1.png 691w\", \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/f868f/firewall-rules-order-and-priority-1.png 1382w\", \"/static/5bbd49ff428e4d4f2f3d3b8688a8a8f3/29007/firewall-rules-order-and-priority-1.png 1600w\"],\n            \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <Aside type=\"warning\" header=\"Important\" mdxType=\"Aside\">\n      <ul>\n        <li parentName=\"ul\">\n          <p parentName=\"li\">{`The execution order diagram does not include products powered by the `}<a parentName=\"p\" {...{\n              \"href\": \"https://developers.cloudflare.com/ruleset-engine/\"\n            }}>{`Ruleset Engine`}</a>{` like the `}<a parentName=\"p\" {...{\n              \"href\": \"https://developers.cloudflare.com/waf/\"\n            }}>{`WAF`}</a>{` or `}<a parentName=\"p\" {...{\n              \"href\": \"https://developers.cloudflare.com/rules/transform\"\n            }}>{`Transform Rules`}</a>{`.`}</p>\n        </li>\n        <li parentName=\"ul\">\n          <p parentName=\"li\">{`You can use `}<a parentName=\"p\" {...{\n              \"href\": \"https://support.cloudflare.com/hc/articles/217074967\"\n            }}>{`IP Access Rules`}</a>{` to allowlist requests under certain conditions, effectively excluding these requests from all security checks. However, allowing a given country code will not bypass the `}<a parentName=\"p\" {...{\n              \"href\": \"https://developers.cloudflare.com/waf/\"\n            }}>{`Cloudflare Web Application Firewall (WAF)`}</a>{`.`}</p>\n        </li>\n      </ul>\n    </Aside>\n    <p>{`By default, Cloudflare evaluates Firewall Rules in `}<strong parentName=\"p\">{`list order`}</strong>{`, where rules are evaluated in the order they appear in the Firewall Rules `}<strong parentName=\"p\">{`Rules List`}</strong>{`. List ordering is convenient when working with small numbers of rules because you can manage their order by dragging and dropping them into position. However, as the number of rules grows, managing rules in list order becomes difficult. This is where priority order comes into play.`}</p>\n    <p>{`When `}<strong parentName=\"p\">{`priority ordering`}</strong>{` is enabled, Cloudflare evaluates Firewall Rules in order of their `}<strong parentName=\"p\">{`priority number`}</strong>{`, starting with the lowest. If a request matches two rules with the same priority, action precedence is used to resolve the tie. In this case, only the action of the rule with the highest precedence is executed, unless that action is `}<em parentName=\"p\">{`Log`}</em>{` or `}<em parentName=\"p\">{`Bypass`}</em>{` (refer to `}<a parentName=\"p\" {...{\n        \"href\": \"/cf-firewall-rules/actions#supported-actions\"\n      }}>{`Firewall Rules actions`}</a>{` for details). Priority ordering makes it a lot easier to manage large numbers of Firewall Rules, and once the number of rules passes 200, Cloudflare requires it.`}</p>\n    <h2 {...{\n      \"id\": \"managing-rule-evaluation-by-list-order\"\n    }}>{`Managing rule evaluation by list order`}</h2>\n    <p>{`Users with relatively small numbers of Firewall Rules (no more than 200) will find that list ordering is enabled by default. When list ordering is enabled, the `}<strong parentName=\"p\">{`Rules List`}</strong>{` allows you to drag and drop Firewall Rules into position, as shown below:`}</p>\n    <img src={firewallRulesOrderAndPriority2} />\n    <p>{`Once there are more than 200 total rules, including inactive rules, you must manage evaluation using priority ordering. When you cross this threshold, the Firewall Rules interface automatically switches to priority ordering.`}</p>\n    <h2 {...{\n      \"id\": \"managing-rule-evaluation-by-priority-order\"\n    }}>{`Managing rule evaluation by priority order`}</h2>\n    <p>{`Although priority ordering is enabled automatically when the number of active and inactive Firewall Rules exceeds 200, you can manually enable priority ordering at any time from the `}<strong parentName=\"p\">{`Rules List`}</strong>{`. To manually enable priority ordering, click `}<strong parentName=\"p\">{`Ordering`}</strong>{` and then select the `}<strong parentName=\"p\">{`Priority Numbers`}</strong>{` radio button, as shown below:`}</p>\n    <img src={firewallRulesOrderAndPriority3} />\n    <p>{`Once priority ordering is enabled, you can set a priority number for each Firewall Rule.`}</p>\n    <p>{`To set the priority number for a Firewall Rule, follow these steps:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Locate the desired rule in the `}<strong parentName=\"p\">{`Rules List`}</strong>{` and click the associated `}<strong parentName=\"p\">{`Edit`}</strong>{` button (wrench icon).`}</p>\n        <p parentName=\"li\">{`The `}<strong parentName=\"p\">{`Edit Firewall Rule`}</strong>{` panel will open.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Locate the `}<strong parentName=\"p\">{`Priority`}</strong>{` field and enter a positive integer value.`}</p>\n      </li>\n    </ol>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"960px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/76da699403fa23304ec40c291e0286f2/d9199/firewall-rules-order-and-priority-4.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"75.14450867052024%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Edit Firewall Rule page\",\n            \"title\": \"Edit Firewall Rule page\",\n            \"src\": \"/static/76da699403fa23304ec40c291e0286f2/d9199/firewall-rules-order-and-priority-4.png\",\n            \"srcSet\": [\"/static/76da699403fa23304ec40c291e0286f2/8f77f/firewall-rules-order-and-priority-4.png 346w\", \"/static/76da699403fa23304ec40c291e0286f2/e185b/firewall-rules-order-and-priority-4.png 691w\", \"/static/76da699403fa23304ec40c291e0286f2/d9199/firewall-rules-order-and-priority-4.png 960w\"],\n            \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <ol>\n      <li parentName=\"ol\">{`Click `}<strong parentName=\"li\">{`Save`}</strong>{` to commit your changes and return to the `}<strong parentName=\"li\">{`Rules List`}</strong>{`.`}</li>\n    </ol>\n    <p>{`The `}<strong parentName=\"p\">{`Priority`}</strong>{` column displays the priority value for each rule.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1382px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/4d0941d72d625742fbd67735ff385a16/45662/firewall-rules-order-and-priority-5.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"65.60693641618496%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABvElEQVQoz3WSzW7bMBCE+f4v0T5BTr31kBq9JEHdImjgGIJtxXXkxKJs/VgSJVKU+pFMAqNAB4SwpHZ2Z4cUeVHsdrtkv2/bdvIY32GtDV+lur7rp3GYJssax6HjoOtFnueJR5qmxKfTKcuy4/FYelRVZQZSu3PdXt2tP8+Wn2bLL/OYEyqKuq5zD2hSSmiQ2Ya2AeTVjfp6v4V/dbv+9rBTSrWtEpQPfWgCHxpktoHMFMYM5OleX8geh8FqbZxsmpNqjAl9wthFUfR9zzlltdaDA7SJmkz1ejg0TSNo6ESTW5ZMAgFJBK1SWve4SILy0L46NZ6TfbRaI1I8J8kmjlMpn7ZbBMssWywWURSlHnEcr1YrvicP0tJMFmURWgq6I9jLKylMjCpnQFV52aNzW5tOa8a5/jN/zJ/UuV1vNjgloIUhEUbAlpIwUc5WY4xfIa0x3c18/riMmNnJ/nAI21xgnVXueo0JL2Z6ey929E/o5vbu/vfDIZX5B5l/53Md/OCN4B7B5VPzN+eaX8++//j5a//yKrOjwNW6buwFwn3Z/8A4UNdSUrjrc/OEGx4vwfaf5VR4pUXTN53+Cwl/5xcD2H9VAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Firewall Rules tab\",\n            \"title\": \"Firewall Rules tab\",\n            \"src\": \"/static/4d0941d72d625742fbd67735ff385a16/f868f/firewall-rules-order-and-priority-5.png\",\n            \"srcSet\": [\"/static/4d0941d72d625742fbd67735ff385a16/8f77f/firewall-rules-order-and-priority-5.png 346w\", \"/static/4d0941d72d625742fbd67735ff385a16/e185b/firewall-rules-order-and-priority-5.png 691w\", \"/static/4d0941d72d625742fbd67735ff385a16/f868f/firewall-rules-order-and-priority-5.png 1382w\", \"/static/4d0941d72d625742fbd67735ff385a16/45662/firewall-rules-order-and-priority-5.png 1410w\"],\n            \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <Aside type='note' header='Note' mdxType=\"Aside\">\n      <p>{`Firewall Rules does not impose default priorities, and you are not required to set a priority for every rule.`}</p>\n    </Aside>\n    <h2 {...{\n      \"id\": \"working-with-priority-ordering\"\n    }}>{`Working with priority ordering`}</h2>\n    <p>{`Cloudflare has designed priority ordering to be extremely flexible. This flexibility is particularly useful for managing large rulesets programmatically via the Cloudflare API. Use the Update Firewall Rules command to set the `}<inlineCode parentName=\"p\">{`priority`}</inlineCode>{` property. Refer to `}<a parentName=\"p\" {...{\n        \"href\": \"https://api.cloudflare.com/#firewall-rules-properties\"\n      }}>{`Cloudflare API: Firewall Rules`}</a>{` for details.`}</p>\n    <p>{`While your priority numbering scheme can be arbitrary, keep the following in mind:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`The evaluation sequence starts from the lowest priority number`}</strong>{` and goes to the highest.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Rules without a priority number are evaluated last`}</strong>{`, in order of their action precedence. For example, a rule with the `}<em parentName=\"li\">{`Log`}</em>{` action is evaluated before a rule that has the `}<em parentName=\"li\">{`Block`}</em>{` action. For more on action precedence, refer to `}<a parentName=\"li\" {...{\n          \"href\": \"/cf-firewall-rules/actions\"\n        }}>{`Firewall Rules actions`}</a>{`.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Avoid using the number 1 as a priority`}</strong>{` so that you can easily maintain and modify rule order.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Consider grouping ranges of priority numbers into categories`}</strong>{` that have some meaning for your deployment. Here are some examples:`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`5000-9999: Trusted IP addresses`}</li>\n          <li parentName=\"ul\">{`10000-19999: Blocking rules for bad crawlers`}</li>\n          <li parentName=\"ul\">{`20000-29999: Blocking rules for abusive users/spam`}</li>\n        </ul></li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}