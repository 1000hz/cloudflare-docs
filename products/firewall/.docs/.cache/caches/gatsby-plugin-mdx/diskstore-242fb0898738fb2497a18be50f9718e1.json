{"expireTime":9007200899183227000,"key":"gatsby-plugin-mdx-entire-payload-e8869f0011013e2b78757e67431181ad-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Operators and grouping symbols","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":33,"offset":33},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":33,"offset":33},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Cloudflare Firewall Rules language supports comparison and logical operators:","position":{"start":{"line":4,"column":1,"offset":35},"end":{"line":4,"column":82,"offset":116},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":35},"end":{"line":4,"column":82,"offset":116},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#comparison-operators","children":[{"type":"text","value":"Comparison operators","position":{"start":{"line":6,"column":4,"offset":121},"end":{"line":6,"column":24,"offset":141},"indent":[]}}],"position":{"start":{"line":6,"column":3,"offset":120},"end":{"line":6,"column":48,"offset":165},"indent":[]}},{"type":"text","value":" specify how values defined in an expression must relate to the actual HTTP request value for the expression to return ","position":{"start":{"line":6,"column":48,"offset":165},"end":{"line":6,"column":167,"offset":284},"indent":[]}},{"type":"inlineCode","value":"true","position":{"start":{"line":6,"column":167,"offset":284},"end":{"line":6,"column":173,"offset":290},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":6,"column":173,"offset":290},"end":{"line":6,"column":174,"offset":291},"indent":[]}}],"position":{"start":{"line":6,"column":3,"offset":120},"end":{"line":6,"column":174,"offset":291},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":118},"end":{"line":6,"column":174,"offset":291},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#logical-operators","children":[{"type":"text","value":"Logical operators","position":{"start":{"line":7,"column":4,"offset":295},"end":{"line":7,"column":21,"offset":312},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":294},"end":{"line":7,"column":42,"offset":333},"indent":[]}},{"type":"text","value":" combine two expressions to form a compound expression and use order of precedence to determine how an expression is evaluated.","position":{"start":{"line":7,"column":42,"offset":333},"end":{"line":7,"column":169,"offset":460},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":294},"end":{"line":7,"column":169,"offset":460},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":292},"end":{"line":7,"column":169,"offset":460},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":118},"end":{"line":7,"column":169,"offset":460},"indent":[1]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"/cf-firewall-language/operators/#grouping-symbols","children":[{"type":"text","value":"Grouping symbols","position":{"start":{"line":9,"column":2,"offset":463},"end":{"line":9,"column":18,"offset":479},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":462},"end":{"line":9,"column":70,"offset":531},"indent":[]}},{"type":"text","value":" allow you to organize expressions, enforce precedence, and nest expressions.","position":{"start":{"line":9,"column":70,"offset":531},"end":{"line":9,"column":147,"offset":608},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":462},"end":{"line":9,"column":147,"offset":608},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Comparison operators","position":{"start":{"line":11,"column":4,"offset":613},"end":{"line":11,"column":24,"offset":633},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":610},"end":{"line":11,"column":24,"offset":633},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Comparison operators return ","position":{"start":{"line":13,"column":1,"offset":635},"end":{"line":13,"column":29,"offset":663},"indent":[]}},{"type":"inlineCode","value":"true","position":{"start":{"line":13,"column":29,"offset":663},"end":{"line":13,"column":35,"offset":669},"indent":[]}},{"type":"text","value":" when a value from an HTTP request matches a value defined in an expression.","position":{"start":{"line":13,"column":35,"offset":669},"end":{"line":13,"column":111,"offset":745},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":635},"end":{"line":13,"column":111,"offset":745},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This is the general pattern for using comparison operators:","position":{"start":{"line":15,"column":1,"offset":747},"end":{"line":15,"column":60,"offset":806},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":747},"end":{"line":15,"column":60,"offset":806},"indent":[]}},{"type":"code","lang":"sql","meta":null,"value":"<field> <comparison operator> <value>","position":{"start":{"line":17,"column":1,"offset":808},"end":{"line":19,"column":4,"offset":856},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The Cloudflare Firewall Rules language supports these comparison operators:","position":{"start":{"line":21,"column":1,"offset":858},"end":{"line":21,"column":76,"offset":933},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":858},"end":{"line":21,"column":76,"offset":933},"indent":[]}},{"type":"jsx","value":"<Aside type='warning' header='Important'>","position":{"start":{"line":23,"column":1,"offset":935},"end":{"line":23,"column":42,"offset":976},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Access to the ","position":{"start":{"line":25,"column":1,"offset":978},"end":{"line":25,"column":15,"offset":992},"indent":[]}},{"type":"inlineCode","value":"matches","position":{"start":{"line":25,"column":15,"offset":992},"end":{"line":25,"column":24,"offset":1001},"indent":[]}},{"type":"text","value":" operator requires a Cloudflare Business or Enterprise plan.","position":{"start":{"line":25,"column":24,"offset":1001},"end":{"line":25,"column":84,"offset":1061},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":978},"end":{"line":25,"column":84,"offset":1061},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":27,"column":1,"offset":1063},"end":{"line":27,"column":9,"offset":1071},"indent":[]}},{"type":"jsx","value":"<TableWrap style='width:100%'>\n<table style='width:100%'>\n  <thead>\n   <tr>\n      <th>Name</th>\n      <th colspan=\"2\" style=\"text-align:center\">Operator Notation</th>\n      <th colspan=\"3\" style=\"text-align:center\">Supported Data Types</th>\n      <th></th>\n   </tr>\n   <tr>\n      <td></td>\n      <th>English</th>\n      <th>C-like</th>\n      <th>String</th>\n      <th>IP</th>\n      <th>Number</th>\n      <th>Example (operator in bold)</th>\n   </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>Equal</td>\n      <td><code class=\"InlineCode\">eq</code></td>\n      <td><code class=\"InlineCode\">==</code></td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">http.request.uri.path <strong>eq</strong> \"/articles/2008/\"</code>\n      </td>\n     </tr>\n    <tr>\n      <td>Not equal</td>\n      <td><code class=\"InlineCode\">ne</code></td>\n      <td><code class=\"InlineCode\">!=</code></td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">ip.src <strong>ne</strong> 93.184.216.0</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Less than</td>\n      <td><code class=\"InlineCode\">lt</code></td>\n      <td><code class=\"InlineCode\">&lt;</code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">cf.threat_score <strong>lt</strong> 10</code>\n      </td>\n   </tr>\n   <tr>\n      <td>Less than<br />or equal</td>\n      <td><code class=\"InlineCode\">le</code></td>\n      <td><code class=\"InlineCode\">&lt;=</code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">cf.threat_score <strong>le</strong> 20</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Greater than</td>\n      <td><code class=\"InlineCode\">gt</code></td>\n      <td><code class=\"InlineCode\">></code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">cf.threat_score <strong>gt</strong> 25</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Greater than<br />or equal</td>\n      <td><code class=\"InlineCode\">ge</code></td>\n      <td><code class=\"InlineCode\">&gt;=</code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">cf.threat_score <strong>ge</strong> 60</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Exactly<br />contains</td>\n      <td><code class=\"InlineCode\">contains</code></td>\n      <td></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#10060;</td>\n      <td>\n         <code class=\"InlineCode\">http.request.uri.path <strong>contains</strong> \"/articles/\"</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Matches<br />regex</td>\n      <td><code class=\"InlineCode\">matches</code></td>\n      <td><code class=\"InlineCode\">~</code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#10060;</td>\n      <td>\n         <code class=\"InlineCode\">http.request.uri.path <strong>matches</strong> \"^/articles/200[7-8]/$\"</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Value is in <br />a set of values</td>\n      <td><code class=\"InlineCode\">in</code></td>\n      <td></td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">ip.src <strong>in</strong> {'{ 93.184.216.0 93.184.216.1 }'}</code>\n      </td>\n    </tr>\n  </tbody>\n</table>\n</TableWrap>","position":{"start":{"line":29,"column":1,"offset":1073},"end":{"line":150,"column":13,"offset":4566},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Logical operators","position":{"start":{"line":152,"column":4,"offset":4571},"end":{"line":152,"column":21,"offset":4588},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":4568},"end":{"line":152,"column":21,"offset":4588},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Logical operators combine two or more expressions into a single compound expression. A compound expression has this general syntax:","position":{"start":{"line":154,"column":1,"offset":4590},"end":{"line":154,"column":132,"offset":4721},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":4590},"end":{"line":154,"column":132,"offset":4721},"indent":[]}},{"type":"code","lang":"sql","meta":null,"value":"<expression> <logical operator> <expression>","position":{"start":{"line":156,"column":1,"offset":4723},"end":{"line":158,"column":4,"offset":4778},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Supported logical operators","position":{"start":{"line":160,"column":5,"offset":4784},"end":{"line":160,"column":32,"offset":4811},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":4780},"end":{"line":160,"column":32,"offset":4811},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Each logical operator has an ","position":{"start":{"line":162,"column":1,"offset":4813},"end":{"line":162,"column":30,"offset":4842},"indent":[]}},{"type":"link","title":null,"url":"#order-of-precedence","children":[{"type":"text","value":"order of precedence","position":{"start":{"line":162,"column":31,"offset":4843},"end":{"line":162,"column":50,"offset":4862},"indent":[]}}],"position":{"start":{"line":162,"column":30,"offset":4842},"end":{"line":162,"column":73,"offset":4885},"indent":[]}},{"type":"text","value":". The order of precedence (along with ","position":{"start":{"line":162,"column":73,"offset":4885},"end":{"line":162,"column":111,"offset":4923},"indent":[]}},{"type":"link","title":null,"url":"#grouping-symbols","children":[{"type":"text","value":"grouping symbols","position":{"start":{"line":162,"column":112,"offset":4924},"end":{"line":162,"column":128,"offset":4940},"indent":[]}}],"position":{"start":{"line":162,"column":111,"offset":4923},"end":{"line":162,"column":148,"offset":4960},"indent":[]}},{"type":"text","value":") determines the order in which Cloudflare evaluates logical operators in an expression. The ","position":{"start":{"line":162,"column":148,"offset":4960},"end":{"line":162,"column":241,"offset":5053},"indent":[]}},{"type":"inlineCode","value":"not","position":{"start":{"line":162,"column":241,"offset":5053},"end":{"line":162,"column":246,"offset":5058},"indent":[]}},{"type":"text","value":" operator ranks first in order of precedence.","position":{"start":{"line":162,"column":246,"offset":5058},"end":{"line":162,"column":291,"offset":5103},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":4813},"end":{"line":162,"column":291,"offset":5103},"indent":[]}},{"type":"jsx","value":"<TableWrap>\n<table style='width:100%'>\n  <thead>\n   <tr>\n      <th>Name</th>\n      <th>English<br />Notation</th>\n      <th>C-like<br />Notation</th>\n      <th>Example</th>\n      <th>Order of Precedence</th>\n   </tr>\n  </thead>\n  <tbody>\n   <tr>\n      <td>Logical NOT</td>\n      <td><code class=\"InlineCode\">not</code></td>\n      <td><code class=\"InlineCode\">!</code></td>\n      <td>\n         <code class=\"InlineCode\"><strong>not</strong> ( http.host eq \"www.cloudflare.com\" and ip.src in 93.184.216.0/24 )</code>\n      </td>\n      <td>1</td>\n   </tr>\n   <tr>\n      <td>Logical AND</td>\n      <td><code class=\"InlineCode\">and</code></td>\n      <td><code class=\"InlineCode\">&amp;&amp;</code></td>\n      <td>\n         <code class=\"InlineCode\">http.host eq \"www.cloudflare.com\" <strong>and</strong> ip.src in 93.184.216.0/24</code>\n      </td>\n      <td>2</td>\n   </tr>\n   <tr>\n      <td>Logical XOR<br />\n        (exclusive OR)</td>\n      <td><code class=\"InlineCode\">xor</code></td>\n      <td><code class=\"InlineCode\">^^</code></td>\n      <td>\n         <code class=\"InlineCode\">http.host eq \"www.cloudflare.com\" <strong>xor</strong> ip.src in 93.184.216.0/24</code>\n      </td>\n      <td>3</td>\n   </tr>\n   <tr>\n      <td>Logical OR</td>\n      <td><code class=\"InlineCode\">or</code></td>\n      <td><code class=\"InlineCode\">||</code></td>\n      <td>\n         <code class=\"InlineCode\">http.host eq \"www.cloudflare.com\" <strong>or</strong> ip.src in 93.184.216.0/24</code>\n      </td>\n      <td>4</td>\n   </tr>\n  </tbody>\n</table>\n</TableWrap>","position":{"start":{"line":164,"column":1,"offset":5105},"end":{"line":215,"column":13,"offset":6644},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Order of precedence","position":{"start":{"line":217,"column":5,"offset":6650},"end":{"line":217,"column":24,"offset":6669},"indent":[]}}],"position":{"start":{"line":217,"column":1,"offset":6646},"end":{"line":217,"column":24,"offset":6669},"indent":[]}},{"type":"jsx","value":"<Aside type='warning' header='Important'>","position":{"start":{"line":219,"column":1,"offset":6671},"end":{"line":219,"column":42,"offset":6712},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To avoid ambiguity when working with logical operators, use grouping symbols so that the order of evaluation is explicit.","position":{"start":{"line":221,"column":1,"offset":6714},"end":{"line":221,"column":122,"offset":6835},"indent":[]}}],"position":{"start":{"line":221,"column":1,"offset":6714},"end":{"line":221,"column":122,"offset":6835},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":223,"column":1,"offset":6837},"end":{"line":223,"column":9,"offset":6845},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When writing compound expressions, it is important to be aware of the precedence of logical operators so that your expression is evaluated the way you expect.","position":{"start":{"line":225,"column":1,"offset":6847},"end":{"line":225,"column":159,"offset":7005},"indent":[]}}],"position":{"start":{"line":225,"column":1,"offset":6847},"end":{"line":225,"column":159,"offset":7005},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For example, consider the following generic expression, which uses ","position":{"start":{"line":227,"column":1,"offset":7007},"end":{"line":227,"column":68,"offset":7074},"indent":[]}},{"type":"inlineCode","value":"and","position":{"start":{"line":227,"column":68,"offset":7074},"end":{"line":227,"column":73,"offset":7079},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":227,"column":73,"offset":7079},"end":{"line":227,"column":78,"offset":7084},"indent":[]}},{"type":"inlineCode","value":"or","position":{"start":{"line":227,"column":78,"offset":7084},"end":{"line":227,"column":82,"offset":7088},"indent":[]}},{"type":"text","value":" operators:","position":{"start":{"line":227,"column":82,"offset":7088},"end":{"line":227,"column":93,"offset":7099},"indent":[]}}],"position":{"start":{"line":227,"column":1,"offset":7007},"end":{"line":227,"column":93,"offset":7099},"indent":[]}},{"type":"code","lang":"java","meta":null,"value":"Expression1 and Expression2 or Expression3","position":{"start":{"line":229,"column":1,"offset":7101},"end":{"line":231,"column":4,"offset":7155},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If these operators had no order of precedence, it would not be clear which of two interpretations is correct:","position":{"start":{"line":233,"column":1,"offset":7157},"end":{"line":233,"column":110,"offset":7266},"indent":[]}}],"position":{"start":{"line":233,"column":1,"offset":7157},"end":{"line":233,"column":110,"offset":7266},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Match when Expression 1 and Expression 2 are both true ","position":{"start":{"line":235,"column":4,"offset":7271},"end":{"line":235,"column":59,"offset":7326},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"or","position":{"start":{"line":235,"column":61,"offset":7328},"end":{"line":235,"column":63,"offset":7330},"indent":[]}}],"position":{"start":{"line":235,"column":59,"offset":7326},"end":{"line":235,"column":65,"offset":7332},"indent":[]}},{"type":"text","value":" when Expression 3 is true.","position":{"start":{"line":235,"column":65,"offset":7332},"end":{"line":235,"column":92,"offset":7359},"indent":[]}}],"position":{"start":{"line":235,"column":4,"offset":7271},"end":{"line":235,"column":92,"offset":7359},"indent":[]}}],"position":{"start":{"line":235,"column":1,"offset":7268},"end":{"line":235,"column":92,"offset":7359},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Match when Expression 1 is true ","position":{"start":{"line":236,"column":4,"offset":7363},"end":{"line":236,"column":36,"offset":7395},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"and","position":{"start":{"line":236,"column":38,"offset":7397},"end":{"line":236,"column":41,"offset":7400},"indent":[]}}],"position":{"start":{"line":236,"column":36,"offset":7395},"end":{"line":236,"column":43,"offset":7402},"indent":[]}},{"type":"text","value":" either Expression 2 or Expression 3 is true.","position":{"start":{"line":236,"column":43,"offset":7402},"end":{"line":236,"column":88,"offset":7447},"indent":[]}}],"position":{"start":{"line":236,"column":4,"offset":7363},"end":{"line":236,"column":88,"offset":7447},"indent":[]}}],"position":{"start":{"line":236,"column":1,"offset":7360},"end":{"line":236,"column":88,"offset":7447},"indent":[]}}],"position":{"start":{"line":235,"column":1,"offset":7268},"end":{"line":236,"column":88,"offset":7447},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Since the logical ","position":{"start":{"line":238,"column":1,"offset":7449},"end":{"line":238,"column":19,"offset":7467},"indent":[]}},{"type":"inlineCode","value":"and","position":{"start":{"line":238,"column":19,"offset":7467},"end":{"line":238,"column":24,"offset":7472},"indent":[]}},{"type":"text","value":" operator has precedence over logical ","position":{"start":{"line":238,"column":24,"offset":7472},"end":{"line":238,"column":62,"offset":7510},"indent":[]}},{"type":"inlineCode","value":"or","position":{"start":{"line":238,"column":62,"offset":7510},"end":{"line":238,"column":66,"offset":7514},"indent":[]}},{"type":"text","value":", the ","position":{"start":{"line":238,"column":66,"offset":7514},"end":{"line":238,"column":72,"offset":7520},"indent":[]}},{"type":"inlineCode","value":"and","position":{"start":{"line":238,"column":72,"offset":7520},"end":{"line":238,"column":77,"offset":7525},"indent":[]}},{"type":"text","value":" operator must be evaluated first. Interpretation 1 is correct.","position":{"start":{"line":238,"column":77,"offset":7525},"end":{"line":238,"column":140,"offset":7588},"indent":[]}}],"position":{"start":{"line":238,"column":1,"offset":7449},"end":{"line":238,"column":140,"offset":7588},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Grouping symbols","position":{"start":{"line":240,"column":4,"offset":7593},"end":{"line":240,"column":20,"offset":7609},"indent":[]}}],"position":{"start":{"line":240,"column":1,"offset":7590},"end":{"line":240,"column":20,"offset":7609},"indent":[]}},{"type":"jsx","value":"<Aside type='warning' header='Important'>","position":{"start":{"line":242,"column":1,"offset":7611},"end":{"line":242,"column":42,"offset":7652},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Only the ","position":{"start":{"line":244,"column":1,"offset":7654},"end":{"line":244,"column":10,"offset":7663},"indent":[]}},{"type":"link","title":null,"url":"/cf-dashboard/expression-preview-editor/","children":[{"type":"text","value":"Expression Editor","position":{"start":{"line":244,"column":11,"offset":7664},"end":{"line":244,"column":28,"offset":7681},"indent":[]}}],"position":{"start":{"line":244,"column":10,"offset":7663},"end":{"line":244,"column":71,"offset":7724},"indent":[]}},{"type":"text","value":" and the ","position":{"start":{"line":244,"column":71,"offset":7724},"end":{"line":244,"column":80,"offset":7733},"indent":[]}},{"type":"link","title":null,"url":"/api/","children":[{"type":"text","value":"Cloudflare API","position":{"start":{"line":244,"column":81,"offset":7734},"end":{"line":244,"column":95,"offset":7748},"indent":[]}}],"position":{"start":{"line":244,"column":80,"offset":7733},"end":{"line":244,"column":103,"offset":7756},"indent":[]}},{"type":"text","value":" support grouping symbols. The ","position":{"start":{"line":244,"column":103,"offset":7756},"end":{"line":244,"column":134,"offset":7787},"indent":[]}},{"type":"link","title":null,"url":"/cf-dashboard/create-edit-delete-rules/","children":[{"type":"text","value":"Expression Builder","position":{"start":{"line":244,"column":135,"offset":7788},"end":{"line":244,"column":153,"offset":7806},"indent":[]}}],"position":{"start":{"line":244,"column":134,"offset":7787},"end":{"line":244,"column":195,"offset":7848},"indent":[]}},{"type":"text","value":" does not.","position":{"start":{"line":244,"column":195,"offset":7848},"end":{"line":244,"column":205,"offset":7858},"indent":[]}}],"position":{"start":{"line":244,"column":1,"offset":7654},"end":{"line":244,"column":205,"offset":7858},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":246,"column":1,"offset":7860},"end":{"line":246,"column":9,"offset":7868},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Firewall Rules language supports parentheses (","position":{"start":{"line":248,"column":1,"offset":7870},"end":{"line":248,"column":51,"offset":7920},"indent":[]}},{"type":"inlineCode","value":"(","position":{"start":{"line":248,"column":51,"offset":7920},"end":{"line":248,"column":54,"offset":7923},"indent":[]}},{"type":"text","value":",","position":{"start":{"line":248,"column":54,"offset":7923},"end":{"line":248,"column":55,"offset":7924},"indent":[]}},{"type":"inlineCode","value":")","position":{"start":{"line":248,"column":55,"offset":7924},"end":{"line":248,"column":58,"offset":7927},"indent":[]}},{"type":"text","value":") as grouping symbols. Grouping symbols allow you to organize expressions, enforce precedence, and nest expressions.","position":{"start":{"line":248,"column":58,"offset":7927},"end":{"line":248,"column":174,"offset":8043},"indent":[]}}],"position":{"start":{"line":248,"column":1,"offset":7870},"end":{"line":248,"column":174,"offset":8043},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Group expressions","position":{"start":{"line":250,"column":5,"offset":8049},"end":{"line":250,"column":22,"offset":8066},"indent":[]}}],"position":{"start":{"line":250,"column":1,"offset":8045},"end":{"line":250,"column":22,"offset":8066},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Use parentheses to explicitly group expressions that should be evaluated together. In this example, the parentheses do not alter the evaluation of the expression, but they unambiguously call out which logical operators to evaluate first.","position":{"start":{"line":252,"column":1,"offset":8068},"end":{"line":252,"column":238,"offset":8305},"indent":[]}}],"position":{"start":{"line":252,"column":1,"offset":8068},"end":{"line":252,"column":238,"offset":8305},"indent":[]}},{"type":"code","lang":"java","meta":null,"value":"(Expression1 and Expression2) or Expression3","position":{"start":{"line":254,"column":1,"offset":8307},"end":{"line":256,"column":4,"offset":8363},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Because grouping symbols are so explicit, you are less likely to make errors when you use them to write compound expressions.","position":{"start":{"line":258,"column":1,"offset":8365},"end":{"line":258,"column":126,"offset":8490},"indent":[]}}],"position":{"start":{"line":258,"column":1,"offset":8365},"end":{"line":258,"column":126,"offset":8490},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Enforce precedence","position":{"start":{"line":260,"column":5,"offset":8496},"end":{"line":260,"column":23,"offset":8514},"indent":[]}}],"position":{"start":{"line":260,"column":1,"offset":8492},"end":{"line":260,"column":23,"offset":8514},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Grouping symbols are a powerful tool to enforce precedence for grouped elements of a compound expression. In this example, parentheses force the logical ","position":{"start":{"line":262,"column":1,"offset":8516},"end":{"line":262,"column":154,"offset":8669},"indent":[]}},{"type":"inlineCode","value":"or","position":{"start":{"line":262,"column":154,"offset":8669},"end":{"line":262,"column":158,"offset":8673},"indent":[]}},{"type":"text","value":" operator to be evaluated before the logical ","position":{"start":{"line":262,"column":158,"offset":8673},"end":{"line":262,"column":203,"offset":8718},"indent":[]}},{"type":"inlineCode","value":"and","position":{"start":{"line":262,"column":203,"offset":8718},"end":{"line":262,"column":208,"offset":8723},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":262,"column":208,"offset":8723},"end":{"line":262,"column":209,"offset":8724},"indent":[]}}],"position":{"start":{"line":262,"column":1,"offset":8516},"end":{"line":262,"column":209,"offset":8724},"indent":[]}},{"type":"code","lang":"java","meta":null,"value":"Expression1 and (Expression2 or Expression3)","position":{"start":{"line":264,"column":1,"offset":8726},"end":{"line":266,"column":4,"offset":8782},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Without parentheses, the logical ","position":{"start":{"line":268,"column":1,"offset":8784},"end":{"line":268,"column":34,"offset":8817},"indent":[]}},{"type":"inlineCode","value":"and","position":{"start":{"line":268,"column":34,"offset":8817},"end":{"line":268,"column":39,"offset":8822},"indent":[]}},{"type":"text","value":" operator would take precedence.","position":{"start":{"line":268,"column":39,"offset":8822},"end":{"line":268,"column":71,"offset":8854},"indent":[]}}],"position":{"start":{"line":268,"column":1,"offset":8784},"end":{"line":268,"column":71,"offset":8854},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Nest expressions","position":{"start":{"line":270,"column":5,"offset":8860},"end":{"line":270,"column":21,"offset":8876},"indent":[]}}],"position":{"start":{"line":270,"column":1,"offset":8856},"end":{"line":270,"column":21,"offset":8876},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can nest expressions grouped by parentheses inside other groups to create very precise, sophisticated expressions, such as this example for a rule designed to block access to a domain:","position":{"start":{"line":272,"column":1,"offset":8878},"end":{"line":272,"column":189,"offset":9066},"indent":[]}}],"position":{"start":{"line":272,"column":1,"offset":8878},"end":{"line":272,"column":189,"offset":9066},"indent":[]}},{"type":"code","lang":"sql","meta":null,"value":"(\n (http.host eq \"api.example.com\" and http.request.uri.path eq \"/api/v2/auth\") or\n (http.host matches \"^(www|store|blog)\\.example.com\" and http.request.uri.path contains \"wp-login.php\") or\n ip.geoip.country in {\"CN\" \"TH\" \"US\" \"ID\" \"KR\" \"MY\" \"IT\" \"SG\" \"GB\"} or ip.geoip.asnum in {12345 54321 11111}\n) and not ip.src in {11.22.33.0/24}","position":{"start":{"line":274,"column":1,"offset":9068},"end":{"line":280,"column":4,"offset":9413},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note that when evaluating the precedence of logical operators, parentheses inside strings delimited by quotes are ignored, such as those in the following regular expression, drawn from the example above:","position":{"start":{"line":282,"column":1,"offset":9415},"end":{"line":282,"column":204,"offset":9618},"indent":[]}}],"position":{"start":{"line":282,"column":1,"offset":9415},"end":{"line":282,"column":204,"offset":9618},"indent":[]}},{"type":"code","lang":"sql","meta":null,"value":"\"^(www|store|blog)\\.example\\.com\"","position":{"start":{"line":284,"column":1,"offset":9620},"end":{"line":286,"column":4,"offset":9664},"indent":[1,1]}},{"type":"export","value":"export const _frontmatter = {\"pcx-content-type\":\"reference\",\"order\":610,\"type\":\"table\"}","position":{"start":{"line":289,"column":1,"offset":9667},"end":{"line":289,"column":88,"offset":9754},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":289,"column":88,"offset":9754}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"pcx-content-type\": \"reference\",\n  \"order\": 610,\n  \"type\": \"table\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar TableWrap = makeShortcode(\"TableWrap\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"operators-and-grouping-symbols\"\n  }, \"Operators and grouping symbols\"), mdx(\"p\", null, \"The Cloudflare Firewall Rules language supports comparison and logical operators:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#comparison-operators\"\n  }, \"Comparison operators\"), \" specify how values defined in an expression must relate to the actual HTTP request value for the expression to return \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"true\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#logical-operators\"\n  }, \"Logical operators\"), \" combine two expressions to form a compound expression and use order of precedence to determine how an expression is evaluated.\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-firewall-language/operators/#grouping-symbols\"\n  }, \"Grouping symbols\"), \" allow you to organize expressions, enforce precedence, and nest expressions.\"), mdx(\"h2\", {\n    \"id\": \"comparison-operators\"\n  }, \"Comparison operators\"), mdx(\"p\", null, \"Comparison operators return \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" when a value from an HTTP request matches a value defined in an expression.\"), mdx(\"p\", null, \"This is the general pattern for using comparison operators:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \"<field> <comparison operator> <value>\\n\")), mdx(\"p\", null, \"The Cloudflare Firewall Rules language supports these comparison operators:\"), mdx(Aside, {\n    type: \"warning\",\n    header: \"Important\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Access to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"matches\"), \" operator requires a Cloudflare Business or Enterprise plan.\")), mdx(TableWrap, {\n    style: {\n      \"width\": \"100%\"\n    },\n    mdxType: \"TableWrap\"\n  }, mdx(\"table\", {\n    style: {\n      \"width\": \"100%\"\n    }\n  }, mdx(\"thead\", null, mdx(\"tr\", null, mdx(\"th\", null, \"Name\"), mdx(\"th\", {\n    colSpan: \"2\",\n    style: {\n      \"textAlign\": \"center\"\n    }\n  }, \"Operator Notation\"), mdx(\"th\", {\n    colSpan: \"3\",\n    style: {\n      \"textAlign\": \"center\"\n    }\n  }, \"Supported Data Types\"), mdx(\"th\", null)), mdx(\"tr\", null, mdx(\"td\", null), mdx(\"th\", null, \"English\"), mdx(\"th\", null, \"C-like\"), mdx(\"th\", null, \"String\"), mdx(\"th\", null, \"IP\"), mdx(\"th\", null, \"Number\"), mdx(\"th\", null, \"Example (operator in bold)\"))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, \"Equal\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"eq\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"==\")), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.request.uri.path \", mdx(\"strong\", null, \"eq\"), \" \\\"/articles/2008/\\\"\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Not equal\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"ne\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"!=\")), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"ip.src \", mdx(\"strong\", null, \"ne\"), \" 93.184.216.0\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Less than\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"lt\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"<\")), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"cf.threat_score \", mdx(\"strong\", null, \"lt\"), \" 10\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Less than\", mdx(\"br\", null), \"or equal\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"le\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"<=\")), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"cf.threat_score \", mdx(\"strong\", null, \"le\"), \" 20\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Greater than\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"gt\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \">\")), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"cf.threat_score \", mdx(\"strong\", null, \"gt\"), \" 25\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Greater than\", mdx(\"br\", null), \"or equal\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"ge\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \">=\")), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"cf.threat_score \", mdx(\"strong\", null, \"ge\"), \" 60\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Exactly\", mdx(\"br\", null), \"contains\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"contains\")), mdx(\"td\", null), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.request.uri.path \", mdx(\"strong\", null, \"contains\"), \" \\\"/articles/\\\"\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Matches\", mdx(\"br\", null), \"regex\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"matches\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"~\")), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, \"\\u274C\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.request.uri.path \", mdx(\"strong\", null, \"matches\"), \" \\\"^/articles/200[7-8]/$\\\"\"))), mdx(\"tr\", null, mdx(\"td\", null, \"Value is in \", mdx(\"br\", null), \"a set of values\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"in\")), mdx(\"td\", null), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, \"\\u2705\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"ip.src \", mdx(\"strong\", null, \"in\"), \" \", '{ 93.184.216.0 93.184.216.1 }')))))), mdx(\"h2\", {\n    \"id\": \"logical-operators\"\n  }, \"Logical operators\"), mdx(\"p\", null, \"Logical operators combine two or more expressions into a single compound expression. A compound expression has this general syntax:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \"<expression> <logical operator> <expression>\\n\")), mdx(\"h3\", {\n    \"id\": \"supported-logical-operators\"\n  }, \"Supported logical operators\"), mdx(\"p\", null, \"Each logical operator has an \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#order-of-precedence\"\n  }, \"order of precedence\"), \". The order of precedence (along with \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#grouping-symbols\"\n  }, \"grouping symbols\"), \") determines the order in which Cloudflare evaluates logical operators in an expression. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"not\"), \" operator ranks first in order of precedence.\"), mdx(TableWrap, {\n    mdxType: \"TableWrap\"\n  }, mdx(\"table\", {\n    style: {\n      \"width\": \"100%\"\n    }\n  }, mdx(\"thead\", null, mdx(\"tr\", null, mdx(\"th\", null, \"Name\"), mdx(\"th\", null, \"English\", mdx(\"br\", null), \"Notation\"), mdx(\"th\", null, \"C-like\", mdx(\"br\", null), \"Notation\"), mdx(\"th\", null, \"Example\"), mdx(\"th\", null, \"Order of Precedence\"))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, \"Logical NOT\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"not\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"!\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, mdx(\"strong\", null, \"not\"), \" ( http.host eq \\\"www.cloudflare.com\\\" and ip.src in 93.184.216.0/24 )\")), mdx(\"td\", null, \"1\")), mdx(\"tr\", null, mdx(\"td\", null, \"Logical AND\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"and\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"&&\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.host eq \\\"www.cloudflare.com\\\" \", mdx(\"strong\", null, \"and\"), \" ip.src in 93.184.216.0/24\")), mdx(\"td\", null, \"2\")), mdx(\"tr\", null, mdx(\"td\", null, \"Logical XOR\", mdx(\"br\", null), \"(exclusive OR)\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"xor\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"^^\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.host eq \\\"www.cloudflare.com\\\" \", mdx(\"strong\", null, \"xor\"), \" ip.src in 93.184.216.0/24\")), mdx(\"td\", null, \"3\")), mdx(\"tr\", null, mdx(\"td\", null, \"Logical OR\"), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"or\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"||\")), mdx(\"td\", null, mdx(\"code\", {\n    className: \"InlineCode\"\n  }, \"http.host eq \\\"www.cloudflare.com\\\" \", mdx(\"strong\", null, \"or\"), \" ip.src in 93.184.216.0/24\")), mdx(\"td\", null, \"4\"))))), mdx(\"h3\", {\n    \"id\": \"order-of-precedence\"\n  }, \"Order of precedence\"), mdx(Aside, {\n    type: \"warning\",\n    header: \"Important\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"To avoid ambiguity when working with logical operators, use grouping symbols so that the order of evaluation is explicit.\")), mdx(\"p\", null, \"When writing compound expressions, it is important to be aware of the precedence of logical operators so that your expression is evaluated the way you expect.\"), mdx(\"p\", null, \"For example, consider the following generic expression, which uses \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"and\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"or\"), \" operators:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java\"\n  }, \"Expression1 and Expression2 or Expression3\\n\")), mdx(\"p\", null, \"If these operators had no order of precedence, it would not be clear which of two interpretations is correct:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Match when Expression 1 and Expression 2 are both true \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"or\"), \" when Expression 3 is true.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Match when Expression 1 is true \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"and\"), \" either Expression 2 or Expression 3 is true.\")), mdx(\"p\", null, \"Since the logical \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"and\"), \" operator has precedence over logical \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"or\"), \", the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"and\"), \" operator must be evaluated first. Interpretation 1 is correct.\"), mdx(\"h2\", {\n    \"id\": \"grouping-symbols\"\n  }, \"Grouping symbols\"), mdx(Aside, {\n    type: \"warning\",\n    header: \"Important\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Only the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-dashboard/expression-preview-editor/\"\n  }, \"Expression Editor\"), \" and the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/api/\"\n  }, \"Cloudflare API\"), \" support grouping symbols. The \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-dashboard/create-edit-delete-rules/\"\n  }, \"Expression Builder\"), \" does not.\")), mdx(\"p\", null, \"The Firewall Rules language supports parentheses (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(\"), \",\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \")\"), \") as grouping symbols. Grouping symbols allow you to organize expressions, enforce precedence, and nest expressions.\"), mdx(\"h3\", {\n    \"id\": \"group-expressions\"\n  }, \"Group expressions\"), mdx(\"p\", null, \"Use parentheses to explicitly group expressions that should be evaluated together. In this example, the parentheses do not alter the evaluation of the expression, but they unambiguously call out which logical operators to evaluate first.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java\"\n  }, \"(Expression1 and Expression2) or Expression3\\n\")), mdx(\"p\", null, \"Because grouping symbols are so explicit, you are less likely to make errors when you use them to write compound expressions.\"), mdx(\"h3\", {\n    \"id\": \"enforce-precedence\"\n  }, \"Enforce precedence\"), mdx(\"p\", null, \"Grouping symbols are a powerful tool to enforce precedence for grouped elements of a compound expression. In this example, parentheses force the logical \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"or\"), \" operator to be evaluated before the logical \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"and\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java\"\n  }, \"Expression1 and (Expression2 or Expression3)\\n\")), mdx(\"p\", null, \"Without parentheses, the logical \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"and\"), \" operator would take precedence.\"), mdx(\"h3\", {\n    \"id\": \"nest-expressions\"\n  }, \"Nest expressions\"), mdx(\"p\", null, \"You can nest expressions grouped by parentheses inside other groups to create very precise, sophisticated expressions, such as this example for a rule designed to block access to a domain:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \"(\\n (http.host eq \\\"api.example.com\\\" and http.request.uri.path eq \\\"/api/v2/auth\\\") or\\n (http.host matches \\\"^(www|store|blog)\\\\.example.com\\\" and http.request.uri.path contains \\\"wp-login.php\\\") or\\n ip.geoip.country in {\\\"CN\\\" \\\"TH\\\" \\\"US\\\" \\\"ID\\\" \\\"KR\\\" \\\"MY\\\" \\\"IT\\\" \\\"SG\\\" \\\"GB\\\"} or ip.geoip.asnum in {12345 54321 11111}\\n) and not ip.src in {11.22.33.0/24}\\n\")), mdx(\"p\", null, \"Note that when evaluating the precedence of logical operators, parentheses inside strings delimited by quotes are ignored, such as those in the following regular expression, drawn from the example above:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \"\\\"^(www|store|blog)\\\\.example\\\\.com\\\"\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"pcx-content-type\": \"reference\",\n  \"order\": 610,\n  \"type\": \"table\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst Aside = makeShortcode(\"Aside\");\nconst TableWrap = makeShortcode(\"TableWrap\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"operators-and-grouping-symbols\"\n    }}>{`Operators and grouping symbols`}</h1>\n    <p>{`The Cloudflare Firewall Rules language supports comparison and logical operators:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#comparison-operators\"\n        }}>{`Comparison operators`}</a>{` specify how values defined in an expression must relate to the actual HTTP request value for the expression to return `}<inlineCode parentName=\"li\">{`true`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#logical-operators\"\n        }}>{`Logical operators`}</a>{` combine two expressions to form a compound expression and use order of precedence to determine how an expression is evaluated.`}</li>\n    </ul>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"/cf-firewall-language/operators/#grouping-symbols\"\n      }}>{`Grouping symbols`}</a>{` allow you to organize expressions, enforce precedence, and nest expressions.`}</p>\n    <h2 {...{\n      \"id\": \"comparison-operators\"\n    }}>{`Comparison operators`}</h2>\n    <p>{`Comparison operators return `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{` when a value from an HTTP request matches a value defined in an expression.`}</p>\n    <p>{`This is the general pattern for using comparison operators:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sql\"\n      }}>{`<field> <comparison operator> <value>\n`}</code></pre>\n    <p>{`The Cloudflare Firewall Rules language supports these comparison operators:`}</p>\n    <Aside type='warning' header='Important' mdxType=\"Aside\">\n      <p>{`Access to the `}<inlineCode parentName=\"p\">{`matches`}</inlineCode>{` operator requires a Cloudflare Business or Enterprise plan.`}</p>\n    </Aside>\n    <TableWrap style='width:100%' mdxType=\"TableWrap\">\n      <table style='width:100%'>\n  <thead>\n   <tr>\n      <th>Name</th>\n      <th colspan=\"2\" style=\"text-align:center\">Operator Notation</th>\n      <th colspan=\"3\" style=\"text-align:center\">Supported Data Types</th>\n      <th></th>\n   </tr>\n   <tr>\n      <td></td>\n      <th>English</th>\n      <th>C-like</th>\n      <th>String</th>\n      <th>IP</th>\n      <th>Number</th>\n      <th>Example (operator in bold)</th>\n   </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>Equal</td>\n      <td><code class=\"InlineCode\">eq</code></td>\n      <td><code class=\"InlineCode\">==</code></td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">http.request.uri.path <strong>eq</strong> \"/articles/2008/\"</code>\n      </td>\n     </tr>\n    <tr>\n      <td>Not equal</td>\n      <td><code class=\"InlineCode\">ne</code></td>\n      <td><code class=\"InlineCode\">!=</code></td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">ip.src <strong>ne</strong> 93.184.216.0</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Less than</td>\n      <td><code class=\"InlineCode\">lt</code></td>\n      <td><code class=\"InlineCode\">&lt;</code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">cf.threat_score <strong>lt</strong> 10</code>\n      </td>\n   </tr>\n   <tr>\n      <td>Less than<br />or equal</td>\n      <td><code class=\"InlineCode\">le</code></td>\n      <td><code class=\"InlineCode\">&lt;=</code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">cf.threat_score <strong>le</strong> 20</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Greater than</td>\n      <td><code class=\"InlineCode\">gt</code></td>\n      <td><code class=\"InlineCode\">></code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">cf.threat_score <strong>gt</strong> 25</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Greater than<br />or equal</td>\n      <td><code class=\"InlineCode\">ge</code></td>\n      <td><code class=\"InlineCode\">&gt;=</code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">cf.threat_score <strong>ge</strong> 60</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Exactly<br />contains</td>\n      <td><code class=\"InlineCode\">contains</code></td>\n      <td></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#10060;</td>\n      <td>\n         <code class=\"InlineCode\">http.request.uri.path <strong>contains</strong> \"/articles/\"</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Matches<br />regex</td>\n      <td><code class=\"InlineCode\">matches</code></td>\n      <td><code class=\"InlineCode\">~</code></td>\n      <td>&#x2705;</td>\n      <td>&#10060;</td>\n      <td>&#10060;</td>\n      <td>\n         <code class=\"InlineCode\">http.request.uri.path <strong>matches</strong> \"^/articles/200[7-8]/$\"</code>\n      </td>\n    </tr>\n    <tr>\n      <td>Value is in <br />a set of values</td>\n      <td><code class=\"InlineCode\">in</code></td>\n      <td></td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>&#x2705;</td>\n      <td>\n         <code class=\"InlineCode\">ip.src <strong>in</strong> {'{ 93.184.216.0 93.184.216.1 }'}</code>\n      </td>\n    </tr>\n  </tbody>\n      </table>\n    </TableWrap>\n    <h2 {...{\n      \"id\": \"logical-operators\"\n    }}>{`Logical operators`}</h2>\n    <p>{`Logical operators combine two or more expressions into a single compound expression. A compound expression has this general syntax:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sql\"\n      }}>{`<expression> <logical operator> <expression>\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"supported-logical-operators\"\n    }}>{`Supported logical operators`}</h3>\n    <p>{`Each logical operator has an `}<a parentName=\"p\" {...{\n        \"href\": \"#order-of-precedence\"\n      }}>{`order of precedence`}</a>{`. The order of precedence (along with `}<a parentName=\"p\" {...{\n        \"href\": \"#grouping-symbols\"\n      }}>{`grouping symbols`}</a>{`) determines the order in which Cloudflare evaluates logical operators in an expression. The `}<inlineCode parentName=\"p\">{`not`}</inlineCode>{` operator ranks first in order of precedence.`}</p>\n    <TableWrap mdxType=\"TableWrap\">\n      <table style='width:100%'>\n  <thead>\n   <tr>\n      <th>Name</th>\n      <th>English<br />Notation</th>\n      <th>C-like<br />Notation</th>\n      <th>Example</th>\n      <th>Order of Precedence</th>\n   </tr>\n  </thead>\n  <tbody>\n   <tr>\n      <td>Logical NOT</td>\n      <td><code class=\"InlineCode\">not</code></td>\n      <td><code class=\"InlineCode\">!</code></td>\n      <td>\n         <code class=\"InlineCode\"><strong>not</strong> ( http.host eq \"www.cloudflare.com\" and ip.src in 93.184.216.0/24 )</code>\n      </td>\n      <td>1</td>\n   </tr>\n   <tr>\n      <td>Logical AND</td>\n      <td><code class=\"InlineCode\">and</code></td>\n      <td><code class=\"InlineCode\">&amp;&amp;</code></td>\n      <td>\n         <code class=\"InlineCode\">http.host eq \"www.cloudflare.com\" <strong>and</strong> ip.src in 93.184.216.0/24</code>\n      </td>\n      <td>2</td>\n   </tr>\n   <tr>\n      <td>Logical XOR<br />\n        (exclusive OR)</td>\n      <td><code class=\"InlineCode\">xor</code></td>\n      <td><code class=\"InlineCode\">^^</code></td>\n      <td>\n         <code class=\"InlineCode\">http.host eq \"www.cloudflare.com\" <strong>xor</strong> ip.src in 93.184.216.0/24</code>\n      </td>\n      <td>3</td>\n   </tr>\n   <tr>\n      <td>Logical OR</td>\n      <td><code class=\"InlineCode\">or</code></td>\n      <td><code class=\"InlineCode\">||</code></td>\n      <td>\n         <code class=\"InlineCode\">http.host eq \"www.cloudflare.com\" <strong>or</strong> ip.src in 93.184.216.0/24</code>\n      </td>\n      <td>4</td>\n   </tr>\n  </tbody>\n      </table>\n    </TableWrap>\n    <h3 {...{\n      \"id\": \"order-of-precedence\"\n    }}>{`Order of precedence`}</h3>\n    <Aside type='warning' header='Important' mdxType=\"Aside\">\n      <p>{`To avoid ambiguity when working with logical operators, use grouping symbols so that the order of evaluation is explicit.`}</p>\n    </Aside>\n    <p>{`When writing compound expressions, it is important to be aware of the precedence of logical operators so that your expression is evaluated the way you expect.`}</p>\n    <p>{`For example, consider the following generic expression, which uses `}<inlineCode parentName=\"p\">{`and`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`or`}</inlineCode>{` operators:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`Expression1 and Expression2 or Expression3\n`}</code></pre>\n    <p>{`If these operators had no order of precedence, it would not be clear which of two interpretations is correct:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Match when Expression 1 and Expression 2 are both true `}<strong parentName=\"li\">{`or`}</strong>{` when Expression 3 is true.`}</li>\n      <li parentName=\"ol\">{`Match when Expression 1 is true `}<strong parentName=\"li\">{`and`}</strong>{` either Expression 2 or Expression 3 is true.`}</li>\n    </ol>\n    <p>{`Since the logical `}<inlineCode parentName=\"p\">{`and`}</inlineCode>{` operator has precedence over logical `}<inlineCode parentName=\"p\">{`or`}</inlineCode>{`, the `}<inlineCode parentName=\"p\">{`and`}</inlineCode>{` operator must be evaluated first. Interpretation 1 is correct.`}</p>\n    <h2 {...{\n      \"id\": \"grouping-symbols\"\n    }}>{`Grouping symbols`}</h2>\n    <Aside type='warning' header='Important' mdxType=\"Aside\">\n      <p>{`Only the `}<a parentName=\"p\" {...{\n          \"href\": \"/cf-dashboard/expression-preview-editor/\"\n        }}>{`Expression Editor`}</a>{` and the `}<a parentName=\"p\" {...{\n          \"href\": \"/api/\"\n        }}>{`Cloudflare API`}</a>{` support grouping symbols. The `}<a parentName=\"p\" {...{\n          \"href\": \"/cf-dashboard/create-edit-delete-rules/\"\n        }}>{`Expression Builder`}</a>{` does not.`}</p>\n    </Aside>\n    <p>{`The Firewall Rules language supports parentheses (`}<inlineCode parentName=\"p\">{`(`}</inlineCode>{`,`}<inlineCode parentName=\"p\">{`)`}</inlineCode>{`) as grouping symbols. Grouping symbols allow you to organize expressions, enforce precedence, and nest expressions.`}</p>\n    <h3 {...{\n      \"id\": \"group-expressions\"\n    }}>{`Group expressions`}</h3>\n    <p>{`Use parentheses to explicitly group expressions that should be evaluated together. In this example, the parentheses do not alter the evaluation of the expression, but they unambiguously call out which logical operators to evaluate first.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`(Expression1 and Expression2) or Expression3\n`}</code></pre>\n    <p>{`Because grouping symbols are so explicit, you are less likely to make errors when you use them to write compound expressions.`}</p>\n    <h3 {...{\n      \"id\": \"enforce-precedence\"\n    }}>{`Enforce precedence`}</h3>\n    <p>{`Grouping symbols are a powerful tool to enforce precedence for grouped elements of a compound expression. In this example, parentheses force the logical `}<inlineCode parentName=\"p\">{`or`}</inlineCode>{` operator to be evaluated before the logical `}<inlineCode parentName=\"p\">{`and`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`Expression1 and (Expression2 or Expression3)\n`}</code></pre>\n    <p>{`Without parentheses, the logical `}<inlineCode parentName=\"p\">{`and`}</inlineCode>{` operator would take precedence.`}</p>\n    <h3 {...{\n      \"id\": \"nest-expressions\"\n    }}>{`Nest expressions`}</h3>\n    <p>{`You can nest expressions grouped by parentheses inside other groups to create very precise, sophisticated expressions, such as this example for a rule designed to block access to a domain:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sql\"\n      }}>{`(\n (http.host eq \"api.example.com\" and http.request.uri.path eq \"/api/v2/auth\") or\n (http.host matches \"^(www|store|blog)\\\\.example.com\" and http.request.uri.path contains \"wp-login.php\") or\n ip.geoip.country in {\"CN\" \"TH\" \"US\" \"ID\" \"KR\" \"MY\" \"IT\" \"SG\" \"GB\"} or ip.geoip.asnum in {12345 54321 11111}\n) and not ip.src in {11.22.33.0/24}\n`}</code></pre>\n    <p>{`Note that when evaluating the precedence of logical operators, parentheses inside strings delimited by quotes are ignored, such as those in the following regular expression, drawn from the example above:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sql\"\n      }}>{`\"^(www|store|blog)\\\\.example\\\\.com\"\n`}</code></pre>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}