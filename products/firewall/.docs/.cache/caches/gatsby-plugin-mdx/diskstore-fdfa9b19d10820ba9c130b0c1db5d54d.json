{"expireTime":9007200899183234000,"key":"gatsby-plugin-mdx-entire-payload-a611ae1f58143ec88bdcac611368c956-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Configure Schema Validation","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":30,"offset":30},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":30,"offset":30},"indent":[]}},{"type":"jsx","value":"<Aside type='note'>","position":{"start":{"line":4,"column":1,"offset":32},"end":{"line":4,"column":20,"offset":51},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This feature is only available for customers on an Enterprise plan. Contact your Cloudflare Customer Success Manager to get access.","position":{"start":{"line":6,"column":1,"offset":53},"end":{"line":6,"column":132,"offset":184},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":53},"end":{"line":6,"column":132,"offset":184},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":8,"column":1,"offset":186},"end":{"line":8,"column":9,"offset":194},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Use the ","position":{"start":{"line":10,"column":1,"offset":196},"end":{"line":10,"column":9,"offset":204},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"API Shield","position":{"start":{"line":10,"column":11,"offset":206},"end":{"line":10,"column":21,"offset":216},"indent":[]}}],"position":{"start":{"line":10,"column":9,"offset":204},"end":{"line":10,"column":23,"offset":218},"indent":[]}},{"type":"text","value":" interface to configure ","position":{"start":{"line":10,"column":23,"offset":218},"end":{"line":10,"column":47,"offset":242},"indent":[]}},{"type":"link","title":null,"url":"/cf-firewall-rules/api-shield#schema-validation","children":[{"type":"text","value":"API Schema Validation","position":{"start":{"line":10,"column":48,"offset":243},"end":{"line":10,"column":69,"offset":264},"indent":[]}}],"position":{"start":{"line":10,"column":47,"offset":242},"end":{"line":10,"column":119,"offset":314},"indent":[]}},{"type":"text","value":", which validates requests according to the API Schema you provide.","position":{"start":{"line":10,"column":119,"offset":314},"end":{"line":10,"column":186,"offset":381},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":196},"end":{"line":10,"column":186,"offset":381},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Before you can configure Schema Validation for an API, you must obtain its API Schema file. API Shield supports API Schemas using OpenAPI Specification v3. The accepted file formats are YAML (files with a ","position":{"start":{"line":12,"column":1,"offset":383},"end":{"line":12,"column":206,"offset":588},"indent":[]}},{"type":"inlineCode","value":".yml","position":{"start":{"line":12,"column":206,"offset":588},"end":{"line":12,"column":212,"offset":594},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":12,"column":212,"offset":594},"end":{"line":12,"column":216,"offset":598},"indent":[]}},{"type":"inlineCode","value":".yaml","position":{"start":{"line":12,"column":216,"offset":598},"end":{"line":12,"column":223,"offset":605},"indent":[]}},{"type":"text","value":" file extension) and JSON (files with a ","position":{"start":{"line":12,"column":223,"offset":605},"end":{"line":12,"column":263,"offset":645},"indent":[]}},{"type":"inlineCode","value":".json","position":{"start":{"line":12,"column":263,"offset":645},"end":{"line":12,"column":270,"offset":652},"indent":[]}},{"type":"text","value":" file extension).","position":{"start":{"line":12,"column":270,"offset":652},"end":{"line":12,"column":287,"offset":669},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":383},"end":{"line":12,"column":287,"offset":669},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Create an API Shield with Schema Validation","position":{"start":{"line":14,"column":4,"offset":674},"end":{"line":14,"column":47,"offset":717},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":671},"end":{"line":14,"column":47,"offset":717},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To configure Schema Validation in the Cloudflare dashboard, follow these steps:","position":{"start":{"line":16,"column":1,"offset":719},"end":{"line":16,"column":80,"offset":798},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":719},"end":{"line":16,"column":80,"offset":798},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Log in to your Cloudflare account Home page and click the zone containing the host for which you want to configure Schema Validation.","position":{"start":{"line":18,"column":4,"offset":803},"end":{"line":18,"column":137,"offset":936},"indent":[]}}],"position":{"start":{"line":18,"column":4,"offset":803},"end":{"line":18,"column":137,"offset":936},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":800},"end":{"line":19,"column":1,"offset":937},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the ","position":{"start":{"line":20,"column":4,"offset":941},"end":{"line":20,"column":14,"offset":951},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Firewall","position":{"start":{"line":20,"column":16,"offset":953},"end":{"line":20,"column":24,"offset":961},"indent":[]}}],"position":{"start":{"line":20,"column":14,"offset":951},"end":{"line":20,"column":26,"offset":963},"indent":[]}},{"type":"text","value":" app.","position":{"start":{"line":20,"column":26,"offset":963},"end":{"line":20,"column":31,"offset":968},"indent":[]}}],"position":{"start":{"line":20,"column":4,"offset":941},"end":{"line":20,"column":31,"offset":968},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Firewall ","position":{"start":{"line":22,"column":5,"offset":974},"end":{"line":22,"column":18,"offset":987},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Overview","position":{"start":{"line":22,"column":20,"offset":989},"end":{"line":22,"column":28,"offset":997},"indent":[]}}],"position":{"start":{"line":22,"column":18,"offset":987},"end":{"line":22,"column":30,"offset":999},"indent":[]}},{"type":"text","value":" displays.","position":{"start":{"line":22,"column":30,"offset":999},"end":{"line":22,"column":40,"offset":1009},"indent":[]}}],"position":{"start":{"line":22,"column":5,"offset":974},"end":{"line":22,"column":40,"offset":1009},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../images/firewall-app-overview.png","alt":"Firewall Overview tab","position":{"start":{"line":24,"column":5,"offset":1015},"end":{"line":24,"column":66,"offset":1076},"indent":[]}}],"position":{"start":{"line":24,"column":5,"offset":1015},"end":{"line":24,"column":66,"offset":1076},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":938},"end":{"line":25,"column":1,"offset":1077},"indent":[1,1,1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the ","position":{"start":{"line":26,"column":4,"offset":1081},"end":{"line":26,"column":14,"offset":1091},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"API Shield","position":{"start":{"line":26,"column":16,"offset":1093},"end":{"line":26,"column":26,"offset":1103},"indent":[]}}],"position":{"start":{"line":26,"column":14,"offset":1091},"end":{"line":26,"column":28,"offset":1105},"indent":[]}},{"type":"text","value":" tab.","position":{"start":{"line":26,"column":28,"offset":1105},"end":{"line":26,"column":33,"offset":1110},"indent":[]}}],"position":{"start":{"line":26,"column":4,"offset":1081},"end":{"line":26,"column":33,"offset":1110},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":28,"column":5,"offset":1116},"end":{"line":28,"column":9,"offset":1120},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"API Shield","position":{"start":{"line":28,"column":11,"offset":1122},"end":{"line":28,"column":21,"offset":1132},"indent":[]}}],"position":{"start":{"line":28,"column":9,"offset":1120},"end":{"line":28,"column":23,"offset":1134},"indent":[]}},{"type":"text","value":" card displays.","position":{"start":{"line":28,"column":23,"offset":1134},"end":{"line":28,"column":38,"offset":1149},"indent":[]}}],"position":{"start":{"line":28,"column":5,"offset":1116},"end":{"line":28,"column":38,"offset":1149},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../images/api-shield-card.png","alt":"API Shield card","position":{"start":{"line":30,"column":5,"offset":1155},"end":{"line":30,"column":54,"offset":1204},"indent":[]}}],"position":{"start":{"line":30,"column":5,"offset":1155},"end":{"line":30,"column":54,"offset":1204},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1078},"end":{"line":31,"column":1,"offset":1205},"indent":[1,1,1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":32,"column":4,"offset":1209},"end":{"line":32,"column":10,"offset":1215},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Deploy API Shield","position":{"start":{"line":32,"column":12,"offset":1217},"end":{"line":32,"column":29,"offset":1234},"indent":[]}}],"position":{"start":{"line":32,"column":10,"offset":1215},"end":{"line":32,"column":31,"offset":1236},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":32,"column":31,"offset":1236},"end":{"line":32,"column":32,"offset":1237},"indent":[]}}],"position":{"start":{"line":32,"column":4,"offset":1209},"end":{"line":32,"column":32,"offset":1237},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The API Shield creation wizard displays.","position":{"start":{"line":34,"column":5,"offset":1243},"end":{"line":34,"column":45,"offset":1283},"indent":[]}}],"position":{"start":{"line":34,"column":5,"offset":1243},"end":{"line":34,"column":45,"offset":1283},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../images/api-shield-properties-step.png","alt":"API Shield Properties wizard step","position":{"start":{"line":36,"column":5,"offset":1289},"end":{"line":36,"column":83,"offset":1367},"indent":[]}}],"position":{"start":{"line":36,"column":5,"offset":1289},"end":{"line":36,"column":83,"offset":1367},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1206},"end":{"line":37,"column":1,"offset":1368},"indent":[1,1,1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Enter a descriptive name for the API Shield in the ","position":{"start":{"line":38,"column":4,"offset":1372},"end":{"line":38,"column":55,"offset":1423},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Shield name","position":{"start":{"line":38,"column":57,"offset":1425},"end":{"line":38,"column":68,"offset":1436},"indent":[]}}],"position":{"start":{"line":38,"column":55,"offset":1423},"end":{"line":38,"column":70,"offset":1438},"indent":[]}},{"type":"text","value":" input. ","position":{"start":{"line":38,"column":70,"offset":1438},"end":{"line":38,"column":78,"offset":1446},"indent":[]}}],"position":{"start":{"line":38,"column":4,"offset":1372},"end":{"line":38,"column":78,"offset":1446},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1369},"end":{"line":39,"column":1,"offset":1447},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Configure the expression for the API Shield using the available request fields.","position":{"start":{"line":40,"column":4,"offset":1451},"end":{"line":40,"column":83,"offset":1530},"indent":[]}}],"position":{"start":{"line":40,"column":4,"offset":1451},"end":{"line":40,"column":83,"offset":1530},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For example, if your API is available at ","position":{"start":{"line":42,"column":5,"offset":1536},"end":{"line":42,"column":46,"offset":1577},"indent":[]}},{"type":"inlineCode","value":"http://api.example.com/v1","position":{"start":{"line":42,"column":46,"offset":1577},"end":{"line":42,"column":73,"offset":1604},"indent":[]}},{"type":"text","value":", the expression must include a check for the ","position":{"start":{"line":42,"column":73,"offset":1604},"end":{"line":42,"column":119,"offset":1650},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Hostname","position":{"start":{"line":42,"column":120,"offset":1651},"end":{"line":42,"column":128,"offset":1659},"indent":[]}}],"position":{"start":{"line":42,"column":119,"offset":1650},"end":{"line":42,"column":129,"offset":1660},"indent":[]}},{"type":"text","value":" field (which must be equal to ","position":{"start":{"line":42,"column":129,"offset":1660},"end":{"line":42,"column":160,"offset":1691},"indent":[]}},{"type":"inlineCode","value":"api.example.com","position":{"start":{"line":42,"column":160,"offset":1691},"end":{"line":42,"column":177,"offset":1708},"indent":[]}},{"type":"text","value":") and a check for the ","position":{"start":{"line":42,"column":177,"offset":1708},"end":{"line":42,"column":199,"offset":1730},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"URI Path","position":{"start":{"line":42,"column":200,"offset":1731},"end":{"line":42,"column":208,"offset":1739},"indent":[]}}],"position":{"start":{"line":42,"column":199,"offset":1730},"end":{"line":42,"column":209,"offset":1740},"indent":[]}},{"type":"text","value":" field using a regular expression (which must match the regex ","position":{"start":{"line":42,"column":209,"offset":1740},"end":{"line":42,"column":271,"offset":1802},"indent":[]}},{"type":"inlineCode","value":"^/v1","position":{"start":{"line":42,"column":271,"offset":1802},"end":{"line":42,"column":277,"offset":1808},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":42,"column":277,"offset":1808},"end":{"line":42,"column":279,"offset":1810},"indent":[]}}],"position":{"start":{"line":42,"column":5,"offset":1536},"end":{"line":42,"column":279,"offset":1810},"indent":[]}},{"type":"jsx","value":"<Aside type='warning' header='Important'>","position":{"start":{"line":44,"column":5,"offset":1816},"end":{"line":44,"column":46,"offset":1857},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To validate the hostname, you must include the ","position":{"start":{"line":46,"column":5,"offset":1863},"end":{"line":46,"column":52,"offset":1910},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Hostname","position":{"start":{"line":46,"column":53,"offset":1911},"end":{"line":46,"column":61,"offset":1919},"indent":[]}}],"position":{"start":{"line":46,"column":52,"offset":1910},"end":{"line":46,"column":62,"offset":1920},"indent":[]}},{"type":"text","value":" field explicitly in the rule, even if the hostname value is in the schema file. Any hostname value present in the schema file will be ignored.","position":{"start":{"line":46,"column":62,"offset":1920},"end":{"line":46,"column":205,"offset":2063},"indent":[]}}],"position":{"start":{"line":46,"column":5,"offset":1863},"end":{"line":46,"column":205,"offset":2063},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Regular expression support is a paid add-on in the Enterprise plan.","position":{"start":{"line":48,"column":5,"offset":2069},"end":{"line":48,"column":72,"offset":2136},"indent":[]}}],"position":{"start":{"line":48,"column":5,"offset":2069},"end":{"line":48,"column":72,"offset":2136},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":50,"column":5,"offset":2142},"end":{"line":50,"column":13,"offset":2150},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1448},"end":{"line":51,"column":1,"offset":2151},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":52,"column":4,"offset":2155},"end":{"line":52,"column":10,"offset":2161},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Next","position":{"start":{"line":52,"column":12,"offset":2163},"end":{"line":52,"column":16,"offset":2167},"indent":[]}}],"position":{"start":{"line":52,"column":10,"offset":2161},"end":{"line":52,"column":18,"offset":2169},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":52,"column":18,"offset":2169},"end":{"line":52,"column":19,"offset":2170},"indent":[]}}],"position":{"start":{"line":52,"column":4,"offset":2155},"end":{"line":52,"column":19,"offset":2170},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":54,"column":5,"offset":2176},"end":{"line":54,"column":9,"offset":2180},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Security solution","position":{"start":{"line":54,"column":11,"offset":2182},"end":{"line":54,"column":28,"offset":2199},"indent":[]}}],"position":{"start":{"line":54,"column":9,"offset":2180},"end":{"line":54,"column":30,"offset":2201},"indent":[]}},{"type":"text","value":" step displays.","position":{"start":{"line":54,"column":30,"offset":2201},"end":{"line":54,"column":45,"offset":2216},"indent":[]}}],"position":{"start":{"line":54,"column":5,"offset":2176},"end":{"line":54,"column":45,"offset":2216},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../images/api-shield-security-solution-step.png","alt":"API Shield Security solution wizard step","position":{"start":{"line":56,"column":5,"offset":2222},"end":{"line":56,"column":97,"offset":2314},"indent":[]}}],"position":{"start":{"line":56,"column":5,"offset":2222},"end":{"line":56,"column":97,"offset":2314},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":2152},"end":{"line":57,"column":1,"offset":2315},"indent":[1,1,1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Enable the toggle in the ","position":{"start":{"line":58,"column":4,"offset":2319},"end":{"line":58,"column":29,"offset":2344},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Schema Validation","position":{"start":{"line":58,"column":31,"offset":2346},"end":{"line":58,"column":48,"offset":2363},"indent":[]}}],"position":{"start":{"line":58,"column":29,"offset":2344},"end":{"line":58,"column":50,"offset":2365},"indent":[]}},{"type":"text","value":" card.","position":{"start":{"line":58,"column":50,"offset":2365},"end":{"line":58,"column":56,"offset":2371},"indent":[]}}],"position":{"start":{"line":58,"column":4,"offset":2319},"end":{"line":58,"column":56,"offset":2371},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2316},"end":{"line":59,"column":1,"offset":2372},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Upload the API Schema file in ","position":{"start":{"line":60,"column":4,"offset":2376},"end":{"line":60,"column":34,"offset":2406},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Upload API Schema","position":{"start":{"line":60,"column":36,"offset":2408},"end":{"line":60,"column":53,"offset":2425},"indent":[]}}],"position":{"start":{"line":60,"column":34,"offset":2406},"end":{"line":60,"column":55,"offset":2427},"indent":[]}},{"type":"text","value":" by selecting a file or dragging a file to the file upload area (dashed rectangle).","position":{"start":{"line":60,"column":55,"offset":2427},"end":{"line":60,"column":138,"offset":2510},"indent":[]}}],"position":{"start":{"line":60,"column":4,"offset":2376},"end":{"line":60,"column":138,"offset":2510},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":2373},"end":{"line":61,"column":1,"offset":2511},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":62,"column":4,"offset":2515},"end":{"line":62,"column":10,"offset":2521},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Deploy","position":{"start":{"line":62,"column":12,"offset":2523},"end":{"line":62,"column":18,"offset":2529},"indent":[]}}],"position":{"start":{"line":62,"column":10,"offset":2521},"end":{"line":62,"column":20,"offset":2531},"indent":[]}},{"type":"text","value":" to validate the content of the schema file and deploy the Schema Validation rule.","position":{"start":{"line":62,"column":20,"offset":2531},"end":{"line":62,"column":102,"offset":2613},"indent":[]}}],"position":{"start":{"line":62,"column":4,"offset":2515},"end":{"line":62,"column":102,"offset":2613},"indent":[]}},{"type":"jsx","value":"<Aside type='warning'>","position":{"start":{"line":64,"column":5,"offset":2619},"end":{"line":64,"column":27,"offset":2641},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you get a validation error, make sure you are using one of the supported file formats. Also, each endpoint and method pair must have a ","position":{"start":{"line":66,"column":5,"offset":2647},"end":{"line":66,"column":143,"offset":2785},"indent":[]}},{"type":"link","title":null,"url":"/cf-firewall-rules/api-shield#operation-ids","children":[{"type":"text","value":"unique Operation ID","position":{"start":{"line":66,"column":144,"offset":2786},"end":{"line":66,"column":163,"offset":2805},"indent":[]}}],"position":{"start":{"line":66,"column":143,"offset":2785},"end":{"line":66,"column":209,"offset":2851},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":66,"column":209,"offset":2851},"end":{"line":66,"column":210,"offset":2852},"indent":[]}}],"position":{"start":{"line":66,"column":5,"offset":2647},"end":{"line":66,"column":210,"offset":2852},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":68,"column":5,"offset":2858},"end":{"line":68,"column":13,"offset":2866},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":2512},"end":{"line":69,"column":1,"offset":2867},"indent":[1,1,1,1,1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"After deploying your API Shield rule, Cloudflare displays a summary of all API endpoints organized by their protection level and what will be the actions taken for non-compliant and unprotected requests.","position":{"start":{"line":70,"column":4,"offset":2871},"end":{"line":70,"column":207,"offset":3074},"indent":[]}}],"position":{"start":{"line":70,"column":4,"offset":2871},"end":{"line":70,"column":207,"offset":3074},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../images/api-shield-review-endpoints-step.png","alt":"API Shield Review endpoints wizard step","position":{"start":{"line":72,"column":5,"offset":3080},"end":{"line":72,"column":95,"offset":3170},"indent":[]}}],"position":{"start":{"line":72,"column":5,"offset":3080},"end":{"line":72,"column":95,"offset":3170},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The API Shield rule will validate all incoming requests addressed at the endpoints listed in ","position":{"start":{"line":74,"column":5,"offset":3176},"end":{"line":74,"column":98,"offset":3269},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"API Schema endpoints","position":{"start":{"line":74,"column":100,"offset":3271},"end":{"line":74,"column":120,"offset":3291},"indent":[]}}],"position":{"start":{"line":74,"column":98,"offset":3269},"end":{"line":74,"column":122,"offset":3293},"indent":[]}},{"type":"text","value":". The several columns in the table list the validations deployed for each endpoint, according to the information described in the API Schema file.","position":{"start":{"line":74,"column":122,"offset":3293},"end":{"line":74,"column":268,"offset":3439},"indent":[]}}],"position":{"start":{"line":74,"column":5,"offset":3176},"end":{"line":74,"column":268,"offset":3439},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":2868},"end":{"line":75,"column":1,"offset":3440},"indent":[1,1,1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the ","position":{"start":{"line":76,"column":4,"offset":3444},"end":{"line":76,"column":11,"offset":3451},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Endpoint action","position":{"start":{"line":76,"column":13,"offset":3453},"end":{"line":76,"column":28,"offset":3468},"indent":[]}}],"position":{"start":{"line":76,"column":11,"offset":3451},"end":{"line":76,"column":30,"offset":3470},"indent":[]}},{"type":"text","value":" dropdown, select the action that API Shield will perform for every request targeting a protected endpoint that fails Schema Validation.","position":{"start":{"line":76,"column":30,"offset":3470},"end":{"line":76,"column":166,"offset":3606},"indent":[]}}],"position":{"start":{"line":76,"column":4,"offset":3444},"end":{"line":76,"column":166,"offset":3606},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":3441},"end":{"line":77,"column":1,"offset":3607},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the ","position":{"start":{"line":78,"column":4,"offset":3611},"end":{"line":78,"column":11,"offset":3618},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Fallthrough action","position":{"start":{"line":78,"column":13,"offset":3620},"end":{"line":78,"column":31,"offset":3638},"indent":[]}}],"position":{"start":{"line":78,"column":11,"offset":3618},"end":{"line":78,"column":33,"offset":3640},"indent":[]}},{"type":"text","value":" dropdown, select the action to perform for incoming requests addressed at other (non-protected) API endpoints.","position":{"start":{"line":78,"column":33,"offset":3640},"end":{"line":78,"column":144,"offset":3751},"indent":[]}}],"position":{"start":{"line":78,"column":4,"offset":3611},"end":{"line":78,"column":144,"offset":3751},"indent":[]}},{"type":"jsx","value":"<Aside type='warning'>","position":{"start":{"line":80,"column":5,"offset":3757},"end":{"line":80,"column":27,"offset":3779},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Currently, request body validations are not supported.","position":{"start":{"line":82,"column":5,"offset":3785},"end":{"line":82,"column":59,"offset":3839},"indent":[]}}],"position":{"start":{"line":82,"column":5,"offset":3785},"end":{"line":82,"column":59,"offset":3839},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":84,"column":5,"offset":3845},"end":{"line":84,"column":13,"offset":3853},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":3608},"end":{"line":85,"column":1,"offset":3854},"indent":[1,1,1,1,1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":86,"column":4,"offset":3858},"end":{"line":86,"column":10,"offset":3864},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Done","position":{"start":{"line":86,"column":12,"offset":3866},"end":{"line":86,"column":16,"offset":3870},"indent":[]}}],"position":{"start":{"line":86,"column":10,"offset":3864},"end":{"line":86,"column":18,"offset":3872},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":86,"column":18,"offset":3872},"end":{"line":86,"column":19,"offset":3873},"indent":[]}}],"position":{"start":{"line":86,"column":4,"offset":3858},"end":{"line":86,"column":19,"offset":3873},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":3855},"end":{"line":86,"column":19,"offset":3873},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":800},"end":{"line":86,"column":19,"offset":3873},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The API Shield wizard closes and the ","position":{"start":{"line":88,"column":1,"offset":3875},"end":{"line":88,"column":38,"offset":3912},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"API Shield","position":{"start":{"line":88,"column":40,"offset":3914},"end":{"line":88,"column":50,"offset":3924},"indent":[]}}],"position":{"start":{"line":88,"column":38,"offset":3912},"end":{"line":88,"column":52,"offset":3926},"indent":[]}},{"type":"text","value":" card displays with your new API Shield in the list.","position":{"start":{"line":88,"column":52,"offset":3926},"end":{"line":88,"column":104,"offset":3978},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":3875},"end":{"line":88,"column":104,"offset":3978},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"pcx-content-type\":\"how-to\",\"order\":390,\"type\":\"overview\"}","position":{"start":{"line":91,"column":1,"offset":3981},"end":{"line":91,"column":88,"offset":4068},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":91,"column":88,"offset":4068}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"pcx-content-type\": \"how-to\",\n  \"order\": 390,\n  \"type\": \"overview\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"configure-schema-validation\"\n  }, \"Configure Schema Validation\"), mdx(Aside, {\n    type: \"note\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"This feature is only available for customers on an Enterprise plan. Contact your Cloudflare Customer Success Manager to get access.\")), mdx(\"p\", null, \"Use the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"API Shield\"), \" interface to configure \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-firewall-rules/api-shield#schema-validation\"\n  }, \"API Schema Validation\"), \", which validates requests according to the API Schema you provide.\"), mdx(\"p\", null, \"Before you can configure Schema Validation for an API, you must obtain its API Schema file. API Shield supports API Schemas using OpenAPI Specification v3. The accepted file formats are YAML (files with a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".yml\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".yaml\"), \" file extension) and JSON (files with a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".json\"), \" file extension).\"), mdx(\"h2\", {\n    \"id\": \"create-an-api-shield-with-schema-validation\"\n  }, \"Create an API Shield with Schema Validation\"), mdx(\"p\", null, \"To configure Schema Validation in the Cloudflare dashboard, follow these steps:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Log in to your Cloudflare account Home page and click the zone containing the host for which you want to configure Schema Validation.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Firewall\"), \" app.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The Firewall \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Overview\"), \" displays.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"678px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/a23457fb182cddfd620148f600403e49/38cea/firewall-app-overview.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"27.745664739884397%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAABYiAAAWIgEbFoKPAAABQklEQVQY0zWMsUvDQBTG8ze5urgIgm4qgpaCg4NOgoMguihSLUj/AQe1tuKglC6CJVaotBZpNS1JTNpSrdbc5S53uVyz1cSzoT8+Ph7fe9+TLgrgpoSyRZiR4aUMMjK4foRpGd6WrHTuKfegXhVRvoxO736EpwsgX0HnBStfwWf3lrR0qMWO9bWUMbPTmNtrLuyrs7uNeNJcTylTscT8Vnb1pBU70iY3X5cT2vS2Ek/qiwfqSkKf2KhJNQOrXfJmOu+fnt51G22idanScswee64beseqG6TT51UNtb95VUVmz3vRkP5By00ohWEQhr8jRQxHczBSRDD2YLwdRpJs26aEEEoBgABCxyGu68J/bEpdjLHIqcsQdiilnHPmCbgQ87j01YfAFgUmvmCEoguEkKiJK/FIhGIQOWPM9/3BYOCP+QPAIy5BofG5wwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Firewall Overview tab\",\n    \"title\": \"Firewall Overview tab\",\n    \"src\": \"/static/a23457fb182cddfd620148f600403e49/38cea/firewall-app-overview.png\",\n    \"srcSet\": [\"/static/a23457fb182cddfd620148f600403e49/8f77f/firewall-app-overview.png 346w\", \"/static/a23457fb182cddfd620148f600403e49/38cea/firewall-app-overview.png 678w\"],\n    \"sizes\": \"(max-width: 678px) 100vw, 678px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"API Shield\"), \" tab.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"API Shield\"), \" card displays.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1300px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/d58513e815996a300593d0e14bc1a6aa/3c492/api-shield-card.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"30.346820809248555%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAA4ElEQVQY001QSXLEIBDzq5PvzBfyiVxzH9/iYgKD2cHsdmRcSY0KVKKhu0VPrbWcgJJSz7mn1MDHcez73l+AZ977bQspnmvobYoxLsv3gzBKA2P252GezIWw1VqPF7TenbOEqXkR8yK50CH4KeestTZGKyW0lkpLrdW6rkIIgyhCUkKUUnN0H5/k7XZ/v92/Zl5TOJMppYQQKRXMOOf8gLUWHEJABAwjENYakLNnWRwnbEh8aR+4TF4CCSjhBhSMCYEqnHN8CkNC1zMZUdi7rv+1HFj/gPGgFnqUUsDXFH8BA5xU2xUH9t0AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"API Shield card\",\n    \"title\": \"API Shield card\",\n    \"src\": \"/static/d58513e815996a300593d0e14bc1a6aa/3c492/api-shield-card.png\",\n    \"srcSet\": [\"/static/d58513e815996a300593d0e14bc1a6aa/8f77f/api-shield-card.png 346w\", \"/static/d58513e815996a300593d0e14bc1a6aa/e185b/api-shield-card.png 691w\", \"/static/d58513e815996a300593d0e14bc1a6aa/3c492/api-shield-card.png 1300w\"],\n    \"sizes\": \"(max-width: 1300px) 100vw, 1300px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Deploy API Shield\"), \".\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The API Shield creation wizard displays.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1049px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/9045d1d2be0d7510884a0e2c637b63a0/b6529/api-shield-properties-step.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"66.1849710982659%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAABBUlEQVQoz5WSC3KDIBRF2X830yV0CV1EP4IoCMYPH5Oj1E6dSW1zhmQIj5v37lVRu/CmR93N0zRdNkIIfPd9n1K6niLaVitZKVUhuD6I0ForpVAOw0DP5cgfYmTe+3knHjnXi589vhvmvK4TSlU413Xd+mnb1jlX/uK/no0xKIka58yfc26ahsNxHNM9uIA7kuKCqOsaDafTBplRK5u7YoIgJoblmig5c8SDZYRxI/4CYqqyqqw1E535gYxWJ95KCl/BLkvKi71ENyQCc1JKPGAV280OdsqGEllaa/sd57213nReMEkIMazEeQ5H4l5a90xdFs+JOVji0VcSqZYfL6+fT8/vN7Gj+CrAvPFOAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"API Shield Properties wizard step\",\n    \"title\": \"API Shield Properties wizard step\",\n    \"src\": \"/static/9045d1d2be0d7510884a0e2c637b63a0/b6529/api-shield-properties-step.png\",\n    \"srcSet\": [\"/static/9045d1d2be0d7510884a0e2c637b63a0/8f77f/api-shield-properties-step.png 346w\", \"/static/9045d1d2be0d7510884a0e2c637b63a0/e185b/api-shield-properties-step.png 691w\", \"/static/9045d1d2be0d7510884a0e2c637b63a0/b6529/api-shield-properties-step.png 1049w\"],\n    \"sizes\": \"(max-width: 1049px) 100vw, 1049px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Enter a descriptive name for the API Shield in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Shield name\"), \" input. \")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Configure the expression for the API Shield using the available request fields.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"For example, if your API is available at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://api.example.com/v1\"), \", the expression must include a check for the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Hostname\"), \" field (which must be equal to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"api.example.com\"), \") and a check for the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"URI Path\"), \" field using a regular expression (which must match the regex \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"^/v1\"), \").\"), mdx(Aside, {\n    type: \"warning\",\n    header: \"Important\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"To validate the hostname, you must include the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Hostname\"), \" field explicitly in the rule, even if the hostname value is in the schema file. Any hostname value present in the schema file will be ignored.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Regular expression support is a paid add-on in the Enterprise plan.\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Next\"), \".\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Security solution\"), \" step displays.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1382px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/124679037e667af92f39639f29a69f6a/1df5b/api-shield-security-solution-step.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"55.491329479768794%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABh0lEQVQoz4VSW3LDIAz0/e/Qc/QM+cpXZ/qVNpM6TcLDgG0MNngrEbtt0nbKzI4WkISEtvLew1qLgW0XcVQDTk1ACBFd26JtO6SUwGueZ9yv+5PKOQchBLTW0EpCnE9kBc7nczlbE+Wci11R9vmLr/fVNE0lsGkaKKUwjiO4kDXwt8U+3JV1FsYacFG8524rbqeuaxwOB7zu97hQtVIqgqQHdHmEuRCycA4MMWJoezyddnh4fiy8MeaaMOcEZxtYQ1VqBSUpobiUszD4Bf0CjzRFajXR/1JVzkAYgY4qdJYT9qh8mHDUAbJNEG6C6hLxqXC2FzsW8J7BnIdWyx7vNEBNPqodId0IzlX1Q8TuTeKllni7WBxli1q4AmEGQoCwAcpFCqKHyfJe2lh4F2b4Eegj/W2ioSQaypwIeaJJpAX5ikUUfMdt/r7mBTzpxH+Yf1x9uix3m80G2+228JznG/lcFXFVBQ+4TPnWYb6RjI8Z2noYklWk6f4p8DXhKsq/kL4J+j9fxgeYIVeIPDi6fQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"API Shield Security solution wizard step\",\n    \"title\": \"API Shield Security solution wizard step\",\n    \"src\": \"/static/124679037e667af92f39639f29a69f6a/f868f/api-shield-security-solution-step.png\",\n    \"srcSet\": [\"/static/124679037e667af92f39639f29a69f6a/8f77f/api-shield-security-solution-step.png 346w\", \"/static/124679037e667af92f39639f29a69f6a/e185b/api-shield-security-solution-step.png 691w\", \"/static/124679037e667af92f39639f29a69f6a/f868f/api-shield-security-solution-step.png 1382w\", \"/static/124679037e667af92f39639f29a69f6a/1df5b/api-shield-security-solution-step.png 1999w\"],\n    \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Enable the toggle in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Schema Validation\"), \" card.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Upload the API Schema file in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Upload API Schema\"), \" by selecting a file or dragging a file to the file upload area (dashed rectangle).\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Deploy\"), \" to validate the content of the schema file and deploy the Schema Validation rule.\"), mdx(Aside, {\n    type: \"warning\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"If you get a validation error, make sure you are using one of the supported file formats. Also, each endpoint and method pair must have a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-firewall-rules/api-shield#operation-ids\"\n  }, \"unique Operation ID\"), \".\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"After deploying your API Shield rule, Cloudflare displays a summary of all API endpoints organized by their protection level and what will be the actions taken for non-compliant and unprotected requests.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1124px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/cec6d4143a71c0a5b386c6e6db5736a2/11b93/api-shield-review-endpoints-step.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"80.34682080924856%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABk0lEQVQoz32TWXbDIAxFvf/v7qBr6H8309PkJB7ANqMEfULETXKa8iGLQXpXAg8xRudczpmI4HjvXKSLzd9zdJFrraW+HAMCrtdxMWYcxxCCnC6VuGQqXP4JbMHbtp1Pp3mekQUUKSUgYAP+PE8YyAiu1AacZ2VjLVLACTF67/UEYqZJMu773nImrMA+BJfGpmqHg0U4yMLM+Bb5sO7qVmljwBIOAVvnxhgAY1GkIlCiDz7ltG4rMlhjYN22w/Zg7bMKAjtoMJFPITOFHLmwywF95yBb7EM9lJFG1TA/WkJMkZLYnBCMFLLYjnFMPVhrAO26rgUKzuuFJcohRdw+LAE1iRqFUNSyjI6NmkPb0LbLVeWEgEwZ8NDfo0Nwdl6CYaVo7tjWWu0zasZUukhSLWnNXbmSFygo/9aMj6Jqk4+aQQ5gWHQWIL3a+5r1qpZlaVUwlPsLI2D7O2z/EhvPSGnlqhoFsKH21G2ON9ue1qBvQ+G7c/Mfhi42izPTli82DVph+esHKrU8WZFtJ98/z28fXz/65K0/KVJcVwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"API Shield Review endpoints wizard step\",\n    \"title\": \"API Shield Review endpoints wizard step\",\n    \"src\": \"/static/cec6d4143a71c0a5b386c6e6db5736a2/11b93/api-shield-review-endpoints-step.png\",\n    \"srcSet\": [\"/static/cec6d4143a71c0a5b386c6e6db5736a2/8f77f/api-shield-review-endpoints-step.png 346w\", \"/static/cec6d4143a71c0a5b386c6e6db5736a2/e185b/api-shield-review-endpoints-step.png 691w\", \"/static/cec6d4143a71c0a5b386c6e6db5736a2/11b93/api-shield-review-endpoints-step.png 1124w\"],\n    \"sizes\": \"(max-width: 1124px) 100vw, 1124px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The API Shield rule will validate all incoming requests addressed at the endpoints listed in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"API Schema endpoints\"), \". The several columns in the table list the validations deployed for each endpoint, according to the information described in the API Schema file.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Endpoint action\"), \" dropdown, select the action that API Shield will perform for every request targeting a protected endpoint that fails Schema Validation.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Fallthrough action\"), \" dropdown, select the action to perform for incoming requests addressed at other (non-protected) API endpoints.\"), mdx(Aside, {\n    type: \"warning\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Currently, request body validations are not supported.\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Done\"), \".\"))), mdx(\"p\", null, \"The API Shield wizard closes and the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"API Shield\"), \" card displays with your new API Shield in the list.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"pcx-content-type\": \"how-to\",\n  \"order\": 390,\n  \"type\": \"overview\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst Aside = makeShortcode(\"Aside\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"configure-schema-validation\"\n    }}>{`Configure Schema Validation`}</h1>\n    <Aside type='note' mdxType=\"Aside\">\n      <p>{`This feature is only available for customers on an Enterprise plan. Contact your Cloudflare Customer Success Manager to get access.`}</p>\n    </Aside>\n    <p>{`Use the `}<strong parentName=\"p\">{`API Shield`}</strong>{` interface to configure `}<a parentName=\"p\" {...{\n        \"href\": \"/cf-firewall-rules/api-shield#schema-validation\"\n      }}>{`API Schema Validation`}</a>{`, which validates requests according to the API Schema you provide.`}</p>\n    <p>{`Before you can configure Schema Validation for an API, you must obtain its API Schema file. API Shield supports API Schemas using OpenAPI Specification v3. The accepted file formats are YAML (files with a `}<inlineCode parentName=\"p\">{`.yml`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`.yaml`}</inlineCode>{` file extension) and JSON (files with a `}<inlineCode parentName=\"p\">{`.json`}</inlineCode>{` file extension).`}</p>\n    <h2 {...{\n      \"id\": \"create-an-api-shield-with-schema-validation\"\n    }}>{`Create an API Shield with Schema Validation`}</h2>\n    <p>{`To configure Schema Validation in the Cloudflare dashboard, follow these steps:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log in to your Cloudflare account Home page and click the zone containing the host for which you want to configure Schema Validation.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click the `}<strong parentName=\"p\">{`Firewall`}</strong>{` app.`}</p>\n        <p parentName=\"li\">{`The Firewall `}<strong parentName=\"p\">{`Overview`}</strong>{` displays.`}</p>\n        <p parentName=\"li\"><span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"678px\"\n            }\n          }}>{`\n      `}<a parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-link\",\n              \"href\": \"/static/a23457fb182cddfd620148f600403e49/38cea/firewall-app-overview.png\",\n              \"style\": {\n                \"display\": \"block\"\n              },\n              \"target\": \"_blank\",\n              \"rel\": \"noopener\"\n            }}>{`\n    `}<span parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-background-image\",\n                \"style\": {\n                  \"paddingBottom\": \"27.745664739884397%\",\n                  \"position\": \"relative\",\n                  \"bottom\": \"0\",\n                  \"left\": \"0\",\n                  \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAABYiAAAWIgEbFoKPAAABQklEQVQY0zWMsUvDQBTG8ze5urgIgm4qgpaCg4NOgoMguihSLUj/AQe1tuKglC6CJVaotBZpNS1JTNpSrdbc5S53uVyz1cSzoT8+Ph7fe9+TLgrgpoSyRZiR4aUMMjK4foRpGd6WrHTuKfegXhVRvoxO736EpwsgX0HnBStfwWf3lrR0qMWO9bWUMbPTmNtrLuyrs7uNeNJcTylTscT8Vnb1pBU70iY3X5cT2vS2Ek/qiwfqSkKf2KhJNQOrXfJmOu+fnt51G22idanScswee64beseqG6TT51UNtb95VUVmz3vRkP5By00ohWEQhr8jRQxHczBSRDD2YLwdRpJs26aEEEoBgABCxyGu68J/bEpdjLHIqcsQdiilnHPmCbgQ87j01YfAFgUmvmCEoguEkKiJK/FIhGIQOWPM9/3BYOCP+QPAIy5BofG5wwAAAABJRU5ErkJggg==')\",\n                  \"backgroundSize\": \"cover\",\n                  \"display\": \"block\"\n                }\n              }}></span>{`\n  `}<img parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"alt\": \"Firewall Overview tab\",\n                \"title\": \"Firewall Overview tab\",\n                \"src\": \"/static/a23457fb182cddfd620148f600403e49/38cea/firewall-app-overview.png\",\n                \"srcSet\": [\"/static/a23457fb182cddfd620148f600403e49/8f77f/firewall-app-overview.png 346w\", \"/static/a23457fb182cddfd620148f600403e49/38cea/firewall-app-overview.png 678w\"],\n                \"sizes\": \"(max-width: 678px) 100vw, 678px\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                },\n                \"loading\": \"lazy\"\n              }}></img>{`\n  `}</a>{`\n    `}</span></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click the `}<strong parentName=\"p\">{`API Shield`}</strong>{` tab.`}</p>\n        <p parentName=\"li\">{`The `}<strong parentName=\"p\">{`API Shield`}</strong>{` card displays.`}</p>\n        <p parentName=\"li\"><span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1300px\"\n            }\n          }}>{`\n      `}<a parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-link\",\n              \"href\": \"/static/d58513e815996a300593d0e14bc1a6aa/3c492/api-shield-card.png\",\n              \"style\": {\n                \"display\": \"block\"\n              },\n              \"target\": \"_blank\",\n              \"rel\": \"noopener\"\n            }}>{`\n    `}<span parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-background-image\",\n                \"style\": {\n                  \"paddingBottom\": \"30.346820809248555%\",\n                  \"position\": \"relative\",\n                  \"bottom\": \"0\",\n                  \"left\": \"0\",\n                  \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAA4ElEQVQY001QSXLEIBDzq5PvzBfyiVxzH9/iYgKD2cHsdmRcSY0KVKKhu0VPrbWcgJJSz7mn1MDHcez73l+AZ977bQspnmvobYoxLsv3gzBKA2P252GezIWw1VqPF7TenbOEqXkR8yK50CH4KeestTZGKyW0lkpLrdW6rkIIgyhCUkKUUnN0H5/k7XZ/v92/Zl5TOJMppYQQKRXMOOf8gLUWHEJABAwjENYakLNnWRwnbEh8aR+4TF4CCSjhBhSMCYEqnHN8CkNC1zMZUdi7rv+1HFj/gPGgFnqUUsDXFH8BA5xU2xUH9t0AAAAASUVORK5CYII=')\",\n                  \"backgroundSize\": \"cover\",\n                  \"display\": \"block\"\n                }\n              }}></span>{`\n  `}<img parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"alt\": \"API Shield card\",\n                \"title\": \"API Shield card\",\n                \"src\": \"/static/d58513e815996a300593d0e14bc1a6aa/3c492/api-shield-card.png\",\n                \"srcSet\": [\"/static/d58513e815996a300593d0e14bc1a6aa/8f77f/api-shield-card.png 346w\", \"/static/d58513e815996a300593d0e14bc1a6aa/e185b/api-shield-card.png 691w\", \"/static/d58513e815996a300593d0e14bc1a6aa/3c492/api-shield-card.png 1300w\"],\n                \"sizes\": \"(max-width: 1300px) 100vw, 1300px\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                },\n                \"loading\": \"lazy\"\n              }}></img>{`\n  `}</a>{`\n    `}</span></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Deploy API Shield`}</strong>{`.`}</p>\n        <p parentName=\"li\">{`The API Shield creation wizard displays.`}</p>\n        <p parentName=\"li\"><span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1049px\"\n            }\n          }}>{`\n      `}<a parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-link\",\n              \"href\": \"/static/9045d1d2be0d7510884a0e2c637b63a0/b6529/api-shield-properties-step.png\",\n              \"style\": {\n                \"display\": \"block\"\n              },\n              \"target\": \"_blank\",\n              \"rel\": \"noopener\"\n            }}>{`\n    `}<span parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-background-image\",\n                \"style\": {\n                  \"paddingBottom\": \"66.1849710982659%\",\n                  \"position\": \"relative\",\n                  \"bottom\": \"0\",\n                  \"left\": \"0\",\n                  \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAABBUlEQVQoz5WSC3KDIBRF2X830yV0CV1EP4IoCMYPH5Oj1E6dSW1zhmQIj5v37lVRu/CmR93N0zRdNkIIfPd9n1K6niLaVitZKVUhuD6I0ForpVAOw0DP5cgfYmTe+3knHjnXi589vhvmvK4TSlU413Xd+mnb1jlX/uK/no0xKIka58yfc26ahsNxHNM9uIA7kuKCqOsaDafTBplRK5u7YoIgJoblmig5c8SDZYRxI/4CYqqyqqw1E535gYxWJ95KCl/BLkvKi71ENyQCc1JKPGAV280OdsqGEllaa/sd57213nReMEkIMazEeQ5H4l5a90xdFs+JOVji0VcSqZYfL6+fT8/vN7Gj+CrAvPFOAAAAAElFTkSuQmCC')\",\n                  \"backgroundSize\": \"cover\",\n                  \"display\": \"block\"\n                }\n              }}></span>{`\n  `}<img parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"alt\": \"API Shield Properties wizard step\",\n                \"title\": \"API Shield Properties wizard step\",\n                \"src\": \"/static/9045d1d2be0d7510884a0e2c637b63a0/b6529/api-shield-properties-step.png\",\n                \"srcSet\": [\"/static/9045d1d2be0d7510884a0e2c637b63a0/8f77f/api-shield-properties-step.png 346w\", \"/static/9045d1d2be0d7510884a0e2c637b63a0/e185b/api-shield-properties-step.png 691w\", \"/static/9045d1d2be0d7510884a0e2c637b63a0/b6529/api-shield-properties-step.png 1049w\"],\n                \"sizes\": \"(max-width: 1049px) 100vw, 1049px\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                },\n                \"loading\": \"lazy\"\n              }}></img>{`\n  `}</a>{`\n    `}</span></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enter a descriptive name for the API Shield in the `}<strong parentName=\"p\">{`Shield name`}</strong>{` input. `}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Configure the expression for the API Shield using the available request fields.`}</p>\n        <p parentName=\"li\">{`For example, if your API is available at `}<inlineCode parentName=\"p\">{`http://api.example.com/v1`}</inlineCode>{`, the expression must include a check for the `}<em parentName=\"p\">{`Hostname`}</em>{` field (which must be equal to `}<inlineCode parentName=\"p\">{`api.example.com`}</inlineCode>{`) and a check for the `}<em parentName=\"p\">{`URI Path`}</em>{` field using a regular expression (which must match the regex `}<inlineCode parentName=\"p\">{`^/v1`}</inlineCode>{`).`}</p>\n        <Aside type='warning' header='Important' mdxType=\"Aside\">\n          <p parentName=\"li\">{`To validate the hostname, you must include the `}<em parentName=\"p\">{`Hostname`}</em>{` field explicitly in the rule, even if the hostname value is in the schema file. Any hostname value present in the schema file will be ignored.`}</p>\n          <p parentName=\"li\">{`Regular expression support is a paid add-on in the Enterprise plan.`}</p>\n        </Aside>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Next`}</strong>{`.`}</p>\n        <p parentName=\"li\">{`The `}<strong parentName=\"p\">{`Security solution`}</strong>{` step displays.`}</p>\n        <p parentName=\"li\"><span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1382px\"\n            }\n          }}>{`\n      `}<a parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-link\",\n              \"href\": \"/static/124679037e667af92f39639f29a69f6a/1df5b/api-shield-security-solution-step.png\",\n              \"style\": {\n                \"display\": \"block\"\n              },\n              \"target\": \"_blank\",\n              \"rel\": \"noopener\"\n            }}>{`\n    `}<span parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-background-image\",\n                \"style\": {\n                  \"paddingBottom\": \"55.491329479768794%\",\n                  \"position\": \"relative\",\n                  \"bottom\": \"0\",\n                  \"left\": \"0\",\n                  \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABh0lEQVQoz4VSW3LDIAz0/e/Qc/QM+cpXZ/qVNpM6TcLDgG0MNngrEbtt0nbKzI4WkISEtvLew1qLgW0XcVQDTk1ACBFd26JtO6SUwGueZ9yv+5PKOQchBLTW0EpCnE9kBc7nczlbE+Wci11R9vmLr/fVNE0lsGkaKKUwjiO4kDXwt8U+3JV1FsYacFG8524rbqeuaxwOB7zu97hQtVIqgqQHdHmEuRCycA4MMWJoezyddnh4fiy8MeaaMOcEZxtYQ1VqBSUpobiUszD4Bf0CjzRFajXR/1JVzkAYgY4qdJYT9qh8mHDUAbJNEG6C6hLxqXC2FzsW8J7BnIdWyx7vNEBNPqodId0IzlX1Q8TuTeKllni7WBxli1q4AmEGQoCwAcpFCqKHyfJe2lh4F2b4Eegj/W2ioSQaypwIeaJJpAX5ikUUfMdt/r7mBTzpxH+Yf1x9uix3m80G2+228JznG/lcFXFVBQ+4TPnWYb6RjI8Z2noYklWk6f4p8DXhKsq/kL4J+j9fxgeYIVeIPDi6fQAAAABJRU5ErkJggg==')\",\n                  \"backgroundSize\": \"cover\",\n                  \"display\": \"block\"\n                }\n              }}></span>{`\n  `}<img parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"alt\": \"API Shield Security solution wizard step\",\n                \"title\": \"API Shield Security solution wizard step\",\n                \"src\": \"/static/124679037e667af92f39639f29a69f6a/f868f/api-shield-security-solution-step.png\",\n                \"srcSet\": [\"/static/124679037e667af92f39639f29a69f6a/8f77f/api-shield-security-solution-step.png 346w\", \"/static/124679037e667af92f39639f29a69f6a/e185b/api-shield-security-solution-step.png 691w\", \"/static/124679037e667af92f39639f29a69f6a/f868f/api-shield-security-solution-step.png 1382w\", \"/static/124679037e667af92f39639f29a69f6a/1df5b/api-shield-security-solution-step.png 1999w\"],\n                \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                },\n                \"loading\": \"lazy\"\n              }}></img>{`\n  `}</a>{`\n    `}</span></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enable the toggle in the `}<strong parentName=\"p\">{`Schema Validation`}</strong>{` card.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Upload the API Schema file in `}<strong parentName=\"p\">{`Upload API Schema`}</strong>{` by selecting a file or dragging a file to the file upload area (dashed rectangle).`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Deploy`}</strong>{` to validate the content of the schema file and deploy the Schema Validation rule.`}</p>\n        <Aside type='warning' mdxType=\"Aside\">\n          <p parentName=\"li\">{`If you get a validation error, make sure you are using one of the supported file formats. Also, each endpoint and method pair must have a `}<a parentName=\"p\" {...{\n              \"href\": \"/cf-firewall-rules/api-shield#operation-ids\"\n            }}>{`unique Operation ID`}</a>{`.`}</p>\n        </Aside>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`After deploying your API Shield rule, Cloudflare displays a summary of all API endpoints organized by their protection level and what will be the actions taken for non-compliant and unprotected requests.`}</p>\n        <p parentName=\"li\"><span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1124px\"\n            }\n          }}>{`\n      `}<a parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-link\",\n              \"href\": \"/static/cec6d4143a71c0a5b386c6e6db5736a2/11b93/api-shield-review-endpoints-step.png\",\n              \"style\": {\n                \"display\": \"block\"\n              },\n              \"target\": \"_blank\",\n              \"rel\": \"noopener\"\n            }}>{`\n    `}<span parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-background-image\",\n                \"style\": {\n                  \"paddingBottom\": \"80.34682080924856%\",\n                  \"position\": \"relative\",\n                  \"bottom\": \"0\",\n                  \"left\": \"0\",\n                  \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABk0lEQVQoz32TWXbDIAxFvf/v7qBr6H8309PkJB7ANqMEfULETXKa8iGLQXpXAg8xRudczpmI4HjvXKSLzd9zdJFrraW+HAMCrtdxMWYcxxCCnC6VuGQqXP4JbMHbtp1Pp3mekQUUKSUgYAP+PE8YyAiu1AacZ2VjLVLACTF67/UEYqZJMu773nImrMA+BJfGpmqHg0U4yMLM+Bb5sO7qVmljwBIOAVvnxhgAY1GkIlCiDz7ltG4rMlhjYN22w/Zg7bMKAjtoMJFPITOFHLmwywF95yBb7EM9lJFG1TA/WkJMkZLYnBCMFLLYjnFMPVhrAO26rgUKzuuFJcohRdw+LAE1iRqFUNSyjI6NmkPb0LbLVeWEgEwZ8NDfo0Nwdl6CYaVo7tjWWu0zasZUukhSLWnNXbmSFygo/9aMj6Jqk4+aQQ5gWHQWIL3a+5r1qpZlaVUwlPsLI2D7O2z/EhvPSGnlqhoFsKH21G2ON9ue1qBvQ+G7c/Mfhi42izPTli82DVph+esHKrU8WZFtJ98/z28fXz/65K0/KVJcVwAAAABJRU5ErkJggg==')\",\n                  \"backgroundSize\": \"cover\",\n                  \"display\": \"block\"\n                }\n              }}></span>{`\n  `}<img parentName=\"a\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"alt\": \"API Shield Review endpoints wizard step\",\n                \"title\": \"API Shield Review endpoints wizard step\",\n                \"src\": \"/static/cec6d4143a71c0a5b386c6e6db5736a2/11b93/api-shield-review-endpoints-step.png\",\n                \"srcSet\": [\"/static/cec6d4143a71c0a5b386c6e6db5736a2/8f77f/api-shield-review-endpoints-step.png 346w\", \"/static/cec6d4143a71c0a5b386c6e6db5736a2/e185b/api-shield-review-endpoints-step.png 691w\", \"/static/cec6d4143a71c0a5b386c6e6db5736a2/11b93/api-shield-review-endpoints-step.png 1124w\"],\n                \"sizes\": \"(max-width: 1124px) 100vw, 1124px\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                },\n                \"loading\": \"lazy\"\n              }}></img>{`\n  `}</a>{`\n    `}</span></p>\n        <p parentName=\"li\">{`The API Shield rule will validate all incoming requests addressed at the endpoints listed in `}<strong parentName=\"p\">{`API Schema endpoints`}</strong>{`. The several columns in the table list the validations deployed for each endpoint, according to the information described in the API Schema file.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the `}<strong parentName=\"p\">{`Endpoint action`}</strong>{` dropdown, select the action that API Shield will perform for every request targeting a protected endpoint that fails Schema Validation.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the `}<strong parentName=\"p\">{`Fallthrough action`}</strong>{` dropdown, select the action to perform for incoming requests addressed at other (non-protected) API endpoints.`}</p>\n        <Aside type='warning' mdxType=\"Aside\">\n          <p parentName=\"li\">{`Currently, request body validations are not supported.`}</p>\n        </Aside>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Done`}</strong>{`.`}</p>\n      </li>\n    </ol>\n    <p>{`The API Shield wizard closes and the `}<strong parentName=\"p\">{`API Shield`}</strong>{` card displays with your new API Shield in the list.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}