{"data":{"mdx":{"id":"0fa2dae9-84b0-5542-a5e5-b83bbd023a43","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"About\",\n  \"pcx-content-type\": \"concept\",\n  \"order\": 200\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar TableWrap = makeShortcode(\"TableWrap\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"about-cloudflare-firewall-rules\"\n  }, \"About Cloudflare Firewall Rules\"), mdx(\"h2\", {\n    \"id\": \"flexibility-and-control\"\n  }, \"Flexibility and control\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Cloudflare Firewall Rules\"), \" is a flexible and intuitive framework for filtering HTTP requests. It gives you fine-grained control over which requests reach your applications.\"), mdx(\"p\", null, \"Firewall Rules allows you to create rules combining several conditions. For example, you can create a single Firewall Rule that blocks traffic to a URI when the request comes from a particular IP and the user-agent matches a specific string or a pattern. Once you are satisfied with the rule, you can deploy it yourself, immediately.\"), mdx(\"p\", null, \"Fundamentally, Firewall Rules gives you the power to proactively inspect incoming site traffic and automatically respond to threats. You define \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"expressions\"), \" that tell Cloudflare what to look for and specify the appropriate \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"action\"), \" to take when those criteria are satisfied.\"), mdx(\"p\", null, \"To write Firewall Rule expressions, use the Rules language, a powerful expression language inspired in the Wireshark Display Filter language. Even though Cloudflare Firewall Rules is not based on the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/\"\n  }, \"Ruleset Engine\"), \", Firewall Rules expressions use the same syntax of the Cloudflare Rules language.\"), mdx(\"p\", null, \"For more information on rule expressions and the available operators, fields, and functions, refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/rules-language\"\n  }, \"Rules language\"), \".\"), mdx(\"h2\", {\n    \"id\": \"working-with-firewall-rules\"\n  }, \"Working with Firewall Rules\"), mdx(\"p\", null, \"To configure Firewall Rules from the Cloudflare dashboard, use the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Firewall Rules\"), \" tab in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Firewall\"), \" app. For more, refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-dashboard\"\n  }, \"Manage rules in the Cloudflare dashboard\"), \".\"), mdx(\"p\", null, \"To configure Firewall Rules with the Cloudflare API, use the Firewall Rules API. Use the Cloudflare Filters API to manage expressions. For more information, refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/api\"\n  }, \"Manage rules via the APIs\"), \".\"), mdx(\"p\", null, \"You can also manage Firewall Rules through Terraform. For more, refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://blog.cloudflare.com/getting-started-with-terraform-and-cloudflare-part-1/\"\n  }, \"Getting Started with Terraform\"), \".\"), mdx(\"h3\", {\n    \"id\": \"firewall-rules-tab\"\n  }, \"Firewall Rules tab\"), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rules List\"), \" gives you a snapshot of recent activity and allows you to manage Firewall Rules in a single convenient location.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1382px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/c335e6f7bf39af78f764552d153c82d2/3dfa7/cf-firewall-rules-panel.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"49.13294797687862%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Firewall Rules tab\",\n    \"title\": \"Firewall Rules tab\",\n    \"src\": \"/static/c335e6f7bf39af78f764552d153c82d2/f868f/cf-firewall-rules-panel.png\",\n    \"srcSet\": [\"/static/c335e6f7bf39af78f764552d153c82d2/8f77f/cf-firewall-rules-panel.png 346w\", \"/static/c335e6f7bf39af78f764552d153c82d2/e185b/cf-firewall-rules-panel.png 691w\", \"/static/c335e6f7bf39af78f764552d153c82d2/f868f/cf-firewall-rules-panel.png 1382w\", \"/static/c335e6f7bf39af78f764552d153c82d2/3dfa7/cf-firewall-rules-panel.png 2028w\"],\n    \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h4\", {\n    \"id\": \"challenge-solve-rate-csr\"\n  }, \"Challenge Solve Rate (CSR)\"), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rules List\"), \" displays each rule's \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"CSR\"), \" (Challenge Solve Rate), which is the percentage of issued challenges that were solved. This metric applies to rules configured with \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Legacy CAPTCHA\"), \" or \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"JS Challenge\"), \" actions, and it is calculated as follows:\"), mdx(\"p\", null, mdx(\"var\", null, \"CSR\"), \" = \", mdx(\"var\", null, \"number of challenges solved\"), \" / \", mdx(\"var\", null, \"number of challenges issued\")), mdx(\"p\", null, \"Hover over the CSR to reveal the number of issued and solved CAPTCHA challenges:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1382px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4df76ebfc319bcffedd85895567ea8f3/29007/firewall-rules-csr-hover.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"6.936416184971099%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAOUlEQVQI1x3IOw7AMAgEUd//qHaayCB+uyIoU7xiFgCSmTlWlbmP/OvuzFK5kAPZtHfmvk9EqKqZf/4fOlrxZPahAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Revealing the number of issued vs. solved CAPTCHA challenges\",\n    \"title\": \"Revealing the number of issued vs. solved CAPTCHA challenges\",\n    \"src\": \"/static/4df76ebfc319bcffedd85895567ea8f3/f868f/firewall-rules-csr-hover.png\",\n    \"srcSet\": [\"/static/4df76ebfc319bcffedd85895567ea8f3/8f77f/firewall-rules-csr-hover.png 346w\", \"/static/4df76ebfc319bcffedd85895567ea8f3/e185b/firewall-rules-csr-hover.png 691w\", \"/static/4df76ebfc319bcffedd85895567ea8f3/f868f/firewall-rules-csr-hover.png 1382w\", \"/static/4df76ebfc319bcffedd85895567ea8f3/29007/firewall-rules-csr-hover.png 1600w\"],\n    \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"A low CSR means that Cloudflare is issuing a low number of CAPTCHA challenges to actual humans, since these are the solved challenges.\"), mdx(\"p\", null, \"You should aim for a low Challenge Solve Rate. Review the CSR of your CAPTCHA rules periodically and adjust them if necessary:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If the rate is higher than expected, for example regarding a Bot Management rule, consider relaxing the rule criteria so that you issue fewer challenges to human visitors.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If the rate is 0%, no CAPTCHA challenges are being solved. This means that you have no human visitors whose requests match the rule filter. Consider changing the rule action to \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Block\"), \".\")), mdx(Aside, {\n    type: \"warning\",\n    header: \"Important\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Currently, Cloudflare does not calculate the CSR of Managed Challenges.\"), mdx(\"p\", null, \"For customers on a Free plan, any rules configured with the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Legacy CAPTCHA\"), \" action will use Managed Challenges. For more information, refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://support.cloudflare.com/hc/articles/200170136#managed-challenge\"\n  }, \"Understanding Cloudflare Captchas and Challenge Passage\"), \".\")), mdx(\"h3\", {\n    \"id\": \"firewall-rules-apis\"\n  }, \"Firewall Rules APIs\"), mdx(\"p\", null, \"Power users, particularly those who develop large numbers of Firewall Rules, can use the Cloudflare API to programmatically manage Firewall Rules. Refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/api\"\n  }, \"Manage rules via the API\"), \" for more information.\"), mdx(\"h2\", {\n    \"id\": \"entitlements\"\n  }, \"Entitlements\"), mdx(\"p\", null, \"Cloudflare Firewall Rules is available to all customers. However, the number of active Firewall Rules you can have and support for the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Log\"), \" action and regular expressions depend on your Cloudflare plan.\"), mdx(\"p\", null, \"This table outlines the Firewall Rules features and entitlements available with each customer plan:\"), mdx(TableWrap, {\n    mdxType: \"TableWrap\"\n  }, mdx(\"table\", null, mdx(\"thead\", null, mdx(\"tr\", null, mdx(\"td\", null), mdx(\"td\", {\n    colSpan: \"4\",\n    style: {\n      \"textAlign\": \"center\"\n    }\n  }, mdx(\"strong\", null, \"Cloudflare plan\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"Feature\")), mdx(\"td\", null, mdx(\"strong\", null, \"Free\")), mdx(\"td\", null, mdx(\"strong\", null, \"Pro\")), mdx(\"td\", null, mdx(\"strong\", null, \"Business\")), mdx(\"td\", null, mdx(\"strong\", null, \"Enterprise\")))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, \"Active rules\"), mdx(\"td\", null, \"5\"), mdx(\"td\", null, \"20\"), mdx(\"td\", null, \"100\"), mdx(\"td\", null, \"1000\")), mdx(\"tr\", null, mdx(\"td\", null, \"Supported actions\"), mdx(\"td\", null, \"All except \", mdx(\"em\", null, \"Log\")), mdx(\"td\", null, \"All except \", mdx(\"em\", null, \"Log\")), mdx(\"td\", null, \"All except \", mdx(\"em\", null, \"Log\")), mdx(\"td\", null, \"All\")), mdx(\"tr\", null, mdx(\"td\", null, \"Regular expression support\"), mdx(\"td\", null, \"No\"), mdx(\"td\", null, \"No\"), mdx(\"td\", null, \"Yes\"), mdx(\"td\", null, \"Yes\")), mdx(\"tr\", null, mdx(\"td\", null, \"Number of \", mdx(\"a\", {\n    href: \"/cf-firewall-rules/rules-lists\"\n  }, \"IP Lists\")), mdx(\"td\", null, \"1\"), mdx(\"td\", null, \"10\"), mdx(\"td\", null, \"10\"), mdx(\"td\", null, \"10\"))))), mdx(\"h2\", {\n    \"id\": \"get-started\"\n  }, \"Get started\"), mdx(\"p\", null, \"Unless you are already an advanced user, refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/rules-language/expressions\"\n  }, \"Expressions\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-firewall-rules/actions\"\n  }, \"Actions\"), \" to learn more about the basic elements of Firewall Rules.\"), mdx(\"p\", null, \"To get started building your own Firewall Rules, refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/cf-dashboard/create-edit-delete-rules\"\n  }, \"Manage Firewall Rules in the dashboard\"), \".\"), mdx(\"p\", null, \"Those eager to dive straight into the technical details can refer to these topics:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/recipes\"\n  }, \"Common use cases\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/api\"\n  }, \"Manage Firewall Rules via the APIs\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/rules-language\"\n  }, \"Cloudflare Rules language\"))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"demo":null,"difficulty":null,"summary":null,"tags":null,"title":"About","type":null,"updated":null}}},"pageContext":{"id":"0fa2dae9-84b0-5542-a5e5-b83bbd023a43","fields":{"slug":"/cf-firewall-rules"},"frontmatter":{"title":"About","type":null,"order":200,"hidden":null,"hideChildren":null,"breadcrumbs":null},"headings":[{"value":"About Cloudflare Firewall Rules","depth":1}],"tableOfContents":{"items":[{"url":"#about-cloudflare-firewall-rules","title":"About Cloudflare Firewall Rules","items":[{"url":"#flexibility-and-control","title":"Flexibility and control"},{"url":"#working-with-firewall-rules","title":"Working with Firewall Rules","items":[{"url":"#firewall-rules-tab","title":"Firewall Rules tab","items":[{"url":"#challenge-solve-rate-csr","title":"Challenge Solve Rate (CSR)"}]},{"url":"#firewall-rules-apis","title":"Firewall Rules APIs"}]},{"url":"#entitlements","title":"Entitlements"},{"url":"#get-started","title":"Get started"}]}]},"parent":{"modifiedTime":"2022-02-09","relativePath":"cf-firewall-rules/index.md"}}}