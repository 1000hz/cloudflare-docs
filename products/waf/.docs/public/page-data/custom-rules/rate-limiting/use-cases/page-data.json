{"componentChunkName":"component---src-components-mdx-custom-renderer-js","path":"/custom-rules/rate-limiting/use-cases","result":{"data":{"mdx":{"id":"fddfd5fd-4d6d-584c-bf00-be2c2160c2dc","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Common use cases\",\n  \"pcx-content-type\": \"configuration\",\n  \"order\": 19\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar Example = makeShortcode(\"Example\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"common-rate-limiting-use-cases\"\n  }, \"Common rate limiting use cases\"), mdx(Aside, {\n    type: \"warning\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"This feature is only available for selected customers on an Enterprise plan.\")), mdx(\"p\", null, \"The examples below include sample Rate Limiting rule configurations that address common rate limiting use cases.\"), mdx(\"h2\", {\n    \"id\": \"example-1\"\n  }, \"Example 1\"), mdx(\"p\", null, \"The following rule performs rate limiting on incoming requests from the US addressed at the login page, except for one allowed IP address.\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Expression:\", mdx(\"br\", null), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(http.request.uri.path eq \\\"/login\\\" and ip.geoip.country eq \\\"US\\\" and ip.src ne 192.0.0.1)\")), mdx(\"p\", null, \"Rule characteristics:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Data center ID\"), \" (included by default when creating the rule in the dashboard)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"IP Address\")))), mdx(\"h2\", {\n    \"id\": \"example-2\"\n  }, \"Example 2\"), mdx(\"p\", null, \"The following rule performs rate limiting on incoming requests with a given base URI path, incrementing on the IP address and the provided API key.\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Expression:\", mdx(\"br\", null), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(http.request.uri.path contains \\\"/product*\\\" and http.request.method eq \\\"POST\\\")\")), mdx(\"p\", null, \"Rule characteristics:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Data center ID\"), \" (included by default when creating the rule in the dashboard)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"IP Address\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"HTTP Header\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"x-api-key\")))), mdx(\"h2\", {\n    \"id\": \"example-3\"\n  }, \"Example 3\"), mdx(\"p\", null, \"The following rule performs rate limiting on requests targeting multiple URI paths in two hosts, excluding known bots. The request rate is based on IP address and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"User-Agent\"), \" values. When the request rate is reached, Cloudflare performs rate limiting on all incoming requests for the two hosts.\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Expression:\", mdx(\"br\", null), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(http.request.uri.path eq \\\"/store\\\" or http.request.uri.path eq \\\"/prices\\\") and (http.host eq \\\"mystore1.com\\\" or http.host eq \\\"mystore2.com\\\") and not cf.client.bot\")), mdx(\"p\", null, \"Rule characteristics:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Data center ID\"), \" (included by default when creating the rule in the dashboard)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"IP Address\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"HTTP Header\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"user-agent\"))), mdx(\"p\", null, \"Mitigation expression:\", mdx(\"br\", null), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(http.host eq \\\"mystore1.com\\\" or http.host eq \\\"mystore2.com\\\")\"))), mdx(Aside, {\n    type: \"warning\",\n    header: \"Important\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"You can only define a value for the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Mitigation expression\"), \" via API.\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"demo":null,"difficulty":null,"summary":null,"tags":null,"title":"Common use cases","type":null,"updated":null}}},"pageContext":{"id":"fddfd5fd-4d6d-584c-bf00-be2c2160c2dc","fields":{"slug":"/custom-rules/rate-limiting/use-cases"},"frontmatter":{"pcx_content_type":"configuration","title":"Common use cases","type":null,"order":19,"hidden":null,"hideChildren":null,"breadcrumbs":null},"headings":[{"value":"Common rate limiting use cases","depth":1}],"tableOfContents":{"items":[{"url":"#common-rate-limiting-use-cases","title":"Common rate limiting use cases","items":[{"url":"#example-1","title":"Example 1"},{"url":"#example-2","title":"Example 2"},{"url":"#example-3","title":"Example 3"}]}]},"parent":{"modifiedTime":"2022-01-25","relativePath":"custom-rules/rate-limiting/use-cases.md"}}},"staticQueryHashes":["2814688963","32046230","338033027","598566803","811020565"]}