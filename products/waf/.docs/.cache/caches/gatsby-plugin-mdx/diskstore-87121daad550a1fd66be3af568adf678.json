{"expireTime":9007200897882668000,"key":"gatsby-plugin-mdx-entire-payload-8c331b08f016aba1d032fb0df21ca66f-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Additional information","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":25,"offset":25},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":25,"offset":25},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Validation checks","position":{"start":{"line":4,"column":4,"offset":30},"end":{"line":4,"column":21,"offset":47},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":27},"end":{"line":4,"column":21,"offset":47},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cloudflare performs a validation check for every request. The Validation component executes prior to all other Firewall products like Custom Rules or Managed Rulesets. The validation check blocks malformed requests like Shellshock attacks and requests with certain attack patterns in their HTTP headers before any allowlist logic occurs. Actions performed by the Validation component appear in the ","position":{"start":{"line":6,"column":1,"offset":49},"end":{"line":6,"column":399,"offset":447},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Activity log","position":{"start":{"line":6,"column":401,"offset":449},"end":{"line":6,"column":413,"offset":461},"indent":[]}}],"position":{"start":{"line":6,"column":399,"offset":447},"end":{"line":6,"column":415,"offset":463},"indent":[]}},{"type":"text","value":" associated with the ","position":{"start":{"line":6,"column":415,"offset":463},"end":{"line":6,"column":436,"offset":484},"indent":[]}},{"type":"inlineCode","value":"Validation","position":{"start":{"line":6,"column":436,"offset":484},"end":{"line":6,"column":448,"offset":496},"indent":[]}},{"type":"text","value":" service and without a rule ID. Firewall events downloaded from the API show source as ","position":{"start":{"line":6,"column":448,"offset":496},"end":{"line":6,"column":535,"offset":583},"indent":[]}},{"type":"inlineCode","value":"Validation","position":{"start":{"line":6,"column":535,"offset":583},"end":{"line":6,"column":547,"offset":595},"indent":[]}},{"type":"text","value":" and action as ","position":{"start":{"line":6,"column":547,"offset":595},"end":{"line":6,"column":562,"offset":610},"indent":[]}},{"type":"inlineCode","value":"drop","position":{"start":{"line":6,"column":562,"offset":610},"end":{"line":6,"column":568,"offset":616},"indent":[]}},{"type":"text","value":" when this behavior occurs.","position":{"start":{"line":6,"column":568,"offset":616},"end":{"line":6,"column":595,"offset":643},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":49},"end":{"line":6,"column":595,"offset":643},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following example shows a request blocked by the Validation component due to a malformed ","position":{"start":{"line":8,"column":1,"offset":645},"end":{"line":8,"column":94,"offset":738},"indent":[]}},{"type":"inlineCode","value":"User-Agent","position":{"start":{"line":8,"column":94,"offset":738},"end":{"line":8,"column":106,"offset":750},"indent":[]}},{"type":"text","value":" HTTP request header:","position":{"start":{"line":8,"column":106,"offset":750},"end":{"line":8,"column":127,"offset":771},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":645},"end":{"line":8,"column":127,"offset":771},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../images/analytics-validation.png","alt":"Event from a validation check","position":{"start":{"line":10,"column":1,"offset":773},"end":{"line":10,"column":69,"offset":841},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":773},"end":{"line":10,"column":69,"offset":841},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the downloaded JSON file for the event, the ","position":{"start":{"line":12,"column":1,"offset":843},"end":{"line":12,"column":48,"offset":890},"indent":[]}},{"type":"inlineCode","value":"ruleId","position":{"start":{"line":12,"column":48,"offset":890},"end":{"line":12,"column":56,"offset":898},"indent":[]}},{"type":"text","value":" value indicates the detected issue â€” in this case, it was a Shellshock attack.","position":{"start":{"line":12,"column":56,"offset":898},"end":{"line":12,"column":135,"offset":977},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":843},"end":{"line":12,"column":135,"offset":977},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"---\nhighlight: [3]\n---\n{\n  \"action\": \"drop\",\n  \"ruleId\": \"sanity-shellshock\",\n  \"source\": \"sanitycheck\",\n  \"userAgent\": \"() { :;}; printf \\\\\\\\\\\"detection[%s]string\\\\\\\\\\\" \\\\\\\\\\\"TjcLLwVzBtLzvbN\\\\\\\\\",\n  //...\n}","position":{"start":{"line":14,"column":1,"offset":979},"end":{"line":25,"column":4,"offset":1198},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"<Aside type=\"warning\">","position":{"start":{"line":27,"column":1,"offset":1200},"end":{"line":27,"column":23,"offset":1222},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Currently, you cannot disable validation checks. They run early in Cloudflare's infrastructure before the configuration for domains has been loaded.","position":{"start":{"line":29,"column":1,"offset":1224},"end":{"line":29,"column":149,"offset":1372},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1224},"end":{"line":29,"column":149,"offset":1372},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":31,"column":1,"offset":1374},"end":{"line":31,"column":9,"offset":1382},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"order\":10,\"pcx-content-type\":\"reference\"}","position":{"start":{"line":34,"column":1,"offset":1385},"end":{"line":34,"column":72,"offset":1456},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":34,"column":72,"offset":1456}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"order\": 10,\n  \"pcx-content-type\": \"reference\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"additional-information\"\n  }, \"Additional information\"), mdx(\"h2\", {\n    \"id\": \"validation-checks\"\n  }, \"Validation checks\"), mdx(\"p\", null, \"Cloudflare performs a validation check for every request. The Validation component executes prior to all other Firewall products like Custom Rules or Managed Rulesets. The validation check blocks malformed requests like Shellshock attacks and requests with certain attack patterns in their HTTP headers before any allowlist logic occurs. Actions performed by the Validation component appear in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Activity log\"), \" associated with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Validation\"), \" service and without a rule ID. Firewall events downloaded from the API show source as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Validation\"), \" and action as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"drop\"), \" when this behavior occurs.\"), mdx(\"p\", null, \"The following example shows a request blocked by the Validation component due to a malformed \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"User-Agent\"), \" HTTP request header:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"972px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/fbce3512b53ba23af1045d56db6bd6de/7ae9c/analytics-validation.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"45.08670520231214%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABP0lEQVQoz21S2Y6DMAzk/z+xD5WgC2I5c5CEkIRZOy2IthvJcg57PGOn8N5jmiYYY8Br3/fTH5ZSwp72t7cQI6RZoazPXpM31qHYti2DcRKvSIHGWPB9CCH7A4RjjLXZJzovjsjIJYNZH2DdisJSgNYa7NfVgxkLITIYFxqGAc65Z7EQ0XVdBn1VIXUj5az5yLlFOwpi4QlsxTzPGMcx709WZJHOqirhhx7yUWGp6zfWhzpWUzzaAYKAmA0DMbMjAEfPqA19WaInUNm2iKTos98nYNPPUFJASpml5cfLQI69VAqKgEKKZOlreCfgz+9IjOLzgtm9Hq+LEyapMQqdh6CUPlV8AdYkeSIZir6OWxZYYrJR0wNZpCafSa8OXOv9K7m+l5ip0TOBNvc7HrcbuqqC4mk2zVMyrmj7G6tPhn+5qr8aTUZNbQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Event from a validation check\",\n    \"title\": \"Event from a validation check\",\n    \"src\": \"/static/fbce3512b53ba23af1045d56db6bd6de/7ae9c/analytics-validation.png\",\n    \"srcSet\": [\"/static/fbce3512b53ba23af1045d56db6bd6de/8f77f/analytics-validation.png 346w\", \"/static/fbce3512b53ba23af1045d56db6bd6de/e185b/analytics-validation.png 691w\", \"/static/fbce3512b53ba23af1045d56db6bd6de/7ae9c/analytics-validation.png 972w\"],\n    \"sizes\": \"(max-width: 972px) 100vw, 972px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"In the downloaded JSON file for the event, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ruleId\"), \" value indicates the detected issue \\u2014 in this case, it was a Shellshock attack.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"---\\nhighlight: [3]\\n---\\n{\\n  \\\"action\\\": \\\"drop\\\",\\n  \\\"ruleId\\\": \\\"sanity-shellshock\\\",\\n  \\\"source\\\": \\\"sanitycheck\\\",\\n  \\\"userAgent\\\": \\\"() { :;}; printf \\\\\\\\\\\\\\\\\\\\\\\"detection[%s]string\\\\\\\\\\\\\\\\\\\\\\\" \\\\\\\\\\\\\\\\\\\\\\\"TjcLLwVzBtLzvbN\\\\\\\\\\\\\\\\\\\",\\n  //...\\n}\\n\")), mdx(Aside, {\n    type: \"warning\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Currently, you cannot disable validation checks. They run early in Cloudflare's infrastructure before the configuration for domains has been loaded.\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"order\": 10,\n  \"pcx-content-type\": \"reference\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst Aside = makeShortcode(\"Aside\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"additional-information\"\n    }}>{`Additional information`}</h1>\n    <h2 {...{\n      \"id\": \"validation-checks\"\n    }}>{`Validation checks`}</h2>\n    <p>{`Cloudflare performs a validation check for every request. The Validation component executes prior to all other Firewall products like Custom Rules or Managed Rulesets. The validation check blocks malformed requests like Shellshock attacks and requests with certain attack patterns in their HTTP headers before any allowlist logic occurs. Actions performed by the Validation component appear in the `}<strong parentName=\"p\">{`Activity log`}</strong>{` associated with the `}<inlineCode parentName=\"p\">{`Validation`}</inlineCode>{` service and without a rule ID. Firewall events downloaded from the API show source as `}<inlineCode parentName=\"p\">{`Validation`}</inlineCode>{` and action as `}<inlineCode parentName=\"p\">{`drop`}</inlineCode>{` when this behavior occurs.`}</p>\n    <p>{`The following example shows a request blocked by the Validation component due to a malformed `}<inlineCode parentName=\"p\">{`User-Agent`}</inlineCode>{` HTTP request header:`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"972px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/fbce3512b53ba23af1045d56db6bd6de/7ae9c/analytics-validation.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"45.08670520231214%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABP0lEQVQoz21S2Y6DMAzk/z+xD5WgC2I5c5CEkIRZOy2IthvJcg57PGOn8N5jmiYYY8Br3/fTH5ZSwp72t7cQI6RZoazPXpM31qHYti2DcRKvSIHGWPB9CCH7A4RjjLXZJzovjsjIJYNZH2DdisJSgNYa7NfVgxkLITIYFxqGAc65Z7EQ0XVdBn1VIXUj5az5yLlFOwpi4QlsxTzPGMcx709WZJHOqirhhx7yUWGp6zfWhzpWUzzaAYKAmA0DMbMjAEfPqA19WaInUNm2iKTos98nYNPPUFJASpml5cfLQI69VAqKgEKKZOlreCfgz+9IjOLzgtm9Hq+LEyapMQqdh6CUPlV8AdYkeSIZir6OWxZYYrJR0wNZpCafSa8OXOv9K7m+l5ip0TOBNvc7HrcbuqqC4mk2zVMyrmj7G6tPhn+5qr8aTUZNbQAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Event from a validation check\",\n            \"title\": \"Event from a validation check\",\n            \"src\": \"/static/fbce3512b53ba23af1045d56db6bd6de/7ae9c/analytics-validation.png\",\n            \"srcSet\": [\"/static/fbce3512b53ba23af1045d56db6bd6de/8f77f/analytics-validation.png 346w\", \"/static/fbce3512b53ba23af1045d56db6bd6de/e185b/analytics-validation.png 691w\", \"/static/fbce3512b53ba23af1045d56db6bd6de/7ae9c/analytics-validation.png 972w\"],\n            \"sizes\": \"(max-width: 972px) 100vw, 972px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <p>{`In the downloaded JSON file for the event, the `}<inlineCode parentName=\"p\">{`ruleId`}</inlineCode>{` value indicates the detected issue â€” in this case, it was a Shellshock attack.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`---\nhighlight: [3]\n---\n{\n  \"action\": \"drop\",\n  \"ruleId\": \"sanity-shellshock\",\n  \"source\": \"sanitycheck\",\n  \"userAgent\": \"() { :;}; printf \\\\\\\\\\\\\\\\\\\\\"detection[%s]string\\\\\\\\\\\\\\\\\\\\\" \\\\\\\\\\\\\\\\\\\\\"TjcLLwVzBtLzvbN\\\\\\\\\\\\\\\\\",\n  //...\n}\n`}</code></pre>\n    <Aside type=\"warning\" mdxType=\"Aside\">\n      <p>{`Currently, you cannot disable validation checks. They run early in Cloudflare's infrastructure before the configuration for domains has been loaded.`}</p>\n    </Aside>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}