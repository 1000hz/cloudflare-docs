{"expireTime":9007200897882662000,"key":"gatsby-plugin-mdx-entire-payload-7177d2f01a8cbe50ef84c4a4f5bc6924-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Common rate limiting use cases","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":33,"offset":33},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":33,"offset":33},"indent":[]}},{"type":"jsx","value":"<Aside type='warning'>","position":{"start":{"line":4,"column":1,"offset":35},"end":{"line":4,"column":23,"offset":57},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This feature is only available for selected customers on an Enterprise plan.","position":{"start":{"line":6,"column":1,"offset":59},"end":{"line":6,"column":77,"offset":135},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":59},"end":{"line":6,"column":77,"offset":135},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":8,"column":1,"offset":137},"end":{"line":8,"column":9,"offset":145},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The examples below include sample Rate Limiting rule configurations that address common rate limiting use cases.","position":{"start":{"line":10,"column":1,"offset":147},"end":{"line":10,"column":113,"offset":259},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":147},"end":{"line":10,"column":113,"offset":259},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Example 1","position":{"start":{"line":12,"column":4,"offset":264},"end":{"line":12,"column":13,"offset":273},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":261},"end":{"line":12,"column":13,"offset":273},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following rule performs rate limiting on incoming requests from the US addressed at the login page, except for one allowed IP address.","position":{"start":{"line":14,"column":1,"offset":275},"end":{"line":14,"column":139,"offset":413},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":275},"end":{"line":14,"column":139,"offset":413},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":16,"column":1,"offset":415},"end":{"line":16,"column":10,"offset":424},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Expression:","position":{"start":{"line":18,"column":1,"offset":426},"end":{"line":18,"column":12,"offset":437},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":18,"column":12,"offset":437},"end":{"line":18,"column":18,"offset":443},"indent":[]}},{"type":"text","value":"\n","position":{"start":{"line":18,"column":18,"offset":443},"end":{"line":19,"column":1,"offset":444},"indent":[1]}},{"type":"inlineCode","value":"(http.request.uri.path eq \"/login\" and ip.geoip.country eq \"US\" and ip.src ne 192.0.0.1)","position":{"start":{"line":19,"column":1,"offset":444},"end":{"line":19,"column":91,"offset":534},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":426},"end":{"line":19,"column":91,"offset":534},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Rule characteristics:","position":{"start":{"line":21,"column":1,"offset":536},"end":{"line":21,"column":22,"offset":557},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":536},"end":{"line":21,"column":22,"offset":557},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Data center ID","position":{"start":{"line":23,"column":4,"offset":562},"end":{"line":23,"column":18,"offset":576},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":561},"end":{"line":23,"column":19,"offset":577},"indent":[]}},{"type":"text","value":" (included by default when creating the rule in the dashboard)","position":{"start":{"line":23,"column":19,"offset":577},"end":{"line":23,"column":81,"offset":639},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":561},"end":{"line":23,"column":81,"offset":639},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":559},"end":{"line":23,"column":81,"offset":639},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IP Address","position":{"start":{"line":24,"column":4,"offset":643},"end":{"line":24,"column":14,"offset":653},"indent":[]}}],"position":{"start":{"line":24,"column":3,"offset":642},"end":{"line":24,"column":15,"offset":654},"indent":[]}}],"position":{"start":{"line":24,"column":3,"offset":642},"end":{"line":24,"column":15,"offset":654},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":640},"end":{"line":24,"column":15,"offset":654},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":559},"end":{"line":24,"column":15,"offset":654},"indent":[1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":26,"column":1,"offset":656},"end":{"line":26,"column":11,"offset":666},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Example 2","position":{"start":{"line":28,"column":4,"offset":671},"end":{"line":28,"column":13,"offset":680},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":668},"end":{"line":28,"column":13,"offset":680},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following rule performs rate limiting on incoming requests with a given base URI path, incrementing on the IP address and the provided API key.","position":{"start":{"line":30,"column":1,"offset":682},"end":{"line":30,"column":148,"offset":829},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":682},"end":{"line":30,"column":148,"offset":829},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":32,"column":1,"offset":831},"end":{"line":32,"column":10,"offset":840},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Expression:","position":{"start":{"line":34,"column":1,"offset":842},"end":{"line":34,"column":12,"offset":853},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":34,"column":12,"offset":853},"end":{"line":34,"column":18,"offset":859},"indent":[]}},{"type":"text","value":"\n","position":{"start":{"line":34,"column":18,"offset":859},"end":{"line":35,"column":1,"offset":860},"indent":[1]}},{"type":"inlineCode","value":"(http.request.uri.path contains \"/product*\" and http.request.method eq \"POST\")","position":{"start":{"line":35,"column":1,"offset":860},"end":{"line":35,"column":81,"offset":940},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":842},"end":{"line":35,"column":81,"offset":940},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Rule characteristics:","position":{"start":{"line":37,"column":1,"offset":942},"end":{"line":37,"column":22,"offset":963},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":942},"end":{"line":37,"column":22,"offset":963},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Data center ID","position":{"start":{"line":39,"column":4,"offset":968},"end":{"line":39,"column":18,"offset":982},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":967},"end":{"line":39,"column":19,"offset":983},"indent":[]}},{"type":"text","value":" (included by default when creating the rule in the dashboard)","position":{"start":{"line":39,"column":19,"offset":983},"end":{"line":39,"column":81,"offset":1045},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":967},"end":{"line":39,"column":81,"offset":1045},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":965},"end":{"line":39,"column":81,"offset":1045},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IP Address","position":{"start":{"line":40,"column":4,"offset":1049},"end":{"line":40,"column":14,"offset":1059},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":1048},"end":{"line":40,"column":15,"offset":1060},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":1048},"end":{"line":40,"column":15,"offset":1060},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1046},"end":{"line":40,"column":15,"offset":1060},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"HTTP Header","position":{"start":{"line":41,"column":4,"offset":1064},"end":{"line":41,"column":15,"offset":1075},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":1063},"end":{"line":41,"column":16,"offset":1076},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":41,"column":16,"offset":1076},"end":{"line":41,"column":19,"offset":1079},"indent":[]}},{"type":"inlineCode","value":"x-api-key","position":{"start":{"line":41,"column":19,"offset":1079},"end":{"line":41,"column":30,"offset":1090},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":1063},"end":{"line":41,"column":30,"offset":1090},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1061},"end":{"line":41,"column":30,"offset":1090},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":965},"end":{"line":41,"column":30,"offset":1090},"indent":[1,1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":43,"column":1,"offset":1092},"end":{"line":43,"column":11,"offset":1102},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Example 3","position":{"start":{"line":45,"column":4,"offset":1107},"end":{"line":45,"column":13,"offset":1116},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":1104},"end":{"line":45,"column":13,"offset":1116},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following rule performs rate limiting on requests targeting multiple URI paths in two hosts, excluding known bots. The request rate is based on IP address and ","position":{"start":{"line":47,"column":1,"offset":1118},"end":{"line":47,"column":164,"offset":1281},"indent":[]}},{"type":"inlineCode","value":"User-Agent","position":{"start":{"line":47,"column":164,"offset":1281},"end":{"line":47,"column":176,"offset":1293},"indent":[]}},{"type":"text","value":" values. When the request rate is reached, Cloudflare performs rate limiting on all incoming requests for the two hosts.","position":{"start":{"line":47,"column":176,"offset":1293},"end":{"line":47,"column":296,"offset":1413},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":1118},"end":{"line":47,"column":296,"offset":1413},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":49,"column":1,"offset":1415},"end":{"line":49,"column":10,"offset":1424},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Expression:","position":{"start":{"line":51,"column":1,"offset":1426},"end":{"line":51,"column":12,"offset":1437},"indent":[]}},{"type":"jsx","value":"<br />","position":{"start":{"line":51,"column":12,"offset":1437},"end":{"line":51,"column":18,"offset":1443},"indent":[]}},{"type":"text","value":"\n","position":{"start":{"line":51,"column":18,"offset":1443},"end":{"line":52,"column":1,"offset":1444},"indent":[1]}},{"type":"inlineCode","value":"(http.request.uri.path eq \"/store\" or http.request.uri.path eq \"/prices\") and (http.host eq \"mystore1.com\" or http.host eq \"mystore2.com\") and not cf.client.bot","position":{"start":{"line":52,"column":1,"offset":1444},"end":{"line":52,"column":163,"offset":1606},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1426},"end":{"line":52,"column":163,"offset":1606},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Rule characteristics:","position":{"start":{"line":54,"column":1,"offset":1608},"end":{"line":54,"column":22,"offset":1629},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1608},"end":{"line":54,"column":22,"offset":1629},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Data center ID","position":{"start":{"line":56,"column":4,"offset":1634},"end":{"line":56,"column":18,"offset":1648},"indent":[]}}],"position":{"start":{"line":56,"column":3,"offset":1633},"end":{"line":56,"column":19,"offset":1649},"indent":[]}},{"type":"text","value":" (included by default when creating the rule in the dashboard)","position":{"start":{"line":56,"column":19,"offset":1649},"end":{"line":56,"column":81,"offset":1711},"indent":[]}}],"position":{"start":{"line":56,"column":3,"offset":1633},"end":{"line":56,"column":81,"offset":1711},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1631},"end":{"line":56,"column":81,"offset":1711},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"IP Address","position":{"start":{"line":57,"column":4,"offset":1715},"end":{"line":57,"column":14,"offset":1725},"indent":[]}}],"position":{"start":{"line":57,"column":3,"offset":1714},"end":{"line":57,"column":15,"offset":1726},"indent":[]}}],"position":{"start":{"line":57,"column":3,"offset":1714},"end":{"line":57,"column":15,"offset":1726},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":1712},"end":{"line":57,"column":15,"offset":1726},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"HTTP Header","position":{"start":{"line":58,"column":4,"offset":1730},"end":{"line":58,"column":15,"offset":1741},"indent":[]}}],"position":{"start":{"line":58,"column":3,"offset":1729},"end":{"line":58,"column":16,"offset":1742},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":58,"column":16,"offset":1742},"end":{"line":58,"column":19,"offset":1745},"indent":[]}},{"type":"inlineCode","value":"user-agent","position":{"start":{"line":58,"column":19,"offset":1745},"end":{"line":58,"column":31,"offset":1757},"indent":[]}}],"position":{"start":{"line":58,"column":3,"offset":1729},"end":{"line":58,"column":31,"offset":1757},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":1727},"end":{"line":58,"column":31,"offset":1757},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1631},"end":{"line":58,"column":31,"offset":1757},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Mitigation expression:","position":{"start":{"line":60,"column":1,"offset":1759},"end":{"line":60,"column":23,"offset":1781},"indent":[]}},{"type":"jsx","value":"<br/>","position":{"start":{"line":60,"column":23,"offset":1781},"end":{"line":60,"column":28,"offset":1786},"indent":[]}},{"type":"text","value":"\n","position":{"start":{"line":60,"column":28,"offset":1786},"end":{"line":61,"column":1,"offset":1787},"indent":[1]}},{"type":"inlineCode","value":"(http.host eq \"mystore1.com\" or http.host eq \"mystore2.com\")","position":{"start":{"line":61,"column":1,"offset":1787},"end":{"line":61,"column":63,"offset":1849},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":1759},"end":{"line":61,"column":63,"offset":1849},"indent":[1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":63,"column":1,"offset":1851},"end":{"line":63,"column":11,"offset":1861},"indent":[]}},{"type":"jsx","value":"<Aside type='warning' header='Important'>","position":{"start":{"line":65,"column":1,"offset":1863},"end":{"line":65,"column":42,"offset":1904},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can only define a value for the ","position":{"start":{"line":67,"column":1,"offset":1906},"end":{"line":67,"column":37,"offset":1942},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Mitigation expression","position":{"start":{"line":67,"column":39,"offset":1944},"end":{"line":67,"column":60,"offset":1965},"indent":[]}}],"position":{"start":{"line":67,"column":37,"offset":1942},"end":{"line":67,"column":62,"offset":1967},"indent":[]}},{"type":"text","value":" via API.","position":{"start":{"line":67,"column":62,"offset":1967},"end":{"line":67,"column":71,"offset":1976},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":1906},"end":{"line":67,"column":71,"offset":1976},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":69,"column":1,"offset":1978},"end":{"line":69,"column":9,"offset":1986},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Common use cases\",\"pcx-content-type\":\"configuration\",\"order\":19}","position":{"start":{"line":72,"column":1,"offset":1989},"end":{"line":72,"column":103,"offset":2091},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":72,"column":103,"offset":2091}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Common use cases\",\n  \"pcx-content-type\": \"configuration\",\n  \"order\": 19\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar Example = makeShortcode(\"Example\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"common-rate-limiting-use-cases\"\n  }, \"Common rate limiting use cases\"), mdx(Aside, {\n    type: \"warning\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"This feature is only available for selected customers on an Enterprise plan.\")), mdx(\"p\", null, \"The examples below include sample Rate Limiting rule configurations that address common rate limiting use cases.\"), mdx(\"h2\", {\n    \"id\": \"example-1\"\n  }, \"Example 1\"), mdx(\"p\", null, \"The following rule performs rate limiting on incoming requests from the US addressed at the login page, except for one allowed IP address.\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Expression:\", mdx(\"br\", null), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(http.request.uri.path eq \\\"/login\\\" and ip.geoip.country eq \\\"US\\\" and ip.src ne 192.0.0.1)\")), mdx(\"p\", null, \"Rule characteristics:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Data center ID\"), \" (included by default when creating the rule in the dashboard)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"IP Address\")))), mdx(\"h2\", {\n    \"id\": \"example-2\"\n  }, \"Example 2\"), mdx(\"p\", null, \"The following rule performs rate limiting on incoming requests with a given base URI path, incrementing on the IP address and the provided API key.\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Expression:\", mdx(\"br\", null), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(http.request.uri.path contains \\\"/product*\\\" and http.request.method eq \\\"POST\\\")\")), mdx(\"p\", null, \"Rule characteristics:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Data center ID\"), \" (included by default when creating the rule in the dashboard)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"IP Address\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"HTTP Header\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"x-api-key\")))), mdx(\"h2\", {\n    \"id\": \"example-3\"\n  }, \"Example 3\"), mdx(\"p\", null, \"The following rule performs rate limiting on requests targeting multiple URI paths in two hosts, excluding known bots. The request rate is based on IP address and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"User-Agent\"), \" values. When the request rate is reached, Cloudflare performs rate limiting on all incoming requests for the two hosts.\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Expression:\", mdx(\"br\", null), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(http.request.uri.path eq \\\"/store\\\" or http.request.uri.path eq \\\"/prices\\\") and (http.host eq \\\"mystore1.com\\\" or http.host eq \\\"mystore2.com\\\") and not cf.client.bot\")), mdx(\"p\", null, \"Rule characteristics:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Data center ID\"), \" (included by default when creating the rule in the dashboard)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"IP Address\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"HTTP Header\"), \" > \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"user-agent\"))), mdx(\"p\", null, \"Mitigation expression:\", mdx(\"br\", null), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(http.host eq \\\"mystore1.com\\\" or http.host eq \\\"mystore2.com\\\")\"))), mdx(Aside, {\n    type: \"warning\",\n    header: \"Important\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"You can only define a value for the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Mitigation expression\"), \" via API.\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"Common use cases\",\n  \"pcx-content-type\": \"configuration\",\n  \"order\": 19\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst Aside = makeShortcode(\"Aside\");\nconst Example = makeShortcode(\"Example\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"common-rate-limiting-use-cases\"\n    }}>{`Common rate limiting use cases`}</h1>\n    <Aside type='warning' mdxType=\"Aside\">\n      <p>{`This feature is only available for selected customers on an Enterprise plan.`}</p>\n    </Aside>\n    <p>{`The examples below include sample Rate Limiting rule configurations that address common rate limiting use cases.`}</p>\n    <h2 {...{\n      \"id\": \"example-1\"\n    }}>{`Example 1`}</h2>\n    <p>{`The following rule performs rate limiting on incoming requests from the US addressed at the login page, except for one allowed IP address.`}</p>\n    <Example mdxType=\"Example\">\n      <p>{`Expression:`}<br />{`\n`}<inlineCode parentName=\"p\">{`(http.request.uri.path eq \"/login\" and ip.geoip.country eq \"US\" and ip.src ne 192.0.0.1)`}</inlineCode></p>\n      <p>{`Rule characteristics:`}</p>\n      <ul>\n        <li parentName=\"ul\"><em parentName=\"li\">{`Data center ID`}</em>{` (included by default when creating the rule in the dashboard)`}</li>\n        <li parentName=\"ul\"><em parentName=\"li\">{`IP Address`}</em></li>\n      </ul>\n    </Example>\n    <h2 {...{\n      \"id\": \"example-2\"\n    }}>{`Example 2`}</h2>\n    <p>{`The following rule performs rate limiting on incoming requests with a given base URI path, incrementing on the IP address and the provided API key.`}</p>\n    <Example mdxType=\"Example\">\n      <p>{`Expression:`}<br />{`\n`}<inlineCode parentName=\"p\">{`(http.request.uri.path contains \"/product*\" and http.request.method eq \"POST\")`}</inlineCode></p>\n      <p>{`Rule characteristics:`}</p>\n      <ul>\n        <li parentName=\"ul\"><em parentName=\"li\">{`Data center ID`}</em>{` (included by default when creating the rule in the dashboard)`}</li>\n        <li parentName=\"ul\"><em parentName=\"li\">{`IP Address`}</em></li>\n        <li parentName=\"ul\"><em parentName=\"li\">{`HTTP Header`}</em>{` > `}<inlineCode parentName=\"li\">{`x-api-key`}</inlineCode></li>\n      </ul>\n    </Example>\n    <h2 {...{\n      \"id\": \"example-3\"\n    }}>{`Example 3`}</h2>\n    <p>{`The following rule performs rate limiting on requests targeting multiple URI paths in two hosts, excluding known bots. The request rate is based on IP address and `}<inlineCode parentName=\"p\">{`User-Agent`}</inlineCode>{` values. When the request rate is reached, Cloudflare performs rate limiting on all incoming requests for the two hosts.`}</p>\n    <Example mdxType=\"Example\">\n      <p>{`Expression:`}<br />{`\n`}<inlineCode parentName=\"p\">{`(http.request.uri.path eq \"/store\" or http.request.uri.path eq \"/prices\") and (http.host eq \"mystore1.com\" or http.host eq \"mystore2.com\") and not cf.client.bot`}</inlineCode></p>\n      <p>{`Rule characteristics:`}</p>\n      <ul>\n        <li parentName=\"ul\"><em parentName=\"li\">{`Data center ID`}</em>{` (included by default when creating the rule in the dashboard)`}</li>\n        <li parentName=\"ul\"><em parentName=\"li\">{`IP Address`}</em></li>\n        <li parentName=\"ul\"><em parentName=\"li\">{`HTTP Header`}</em>{` > `}<inlineCode parentName=\"li\">{`user-agent`}</inlineCode></li>\n      </ul>\n      <p>{`Mitigation expression:`}<br />{`\n`}<inlineCode parentName=\"p\">{`(http.host eq \"mystore1.com\" or http.host eq \"mystore2.com\")`}</inlineCode></p>\n    </Example>\n    <Aside type='warning' header='Important' mdxType=\"Aside\">\n      <p>{`You can only define a value for the `}<strong parentName=\"p\">{`Mitigation expression`}</strong>{` via API.`}</p>\n    </Aside>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}