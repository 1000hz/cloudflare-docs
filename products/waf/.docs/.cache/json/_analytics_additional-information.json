{"data":{"mdx":{"id":"bf4c5625-96c2-5155-b299-3e235ba7c7f7","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"order\": 10,\n  \"pcx-content-type\": \"reference\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"additional-information\"\n  }, \"Additional information\"), mdx(\"h2\", {\n    \"id\": \"validation-checks\"\n  }, \"Validation checks\"), mdx(\"p\", null, \"Cloudflare performs a validation check for every request. The Validation component executes prior to all other Firewall products like Custom Rules or Managed Rulesets. The validation check blocks malformed requests like Shellshock attacks and requests with certain attack patterns in their HTTP headers before any allowlist logic occurs. Actions performed by the Validation component appear in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Activity log\"), \" associated with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Validation\"), \" service and without a rule ID. Firewall events downloaded from the API show source as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Validation\"), \" and action as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"drop\"), \" when this behavior occurs.\"), mdx(\"p\", null, \"The following example shows a request blocked by the Validation component due to a malformed \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"User-Agent\"), \" HTTP request header:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"972px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/fbce3512b53ba23af1045d56db6bd6de/7ae9c/analytics-validation.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"45.08670520231214%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABP0lEQVQoz21S2Y6DMAzk/z+xD5WgC2I5c5CEkIRZOy2IthvJcg57PGOn8N5jmiYYY8Br3/fTH5ZSwp72t7cQI6RZoazPXpM31qHYti2DcRKvSIHGWPB9CCH7A4RjjLXZJzovjsjIJYNZH2DdisJSgNYa7NfVgxkLITIYFxqGAc65Z7EQ0XVdBn1VIXUj5az5yLlFOwpi4QlsxTzPGMcx709WZJHOqirhhx7yUWGp6zfWhzpWUzzaAYKAmA0DMbMjAEfPqA19WaInUNm2iKTos98nYNPPUFJASpml5cfLQI69VAqKgEKKZOlreCfgz+9IjOLzgtm9Hq+LEyapMQqdh6CUPlV8AdYkeSIZir6OWxZYYrJR0wNZpCafSa8OXOv9K7m+l5ip0TOBNvc7HrcbuqqC4mk2zVMyrmj7G6tPhn+5qr8aTUZNbQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Event from a validation check\",\n    \"title\": \"Event from a validation check\",\n    \"src\": \"/static/fbce3512b53ba23af1045d56db6bd6de/7ae9c/analytics-validation.png\",\n    \"srcSet\": [\"/static/fbce3512b53ba23af1045d56db6bd6de/8f77f/analytics-validation.png 346w\", \"/static/fbce3512b53ba23af1045d56db6bd6de/e185b/analytics-validation.png 691w\", \"/static/fbce3512b53ba23af1045d56db6bd6de/7ae9c/analytics-validation.png 972w\"],\n    \"sizes\": \"(max-width: 972px) 100vw, 972px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"In the downloaded JSON file for the event, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ruleId\"), \" value indicates the detected issue \\u2014 in this case, it was a Shellshock attack.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"---\\nhighlight: [3]\\n---\\n{\\n  \\\"action\\\": \\\"drop\\\",\\n  \\\"ruleId\\\": \\\"sanity-shellshock\\\",\\n  \\\"source\\\": \\\"sanitycheck\\\",\\n  \\\"userAgent\\\": \\\"() { :;}; printf \\\\\\\\\\\\\\\\\\\\\\\"detection[%s]string\\\\\\\\\\\\\\\\\\\\\\\" \\\\\\\\\\\\\\\\\\\\\\\"TjcLLwVzBtLzvbN\\\\\\\\\\\\\\\\\\\",\\n  //...\\n}\\n\")), mdx(Aside, {\n    type: \"warning\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Currently, you cannot disable validation checks. They run early in Cloudflare's infrastructure before the configuration for domains has been loaded.\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"demo":null,"difficulty":null,"summary":null,"tags":null,"title":"","type":null,"updated":null}}},"pageContext":{"id":"bf4c5625-96c2-5155-b299-3e235ba7c7f7","fields":{"slug":"/analytics/additional-information"},"frontmatter":{"pcx_content_type":"reference","title":"","type":null,"order":10,"hidden":null,"hideChildren":null,"breadcrumbs":null},"headings":[{"value":"Additional information","depth":1}],"tableOfContents":{"items":[{"url":"#additional-information","title":"Additional information","items":[{"url":"#validation-checks","title":"Validation checks"}]}]},"parent":{"modifiedTime":"2022-01-25","relativePath":"analytics/additional-information.md"}}}