{"data":{"mdx":{"id":"c3be60ba-a137-5228-8c51-2328b3b8518b","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"order\": 41,\n  \"pcx-content-type\": \"concept\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar TableWrap = makeShortcode(\"TableWrap\");\nvar Aside = makeShortcode(\"Aside\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"logpush-api-configuration\"\n  }, \"Logpush API configuration\"), mdx(\"h2\", {\n    \"id\": \"endpoints\"\n  }, \"Endpoints\"), mdx(\"p\", null, \"The table below summarizes the job operations available. All the examples in this page are for zone-scoped datasets. Account-scoped datasets should use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/accounts/<ACCOUNT_ID>\"), \" instead of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/zone/<ZONE_ID>\"), \". For more information, refer to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/reference/log-fields\"\n  }, \"Log fields\"), \" page.\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<ZONE_ID>\"), \" argument is the zone id (hexadecimal string). The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<ACCOUNT_ID>\"), \" argument is the organization id (hexadecimal string). These arguments can be found using \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://api.cloudflare.com/#getting-started-resource-ids\"\n  }, \"API's zones endpoint\"), \".\\nThe \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<JOB>\"), \" argument is the numeric job id. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<DATASET>\"), \" argument indicates the log category (such as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http_requests\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"spectrum_events\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"firewall_events\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"nel_reports\"), \", or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"dns_logs\"), \").\"), mdx(TableWrap, {\n    mdxType: \"TableWrap\"\n  }, mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Operation\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"URL\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"POST\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Create job\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/jobs\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/jobs\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Retrieve job\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/jobs/%3CJOB\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/jobs/\", \"<\", \"JOB\"), \">\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Retrieve all jobs for all datasets\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/jobs\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/jobs\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Retrieve all jobs for a dataset\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/datasets/%3CDATASET%3E/jobs\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/datasets/\", \"<\", \"DATASET\", \">\", \"/jobs\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Retrieve all available fields for a dataset\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/datasets/%3CDATASET%3E/fields\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/datasets/\", \"<\", \"DATASET\", \">\", \"/fields\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"GET\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Retrieve all default fields for a dataset\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/datasets/%3CDATASET%3E/fields/default\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/datasets/\", \"<\", \"DATASET\", \">\", \"/fields/default\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"PUT\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Update job\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/jobs/%3CJOB\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/jobs/\", \"<\", \"JOB\"), \">\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"DELETE\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Delete job\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/jobs/%3CJOB\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/jobs/\", \"<\", \"JOB\"), \">\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"POST\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Check whether destination exists\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/validate/destination/exists\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/validate/destination/exists\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"POST\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Get ownership challenge\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/ownership\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/ownership\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"POST\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Validate ownership challenge\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/ownership/validate\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/ownership/validate\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"POST\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Validate log options\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://api.cloudflare.com/client/v4/zones/%3CZONE_ID%3E/logpush/validate/origin\"\n  }, \"https://api.cloudflare.com/client/v4/zones/\", \"<\", \"ZONE_ID\", \">\", \"/logpush/validate/origin\")))))), mdx(\"p\", null, \"For concrete examples, see the tutorial \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/reference/logpush-api-configuration/examples/example-logpush-curl\"\n  }, \"Manage Logpush with cURL\"), \".\"), mdx(\"h2\", {\n    \"id\": \"connecting\"\n  }, \"Connecting\"), mdx(\"p\", null, \"The Logpush API requires credentials like any other Cloudflare API.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ curl -s -H \\\"X-Auth-Email: <EMAIL>\\\" -H \\\"X-Auth-Key: <API_KEY>\\\" \\\\\\n    'https://api.cloudflare.com/client/v4/zones/<ZONE_ID>/logpush/jobs'\\n\")), mdx(\"h2\", {\n    \"id\": \"ownership\"\n  }, \"Ownership\"), mdx(\"p\", null, \"Before creating a new job, ownership of the destination must be proven.\"), mdx(\"p\", null, \"To issue an ownership challenge token to your destination:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ curl -s -X POST https://api.cloudflare.com/client/v4/zones/<ZONE_ID>/logpush/ownership \\\\\\n-H \\\"X-Auth-Email: <EMAIL>\\\" \\\\ \\n-H \\\"X-Auth-Key: <API_KEY>\\\" \\\\\\n-H \\\"Content-Type: application/json\\\" \\\\ \\n--data '{\\\"destination_conf\\\":\\\"s3://<BUCKET_PATH>?region=us-west-2\\\"}' | jq .\\n\")), mdx(\"p\", null, \"A challenge file will be written to the destination, and the filename will be in the response (the filename may be expressed as a path, if appropriate for your destination):\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"{\\n  \\\"errors\\\": [],\\n  \\\"messages\\\": [],\\n  \\\"result\\\": {\\n    \\\"valid\\\": true,\\n    \\\"message\\\": \\\"\\\",\\n    \\\"filename\\\": \\\"<path-to-challenge-file>.txt\\\"\\n  },\\n  \\\"success\\\": true\\n}\\n\")), mdx(\"p\", null, \"You will need to provide the token contained in the file when creating a job.\"), mdx(Aside, {\n    type: \"note\",\n    header: \"Note\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"When using Sumo Logic, you may find it helpful to have \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://help.sumologic.com/05Search/Live-Tail/About-Live-Tail\"\n  }, \"Live Tail\"), \" open to see the challenge file as soon as it's uploaded.\")), mdx(\"h2\", {\n    \"id\": \"destination\"\n  }, \"Destination\"), mdx(\"p\", null, \"You can specify your cloud service provider destination via the required \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"destination_conf\"), \" parameter.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"AWS S3\"), \": bucket + optional directory + region + optional encryption parameter (if required by your policy); for example:\\xA0\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"s3://bucket/[dir]?region=<REGION>[&sse=AES256]\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Datadog\"), \": Datadog endpoint URL + Datadog API key + optional parameters; for example: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"datadog://<DATADOG_ENDPOINT_URL>?header_DD-API-KEY=<DATADOG_API_KEY>&ddsource=cloudflare&service=<SERVICE>&host=<HOST>&ddtags=<TAGS>\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Google Cloud Storage\"), \": bucket + optional directory; for example: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gs://bucket/[dir]\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Microsoft Azure\"), \": service-level SAS URL with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https\"), \" replaced by \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"azure\"), \" + optional directory added before query string; for example: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"azure://<BlobContainerPath>/[dir]?<QueryString>\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Splunk\"), \": Splunk endpoint URL + Splunk channel ID + insecure-skip-verify flag + Splunk sourcetype + Splunk authorization token; for example: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"splunk://<SPLUNK_ENDPOINT_URL>?channel=<SPLUNK_CHANNEL_ID>&insecure-skip-verify=<INSECURE_SKIP_VERIFY>&sourcetype=<SOURCE_TYPE>&header_Authorization=<SPLUNK_AUTH_TOKEN>\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Sumo Logic\"), \": HTTP source address URL with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https\"), \" replaced by \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sumo\"), \"; for example: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sumo://<SumoEndpoint>/receiver/v1/http/<UniqueHTTPCollectorCode>\"))), mdx(\"p\", null, \"For S3, Google Cloud Storage, and Azure, logs can be separated into daily subdirectories by using the special string \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{DATE}\"), \" in the URL path; for example:\\xA0\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"s3://mybucket/logs/{DATE}?region=us-east-1&sse=AES256\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"azure://myblobcontainer/logs/{DATE}?[QueryString]\"), \". It will be substituted with the date in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"YYYYMMDD\"), \" format, like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"20180523\"), \".\"), mdx(\"p\", null, \"For more information on the value for your cloud storage provider, consult the following conventions:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.aws.amazon.com/cli/latest/reference/s3/index.html\"\n  }, \"AWS S3 CLI\"), \" (S3Uri path argument type)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://cloud.google.com/storage/docs/gsutil\"\n  }, \"Google Cloud Storage CLI\"), \" (Syntax for accessing resources)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview\"\n  }, \"Microsoft Azure Shared Access Signature\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://help.sumologic.com/03Send-Data/Sources/02Sources-for-Hosted-Collectors/HTTP-Source\"\n  }, \"Sumo Logic HTTP Source\"))), mdx(\"p\", null, \"To check if a destination is already in use:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ curl -s -XPOST https://api.cloudflare.com/client/v4/zones/<ZONE_ID>/logpush/validate/destination/exists -d '{\\\"destination_conf\\\":\\\"s3://foo\\\"}' | jq .\\n\")), mdx(\"p\", null, \"Response\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"{\\n  \\\"errors\\\": [],\\n  \\\"messages\\\": [],\\n  \\\"result\\\": {\\n    \\\"exists\\\": false\\n  },\\n  \\\"success\\\": true\\n}\\n\")), mdx(\"p\", null, \"There can be only one job writing to each unique destination. For S3 and GCS, a destination is defined as bucket + path. This means two jobs can write to the same bucket, but must write to different subdirectories in that bucket.\"), mdx(\"h2\", {\n    \"id\": \"job-object\"\n  }, \"Job object\"), mdx(Aside, {\n    type: \"info\",\n    header: \"Info\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"For a detailed description, refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://api.cloudflare.com/#logpush-jobs-properties\"\n  }, \"Logpush job object definition\"), \".\")), mdx(\"h2\", {\n    \"id\": \"options\"\n  }, \"Options\"), mdx(\"p\", null, \"Logpush repeatedly pulls logs on your behalf and uploads them to your destination.\"), mdx(\"p\", null, \"Log options, such as fields or sampling rate, are configured in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"logpull_options\"), \" job parameter (refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://api.cloudflare.com/#logpush-jobs-properties\"\n  }, \"Logpush job object definition\"), \"). For example, the following query gets data from the Logpull API:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"curl -sv \\\\\\n    -H'X-Auth-Email: <EMAIL>' \\\\\\n    -H'X-Auth-Key: <API_KEY>' \\\\\\n    \\\"https://api.cloudflare.com/client/v4/zones/<ZONE_ID>/logs/received?start=2018-08-02T10:00:00Z&end=2018-08-02T10:01:00Z&fields=RayID,EdgeStartTimestamp\\\"\\n\")), mdx(\"p\", null, \"In Logpush, the Logpull options would be: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"logpull_options\\\": \\\"fields=RayID,EdgeStartTimestamp\\\"\"), \". Refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/logpull/requesting-logs/#parameters\"\n  }, \"Logpull API parameters\"), \" for more info.\"), mdx(\"p\", null, \"If you do not change any options, you will receive logs with default fields that are unsampled (i.e., \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sample=1\"), \").\"), mdx(\"p\", null, \"The four options that you can customize are:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Fields\"), \": Refer to \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/reference/log-fields/\"\n  }, \"Log fields\"), \" for the currently available fields. The list of fields is also accessible directly from the API: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://api.cloudflare.com/client/v4/zones/<ZONE_ID>/logpush/datasets/<DATASET>/fields\"), \". Default fields: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://api.cloudflare.com/client/v4/zones/<ZONE_ID>/logpush/datasets/<DATASET>/fields/default\"), \".\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Sampling rate\"), \": Value can range from \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"0.001\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"1.0\"), \" (inclusive). \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sample=0.1\"), \" means \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"return 10% (1 in 10) of all records\"), \".\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Timestamp format\"), \": The format in which timestamp fields will be returned. Value options: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"unixnano\"), \" (default), \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"unix\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"rfc3339\"), \".\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Optional redaction for CVE-2021-44228\"), \": This option will replace every occurrence of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"${\"), \" with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"x{\"), \".  To enable it, set \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"CVE-2021-44228=true\"), \".\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note\"), \": The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"CVE-2021-44228\"), \" parameter can only be set through the API at this time. Updating your Logpush job through the UI will set this option to false.\"), mdx(\"p\", null, \"To check if \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"logpull_options\"), \" are valid:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ curl -s -XPOST https://api.cloudflare.com/client/v4/zones/<ZONE_ID>/logpush/validate/origin -d '{\\\"logpull_options\\\":\\\"fields=RayID,ClientIP,EdgeStartTimestamp&timestamps=rfc3339&CVE-2021-44228=true\\\",\\\"dataset\\\": \\\"http_requests\\\"}' | jq .\\n\")), mdx(\"p\", null, \"Response\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"{\\n  \\\"errors\\\": [],\\n  \\\"messages\\\": [],\\n  \\\"result\\\": {\\n    \\\"valid\\\": true,\\n    \\\"message\\\": \\\"\\\",\\n  },\\n  \\\"success\\\": true\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"audit\"\n  }, \"Audit\"), mdx(\"p\", null, \"The following actions are recorded in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Cloudflare Audit Logs\"), \": create, update, and delete job.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"demo":null,"difficulty":null,"summary":null,"tags":null,"title":"","type":null,"updated":null}}},"pageContext":{"id":"c3be60ba-a137-5228-8c51-2328b3b8518b","fields":{"slug":"/reference/logpush-api-configuration"},"frontmatter":{"pcx_content_type":"concept","title":"","type":null,"order":41,"hidden":null,"hideChildren":null,"breadcrumbs":null},"headings":[{"value":"Logpush API configuration","depth":1}],"tableOfContents":{"items":[{"url":"#logpush-api-configuration","title":"Logpush API configuration","items":[{"url":"#endpoints","title":"Endpoints"},{"url":"#connecting","title":"Connecting"},{"url":"#ownership","title":"Ownership"},{"url":"#destination","title":"Destination"},{"url":"#job-object","title":"Job object"},{"url":"#options","title":"Options"},{"url":"#audit","title":"Audit"}]}]},"parent":{"modifiedTime":"2022-01-27","relativePath":"reference/logpush-api-configuration/index.md"}}}