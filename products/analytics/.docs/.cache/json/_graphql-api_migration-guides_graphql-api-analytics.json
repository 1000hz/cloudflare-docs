{"data":{"mdx":{"id":"2babbf56-ab54-5f5f-9bc7-8e467939a204","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"HTTP Requests by Colo Groups to HTTP Requests by Adaptive Groups\",\n  \"order\": 10,\n  \"pcx-content-type\": \"reference\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"httprequests1mbycologroupshttprequests1dbycologroups-to-httprequestsadaptivegroups\"\n  }, \"httpRequests1mByColoGroups/httpRequests1dByColoGroups to httpRequestsAdaptiveGroups\"), mdx(\"p\", null, \"This guide shares considerations when migrating from the deprecated \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1mByColoGroups\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1dByColoGroups\"), \" GraphQL API nodes to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequestsAdaptiveGroups\"), \" GraphQL API node.\"), mdx(\"p\", null, \"For example, if you wanted to see which five data centers had the most number of requests, the total number of those requests, and the total amount of data transfer, in the past you used the  \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1mByColoGroups\"), \" GraphQL API node as in the following example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-graphql\"\n  }, \"{\\n    viewer {\\n        zones(filter: {zoneTag: $zoneTag}) {\\n            series: httpRequests1mByColoGroups(\\n                limit: 5,\\n                orderBy: [ sum_requests_DESC ],\\n                filter: {\\n                    datetime_geq: $start\\n                    datetime_lt: $end\\n                }\\n            ) {\\n                sum {\\n                    requests\\n                    bytes\\n                }\\n                dimensions {\\n                    coloCode\\n                }\\n            }\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Example response\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"data\\\": {\\n    \\\"viewer\\\": {\\n      \\\"zones\\\": [\\n        {\\n          \\\"series\\\": [\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"LHR\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 18260055,\\n                \\\"requests\\\": 4404\\n              }\\n            },\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"AMS\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 17563009,\\n                \\\"requests\\\": 4302\\n              }\\n            },\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"CDG\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 17200434,\\n                \\\"requests\\\": 4032\\n              }\\n            },\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"PTY\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 10400209,\\n                \\\"requests\\\": 2707\\n              }\\n            },\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"JIB\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 9040105,\\n                \\\"requests\\\": 2601\\n              }\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  },\\n  \\\"errors\\\": null\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"httprequestsadaptivegroups-graphql-api-node\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"h2\"\n  }, \"httpRequestsAdaptiveGroups\"), \" GraphQL API node\"), mdx(\"p\", null, \"With the deprecation of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1mByColoGroups\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1dByColoGroups\"), \" GraphQL API nodes, use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequestsAdaptiveGroups\"), \" GraphQL API node to access the same data (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"count\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sum(edgeResponseBytes)\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"visits\"), \").\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Request\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-graphql\"\n  }, \"{\\n    viewer {\\n        zones(filter: {zoneTag: $zoneTag}) {\\n            series: httpRequestsAdaptiveGroups(\\n                limit: 5,\\n                orderBy: [ count_DESC ],\\n                filter: {\\n                    datetime_geq: $start\\n                    datetime_lt: $end\\n                    requestSource: 'eyeball'\\n                }\\n            ) {\\n                count\\n                avg {\\n                    sampleInterval\\n                }\\n                sum {\\n                    visits\\n                    edgeResponseBytes\\n                }\\n                dimensions {\\n                    coloCode\\n                }\\n            }\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Example response\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"data\\\": {\\n    \\\"viewer\\\": {\\n      \\\"zones\\\": [\\n        {\\n          \\\"series\\\": [\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 4350,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"LHR\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 17860000,\\n                \\\"visits\\\": 4120\\n              }\\n            },\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 4210,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"AMS\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 17110000,\\n                \\\"visits\\\": 3910\\n              }\\n            },\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 3890,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"CDG\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 17050000,\\n                \\\"visits\\\": 3700\\n              }\\n            },\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 2550,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"PTY\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 10286000,\\n                \\\"visits\\\": 2130\\n              }\\n            },\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 2410,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"JIB\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 9029000,\\n                \\\"visits\\\": 2080\\n              }\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  },\\n  \\\"errors\\\": null\\n}\\n\")), mdx(\"p\", null, \"This query says:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Given the indicated zones, \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"limit\"), \", and time range,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Fetch the total number of requests (as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"count\"), \"), the total amount of data transfer (as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"edgeResponseBytes\"), \" of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sum\"), \" object), and the total number of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"visits\"), \" per data center.\")), mdx(\"p\", null, \"A few points to note:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adding the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"requestSource\"), \" filter for \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"eyeball\"), \" returns request, data transfer, and visit data about only the end users of your website.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Instead of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"requests\"), \", the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"httpRequestsAdaptiveGroups\"), \" node reports \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"count\"), \", which indicates the number of requests per data center.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To measure data transfer, use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sum(edgeResponseBytes)\"), \". Note that in the old API this was called \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"bandwidth\"), \" even though it actually measured data transfer.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"unique visitors per colocation\"), \" is not supported in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"httpRequestsAdaptiveGroups\"), \", but the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"httpRequestsAdaptiveGroups\"), \" API does support \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"visits\"), \". A visit is defined as a page view that originated from a different website or direct link. Cloudflare checks where the HTTP referer does not match the hostname. One visit can consist of multiple page views.\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"demo":null,"difficulty":null,"summary":null,"tags":null,"title":"HTTP Requests by Colo Groups to HTTP Requests by Adaptive Groups","type":null,"updated":null}}},"pageContext":{"id":"2babbf56-ab54-5f5f-9bc7-8e467939a204","fields":{"slug":"/graphql-api/migration-guides/graphql-api-analytics"},"frontmatter":{"title":"HTTP Requests by Colo Groups to HTTP Requests by Adaptive Groups","type":null,"order":10,"hidden":null,"hideChildren":null,"breadcrumbs":null},"headings":[{"value":"httpRequests1mByColoGroups/httpRequests1dByColoGroups to httpRequestsAdaptiveGroups","depth":1}],"tableOfContents":{"items":[{"url":"#httprequests1mbycologroupshttprequests1dbycologroups-to-httprequestsadaptivegroups","title":"httpRequests1mByColoGroups/httpRequests1dByColoGroups to httpRequestsAdaptiveGroups","items":[{"url":"#httprequestsadaptivegroups-graphql-api-node","title":"httpRequestsAdaptiveGroups GraphQL API node"}]}]},"parent":{"modifiedTime":"2021-10-26","relativePath":"graphql-api/migration-guides/graphql-api-analytics/index.md"}}}