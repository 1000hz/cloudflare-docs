{"expireTime":9007200889996144000,"key":"gatsby-plugin-mdx-entire-payload-79fe049896d85fc9e71fa2e7d075d637-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"httpRequests1mByColoGroups/httpRequests1dByColoGroups to httpRequestsAdaptiveGroups","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":86,"offset":86},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":86,"offset":86},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This guide shares considerations when migrating from the deprecated ","position":{"start":{"line":4,"column":1,"offset":88},"end":{"line":4,"column":69,"offset":156},"indent":[]}},{"type":"inlineCode","value":"httpRequests1mByColoGroups","position":{"start":{"line":4,"column":69,"offset":156},"end":{"line":4,"column":97,"offset":184},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":4,"column":97,"offset":184},"end":{"line":4,"column":102,"offset":189},"indent":[]}},{"type":"inlineCode","value":"httpRequests1dByColoGroups","position":{"start":{"line":4,"column":102,"offset":189},"end":{"line":4,"column":130,"offset":217},"indent":[]}},{"type":"text","value":" GraphQL API nodes to the ","position":{"start":{"line":4,"column":130,"offset":217},"end":{"line":4,"column":156,"offset":243},"indent":[]}},{"type":"inlineCode","value":"httpRequestsAdaptiveGroups","position":{"start":{"line":4,"column":156,"offset":243},"end":{"line":4,"column":184,"offset":271},"indent":[]}},{"type":"text","value":" GraphQL API node.","position":{"start":{"line":4,"column":184,"offset":271},"end":{"line":4,"column":202,"offset":289},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":88},"end":{"line":4,"column":202,"offset":289},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For example, if you wanted to see which five data centers had the most number of requests, the total number of those requests, and the total amount of data transfer, in the past you used the  ","position":{"start":{"line":6,"column":1,"offset":291},"end":{"line":6,"column":193,"offset":483},"indent":[]}},{"type":"inlineCode","value":"httpRequests1mByColoGroups","position":{"start":{"line":6,"column":193,"offset":483},"end":{"line":6,"column":221,"offset":511},"indent":[]}},{"type":"text","value":" GraphQL API node as in the following example:","position":{"start":{"line":6,"column":221,"offset":511},"end":{"line":6,"column":267,"offset":557},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":291},"end":{"line":6,"column":267,"offset":557},"indent":[]}},{"type":"code","lang":"graphql","meta":null,"value":"{\n    viewer {\n        zones(filter: {zoneTag: $zoneTag}) {\n            series: httpRequests1mByColoGroups(\n                limit: 5,\n                orderBy: [ sum_requests_DESC ],\n                filter: {\n                    datetime_geq: $start\n                    datetime_lt: $end\n                }\n            ) {\n                sum {\n                    requests\n                    bytes\n                }\n                dimensions {\n                    coloCode\n                }\n            }\n        }\n    }\n}","position":{"start":{"line":8,"column":1,"offset":559},"end":{"line":31,"column":4,"offset":1097},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Example response","position":{"start":{"line":33,"column":3,"offset":1101},"end":{"line":33,"column":19,"offset":1117},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1099},"end":{"line":33,"column":21,"offset":1119},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1099},"end":{"line":33,"column":21,"offset":1119},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"data\": {\n    \"viewer\": {\n      \"zones\": [\n        {\n          \"series\": [\n            {\n              \"dimensions\": {\n                \"coloCode\": \"LHR\"\n              },\n              \"sum\": {\n                \"bytes\": 18260055,\n                \"requests\": 4404\n              }\n            },\n            {\n              \"dimensions\": {\n                \"coloCode\": \"AMS\"\n              },\n              \"sum\": {\n                \"bytes\": 17563009,\n                \"requests\": 4302\n              }\n            },\n            {\n              \"dimensions\": {\n                \"coloCode\": \"CDG\"\n              },\n              \"sum\": {\n                \"bytes\": 17200434,\n                \"requests\": 4032\n              }\n            },\n            {\n              \"dimensions\": {\n                \"coloCode\": \"PTY\"\n              },\n              \"sum\": {\n                \"bytes\": 10400209,\n                \"requests\": 2707\n              }\n            },\n            {\n              \"dimensions\": {\n                \"coloCode\": \"JIB\"\n              },\n              \"sum\": {\n                \"bytes\": 9040105,\n                \"requests\": 2601\n              }\n            }\n          ]\n        }\n      ]\n    }\n  },\n  \"errors\": null\n}","position":{"start":{"line":34,"column":1,"offset":1120},"end":{"line":93,"column":4,"offset":2353},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"inlineCode","value":"httpRequestsAdaptiveGroups","position":{"start":{"line":95,"column":4,"offset":2358},"end":{"line":95,"column":32,"offset":2386},"indent":[]}},{"type":"text","value":" GraphQL API node","position":{"start":{"line":95,"column":32,"offset":2386},"end":{"line":95,"column":49,"offset":2403},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":2355},"end":{"line":95,"column":49,"offset":2403},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"With the deprecation of the ","position":{"start":{"line":96,"column":1,"offset":2404},"end":{"line":96,"column":29,"offset":2432},"indent":[]}},{"type":"inlineCode","value":"httpRequests1mByColoGroups","position":{"start":{"line":96,"column":29,"offset":2432},"end":{"line":96,"column":57,"offset":2460},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":96,"column":57,"offset":2460},"end":{"line":96,"column":62,"offset":2465},"indent":[]}},{"type":"inlineCode","value":"httpRequests1dByColoGroups","position":{"start":{"line":96,"column":62,"offset":2465},"end":{"line":96,"column":90,"offset":2493},"indent":[]}},{"type":"text","value":" GraphQL API nodes, use the ","position":{"start":{"line":96,"column":90,"offset":2493},"end":{"line":96,"column":118,"offset":2521},"indent":[]}},{"type":"inlineCode","value":"httpRequestsAdaptiveGroups","position":{"start":{"line":96,"column":118,"offset":2521},"end":{"line":96,"column":146,"offset":2549},"indent":[]}},{"type":"text","value":" GraphQL API node to access the same data (","position":{"start":{"line":96,"column":146,"offset":2549},"end":{"line":96,"column":189,"offset":2592},"indent":[]}},{"type":"inlineCode","value":"count","position":{"start":{"line":96,"column":189,"offset":2592},"end":{"line":96,"column":196,"offset":2599},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":96,"column":196,"offset":2599},"end":{"line":96,"column":198,"offset":2601},"indent":[]}},{"type":"inlineCode","value":"sum(edgeResponseBytes)","position":{"start":{"line":96,"column":198,"offset":2601},"end":{"line":96,"column":222,"offset":2625},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":96,"column":222,"offset":2625},"end":{"line":96,"column":228,"offset":2631},"indent":[]}},{"type":"inlineCode","value":"visits","position":{"start":{"line":96,"column":228,"offset":2631},"end":{"line":96,"column":236,"offset":2639},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":96,"column":236,"offset":2639},"end":{"line":96,"column":238,"offset":2641},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":2404},"end":{"line":96,"column":238,"offset":2641},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Request","position":{"start":{"line":98,"column":3,"offset":2645},"end":{"line":98,"column":10,"offset":2652},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":2643},"end":{"line":98,"column":12,"offset":2654},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":2643},"end":{"line":98,"column":12,"offset":2654},"indent":[]}},{"type":"code","lang":"graphql","meta":null,"value":"{\n    viewer {\n        zones(filter: {zoneTag: $zoneTag}) {\n            series: httpRequestsAdaptiveGroups(\n                limit: 5,\n                orderBy: [ count_DESC ],\n                filter: {\n                    datetime_geq: $start\n                    datetime_lt: $end\n                    requestSource: 'eyeball'\n                }\n            ) {\n                count\n                avg {\n                    sampleInterval\n                }\n                sum {\n                    visits\n                    edgeResponseBytes\n                }\n                dimensions {\n                    coloCode\n                }\n            }\n        }\n    }\n}","position":{"start":{"line":99,"column":1,"offset":2655},"end":{"line":127,"column":4,"offset":3338},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Example response","position":{"start":{"line":129,"column":3,"offset":3342},"end":{"line":129,"column":19,"offset":3358},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":3340},"end":{"line":129,"column":21,"offset":3360},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":3340},"end":{"line":129,"column":21,"offset":3360},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"data\": {\n    \"viewer\": {\n      \"zones\": [\n        {\n          \"series\": [\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 4350,\n              \"dimensions\": {\n                \"coloCode\": \"LHR\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 17860000,\n                \"visits\": 4120\n              }\n            },\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 4210,\n              \"dimensions\": {\n                \"coloCode\": \"AMS\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 17110000,\n                \"visits\": 3910\n              }\n            },\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 3890,\n              \"dimensions\": {\n                \"coloCode\": \"CDG\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 17050000,\n                \"visits\": 3700\n              }\n            },\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 2550,\n              \"dimensions\": {\n                \"coloCode\": \"PTY\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 10286000,\n                \"visits\": 2130\n              }\n            },\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 2410,\n              \"dimensions\": {\n                \"coloCode\": \"JIB\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 9029000,\n                \"visits\": 2080\n              }\n            }\n          ]\n        }\n      ]\n    }\n  },\n  \"errors\": null\n}","position":{"start":{"line":130,"column":1,"offset":3361},"end":{"line":209,"column":4,"offset":5174},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This query says:","position":{"start":{"line":211,"column":1,"offset":5176},"end":{"line":211,"column":17,"offset":5192},"indent":[]}}],"position":{"start":{"line":211,"column":1,"offset":5176},"end":{"line":211,"column":17,"offset":5192},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Given the indicated zones, ","position":{"start":{"line":213,"column":3,"offset":5196},"end":{"line":213,"column":30,"offset":5223},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":213,"column":30,"offset":5223},"end":{"line":213,"column":37,"offset":5230},"indent":[]}},{"type":"text","value":", and time range,","position":{"start":{"line":213,"column":37,"offset":5230},"end":{"line":213,"column":54,"offset":5247},"indent":[]}}],"position":{"start":{"line":213,"column":3,"offset":5196},"end":{"line":213,"column":54,"offset":5247},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":5194},"end":{"line":213,"column":54,"offset":5247},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Fetch the total number of requests (as ","position":{"start":{"line":214,"column":3,"offset":5250},"end":{"line":214,"column":42,"offset":5289},"indent":[]}},{"type":"inlineCode","value":"count","position":{"start":{"line":214,"column":42,"offset":5289},"end":{"line":214,"column":49,"offset":5296},"indent":[]}},{"type":"text","value":"), the total amount of data transfer (as ","position":{"start":{"line":214,"column":49,"offset":5296},"end":{"line":214,"column":90,"offset":5337},"indent":[]}},{"type":"inlineCode","value":"edgeResponseBytes","position":{"start":{"line":214,"column":90,"offset":5337},"end":{"line":214,"column":109,"offset":5356},"indent":[]}},{"type":"text","value":" of ","position":{"start":{"line":214,"column":109,"offset":5356},"end":{"line":214,"column":113,"offset":5360},"indent":[]}},{"type":"inlineCode","value":"sum","position":{"start":{"line":214,"column":113,"offset":5360},"end":{"line":214,"column":118,"offset":5365},"indent":[]}},{"type":"text","value":" object), and the total number of ","position":{"start":{"line":214,"column":118,"offset":5365},"end":{"line":214,"column":152,"offset":5399},"indent":[]}},{"type":"inlineCode","value":"visits","position":{"start":{"line":214,"column":152,"offset":5399},"end":{"line":214,"column":160,"offset":5407},"indent":[]}},{"type":"text","value":" per data center.","position":{"start":{"line":214,"column":160,"offset":5407},"end":{"line":214,"column":177,"offset":5424},"indent":[]}}],"position":{"start":{"line":214,"column":3,"offset":5250},"end":{"line":214,"column":177,"offset":5424},"indent":[]}}],"position":{"start":{"line":214,"column":1,"offset":5248},"end":{"line":214,"column":177,"offset":5424},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":5194},"end":{"line":214,"column":177,"offset":5424},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"A few points to note:","position":{"start":{"line":216,"column":1,"offset":5426},"end":{"line":216,"column":22,"offset":5447},"indent":[]}}],"position":{"start":{"line":216,"column":1,"offset":5426},"end":{"line":216,"column":22,"offset":5447},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Adding the ","position":{"start":{"line":218,"column":3,"offset":5451},"end":{"line":218,"column":14,"offset":5462},"indent":[]}},{"type":"inlineCode","value":"requestSource","position":{"start":{"line":218,"column":14,"offset":5462},"end":{"line":218,"column":29,"offset":5477},"indent":[]}},{"type":"text","value":" filter for ","position":{"start":{"line":218,"column":29,"offset":5477},"end":{"line":218,"column":41,"offset":5489},"indent":[]}},{"type":"inlineCode","value":"eyeball","position":{"start":{"line":218,"column":41,"offset":5489},"end":{"line":218,"column":50,"offset":5498},"indent":[]}},{"type":"text","value":" returns request, data transfer, and visit data about only the end users of your website.","position":{"start":{"line":218,"column":50,"offset":5498},"end":{"line":218,"column":139,"offset":5587},"indent":[]}}],"position":{"start":{"line":218,"column":3,"offset":5451},"end":{"line":218,"column":139,"offset":5587},"indent":[]}}],"position":{"start":{"line":218,"column":1,"offset":5449},"end":{"line":218,"column":139,"offset":5587},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Instead of ","position":{"start":{"line":219,"column":3,"offset":5590},"end":{"line":219,"column":14,"offset":5601},"indent":[]}},{"type":"inlineCode","value":"requests","position":{"start":{"line":219,"column":14,"offset":5601},"end":{"line":219,"column":24,"offset":5611},"indent":[]}},{"type":"text","value":", the ","position":{"start":{"line":219,"column":24,"offset":5611},"end":{"line":219,"column":30,"offset":5617},"indent":[]}},{"type":"inlineCode","value":"httpRequestsAdaptiveGroups","position":{"start":{"line":219,"column":30,"offset":5617},"end":{"line":219,"column":58,"offset":5645},"indent":[]}},{"type":"text","value":" node reports ","position":{"start":{"line":219,"column":58,"offset":5645},"end":{"line":219,"column":72,"offset":5659},"indent":[]}},{"type":"inlineCode","value":"count","position":{"start":{"line":219,"column":72,"offset":5659},"end":{"line":219,"column":79,"offset":5666},"indent":[]}},{"type":"text","value":", which indicates the number of requests per data center.","position":{"start":{"line":219,"column":79,"offset":5666},"end":{"line":219,"column":136,"offset":5723},"indent":[]}}],"position":{"start":{"line":219,"column":3,"offset":5590},"end":{"line":219,"column":136,"offset":5723},"indent":[]}}],"position":{"start":{"line":219,"column":1,"offset":5588},"end":{"line":219,"column":136,"offset":5723},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To measure data transfer, use ","position":{"start":{"line":220,"column":3,"offset":5726},"end":{"line":220,"column":33,"offset":5756},"indent":[]}},{"type":"inlineCode","value":"sum(edgeResponseBytes)","position":{"start":{"line":220,"column":33,"offset":5756},"end":{"line":220,"column":57,"offset":5780},"indent":[]}},{"type":"text","value":". Note that in the old API this was called ","position":{"start":{"line":220,"column":57,"offset":5780},"end":{"line":220,"column":100,"offset":5823},"indent":[]}},{"type":"inlineCode","value":"bandwidth","position":{"start":{"line":220,"column":100,"offset":5823},"end":{"line":220,"column":111,"offset":5834},"indent":[]}},{"type":"text","value":" even though it actually measured data transfer.","position":{"start":{"line":220,"column":111,"offset":5834},"end":{"line":220,"column":159,"offset":5882},"indent":[]}}],"position":{"start":{"line":220,"column":3,"offset":5726},"end":{"line":220,"column":159,"offset":5882},"indent":[]}}],"position":{"start":{"line":220,"column":1,"offset":5724},"end":{"line":220,"column":159,"offset":5882},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"unique visitors per colocation","position":{"start":{"line":221,"column":3,"offset":5885},"end":{"line":221,"column":35,"offset":5917},"indent":[]}},{"type":"text","value":" is not supported in ","position":{"start":{"line":221,"column":35,"offset":5917},"end":{"line":221,"column":56,"offset":5938},"indent":[]}},{"type":"inlineCode","value":"httpRequestsAdaptiveGroups","position":{"start":{"line":221,"column":56,"offset":5938},"end":{"line":221,"column":84,"offset":5966},"indent":[]}},{"type":"text","value":", but the ","position":{"start":{"line":221,"column":84,"offset":5966},"end":{"line":221,"column":94,"offset":5976},"indent":[]}},{"type":"inlineCode","value":"httpRequestsAdaptiveGroups","position":{"start":{"line":221,"column":94,"offset":5976},"end":{"line":221,"column":122,"offset":6004},"indent":[]}},{"type":"text","value":" API does support ","position":{"start":{"line":221,"column":122,"offset":6004},"end":{"line":221,"column":140,"offset":6022},"indent":[]}},{"type":"inlineCode","value":"visits","position":{"start":{"line":221,"column":140,"offset":6022},"end":{"line":221,"column":148,"offset":6030},"indent":[]}},{"type":"text","value":". A visit is defined as a page view that originated from a different website or direct link. Cloudflare checks where the HTTP referer does not match the hostname. One visit can consist of multiple page views.","position":{"start":{"line":221,"column":148,"offset":6030},"end":{"line":221,"column":356,"offset":6238},"indent":[]}}],"position":{"start":{"line":221,"column":3,"offset":5885},"end":{"line":221,"column":356,"offset":6238},"indent":[]}}],"position":{"start":{"line":221,"column":1,"offset":5883},"end":{"line":221,"column":356,"offset":6238},"indent":[]}}],"position":{"start":{"line":218,"column":1,"offset":5449},"end":{"line":221,"column":356,"offset":6238},"indent":[1,1,1]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"HTTP Requests by Colo Groups to HTTP Requests by Adaptive Groups\",\"order\":10,\"pcx-content-type\":\"reference\"}","position":{"start":{"line":223,"column":1,"offset":6240},"end":{"line":223,"column":147,"offset":6386},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":223,"column":147,"offset":6386}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"HTTP Requests by Colo Groups to HTTP Requests by Adaptive Groups\",\n  \"order\": 10,\n  \"pcx-content-type\": \"reference\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"httprequests1mbycologroupshttprequests1dbycologroups-to-httprequestsadaptivegroups\"\n  }, \"httpRequests1mByColoGroups/httpRequests1dByColoGroups to httpRequestsAdaptiveGroups\"), mdx(\"p\", null, \"This guide shares considerations when migrating from the deprecated \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1mByColoGroups\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1dByColoGroups\"), \" GraphQL API nodes to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequestsAdaptiveGroups\"), \" GraphQL API node.\"), mdx(\"p\", null, \"For example, if you wanted to see which five data centers had the most number of requests, the total number of those requests, and the total amount of data transfer, in the past you used the  \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1mByColoGroups\"), \" GraphQL API node as in the following example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-graphql\"\n  }, \"{\\n    viewer {\\n        zones(filter: {zoneTag: $zoneTag}) {\\n            series: httpRequests1mByColoGroups(\\n                limit: 5,\\n                orderBy: [ sum_requests_DESC ],\\n                filter: {\\n                    datetime_geq: $start\\n                    datetime_lt: $end\\n                }\\n            ) {\\n                sum {\\n                    requests\\n                    bytes\\n                }\\n                dimensions {\\n                    coloCode\\n                }\\n            }\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Example response\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"data\\\": {\\n    \\\"viewer\\\": {\\n      \\\"zones\\\": [\\n        {\\n          \\\"series\\\": [\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"LHR\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 18260055,\\n                \\\"requests\\\": 4404\\n              }\\n            },\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"AMS\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 17563009,\\n                \\\"requests\\\": 4302\\n              }\\n            },\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"CDG\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 17200434,\\n                \\\"requests\\\": 4032\\n              }\\n            },\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"PTY\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 10400209,\\n                \\\"requests\\\": 2707\\n              }\\n            },\\n            {\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"JIB\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"bytes\\\": 9040105,\\n                \\\"requests\\\": 2601\\n              }\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  },\\n  \\\"errors\\\": null\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"httprequestsadaptivegroups-graphql-api-node\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"h2\"\n  }, \"httpRequestsAdaptiveGroups\"), \" GraphQL API node\"), mdx(\"p\", null, \"With the deprecation of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1mByColoGroups\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequests1dByColoGroups\"), \" GraphQL API nodes, use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpRequestsAdaptiveGroups\"), \" GraphQL API node to access the same data (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"count\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sum(edgeResponseBytes)\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"visits\"), \").\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Request\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-graphql\"\n  }, \"{\\n    viewer {\\n        zones(filter: {zoneTag: $zoneTag}) {\\n            series: httpRequestsAdaptiveGroups(\\n                limit: 5,\\n                orderBy: [ count_DESC ],\\n                filter: {\\n                    datetime_geq: $start\\n                    datetime_lt: $end\\n                    requestSource: 'eyeball'\\n                }\\n            ) {\\n                count\\n                avg {\\n                    sampleInterval\\n                }\\n                sum {\\n                    visits\\n                    edgeResponseBytes\\n                }\\n                dimensions {\\n                    coloCode\\n                }\\n            }\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Example response\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"data\\\": {\\n    \\\"viewer\\\": {\\n      \\\"zones\\\": [\\n        {\\n          \\\"series\\\": [\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 4350,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"LHR\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 17860000,\\n                \\\"visits\\\": 4120\\n              }\\n            },\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 4210,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"AMS\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 17110000,\\n                \\\"visits\\\": 3910\\n              }\\n            },\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 3890,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"CDG\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 17050000,\\n                \\\"visits\\\": 3700\\n              }\\n            },\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 2550,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"PTY\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 10286000,\\n                \\\"visits\\\": 2130\\n              }\\n            },\\n            {\\n              \\\"avg\\\": {\\n                \\\"sampleInterval\\\": 10\\n              },\\n              \\\"count\\\": 2410,\\n              \\\"dimensions\\\": {\\n                \\\"coloCode\\\": \\\"JIB\\\"\\n              },\\n              \\\"sum\\\": {\\n                \\\"edgeResponseBytes\\\": 9029000,\\n                \\\"visits\\\": 2080\\n              }\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n  },\\n  \\\"errors\\\": null\\n}\\n\")), mdx(\"p\", null, \"This query says:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Given the indicated zones, \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"limit\"), \", and time range,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Fetch the total number of requests (as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"count\"), \"), the total amount of data transfer (as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"edgeResponseBytes\"), \" of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sum\"), \" object), and the total number of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"visits\"), \" per data center.\")), mdx(\"p\", null, \"A few points to note:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adding the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"requestSource\"), \" filter for \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"eyeball\"), \" returns request, data transfer, and visit data about only the end users of your website.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Instead of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"requests\"), \", the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"httpRequestsAdaptiveGroups\"), \" node reports \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"count\"), \", which indicates the number of requests per data center.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To measure data transfer, use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sum(edgeResponseBytes)\"), \". Note that in the old API this was called \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"bandwidth\"), \" even though it actually measured data transfer.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"unique visitors per colocation\"), \" is not supported in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"httpRequestsAdaptiveGroups\"), \", but the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"httpRequestsAdaptiveGroups\"), \" API does support \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"visits\"), \". A visit is defined as a page view that originated from a different website or direct link. Cloudflare checks where the HTTP referer does not match the hostname. One visit can consist of multiple page views.\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"HTTP Requests by Colo Groups to HTTP Requests by Adaptive Groups\",\n  \"order\": 10,\n  \"pcx-content-type\": \"reference\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"httprequests1mbycologroupshttprequests1dbycologroups-to-httprequestsadaptivegroups\"\n    }}>{`httpRequests1mByColoGroups/httpRequests1dByColoGroups to httpRequestsAdaptiveGroups`}</h1>\n    <p>{`This guide shares considerations when migrating from the deprecated `}<inlineCode parentName=\"p\">{`httpRequests1mByColoGroups`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`httpRequests1dByColoGroups`}</inlineCode>{` GraphQL API nodes to the `}<inlineCode parentName=\"p\">{`httpRequestsAdaptiveGroups`}</inlineCode>{` GraphQL API node.`}</p>\n    <p>{`For example, if you wanted to see which five data centers had the most number of requests, the total number of those requests, and the total amount of data transfer, in the past you used the  `}<inlineCode parentName=\"p\">{`httpRequests1mByColoGroups`}</inlineCode>{` GraphQL API node as in the following example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-graphql\"\n      }}>{`{\n    viewer {\n        zones(filter: {zoneTag: $zoneTag}) {\n            series: httpRequests1mByColoGroups(\n                limit: 5,\n                orderBy: [ sum_requests_DESC ],\n                filter: {\n                    datetime_geq: $start\n                    datetime_lt: $end\n                }\n            ) {\n                sum {\n                    requests\n                    bytes\n                }\n                dimensions {\n                    coloCode\n                }\n            }\n        }\n    }\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Example response`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"data\": {\n    \"viewer\": {\n      \"zones\": [\n        {\n          \"series\": [\n            {\n              \"dimensions\": {\n                \"coloCode\": \"LHR\"\n              },\n              \"sum\": {\n                \"bytes\": 18260055,\n                \"requests\": 4404\n              }\n            },\n            {\n              \"dimensions\": {\n                \"coloCode\": \"AMS\"\n              },\n              \"sum\": {\n                \"bytes\": 17563009,\n                \"requests\": 4302\n              }\n            },\n            {\n              \"dimensions\": {\n                \"coloCode\": \"CDG\"\n              },\n              \"sum\": {\n                \"bytes\": 17200434,\n                \"requests\": 4032\n              }\n            },\n            {\n              \"dimensions\": {\n                \"coloCode\": \"PTY\"\n              },\n              \"sum\": {\n                \"bytes\": 10400209,\n                \"requests\": 2707\n              }\n            },\n            {\n              \"dimensions\": {\n                \"coloCode\": \"JIB\"\n              },\n              \"sum\": {\n                \"bytes\": 9040105,\n                \"requests\": 2601\n              }\n            }\n          ]\n        }\n      ]\n    }\n  },\n  \"errors\": null\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"httprequestsadaptivegroups-graphql-api-node\"\n    }}><inlineCode parentName=\"h2\">{`httpRequestsAdaptiveGroups`}</inlineCode>{` GraphQL API node`}</h2>\n    <p>{`With the deprecation of the `}<inlineCode parentName=\"p\">{`httpRequests1mByColoGroups`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`httpRequests1dByColoGroups`}</inlineCode>{` GraphQL API nodes, use the `}<inlineCode parentName=\"p\">{`httpRequestsAdaptiveGroups`}</inlineCode>{` GraphQL API node to access the same data (`}<inlineCode parentName=\"p\">{`count`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`sum(edgeResponseBytes)`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`visits`}</inlineCode>{`).`}</p>\n    <p><strong parentName=\"p\">{`Request`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-graphql\"\n      }}>{`{\n    viewer {\n        zones(filter: {zoneTag: $zoneTag}) {\n            series: httpRequestsAdaptiveGroups(\n                limit: 5,\n                orderBy: [ count_DESC ],\n                filter: {\n                    datetime_geq: $start\n                    datetime_lt: $end\n                    requestSource: 'eyeball'\n                }\n            ) {\n                count\n                avg {\n                    sampleInterval\n                }\n                sum {\n                    visits\n                    edgeResponseBytes\n                }\n                dimensions {\n                    coloCode\n                }\n            }\n        }\n    }\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Example response`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"data\": {\n    \"viewer\": {\n      \"zones\": [\n        {\n          \"series\": [\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 4350,\n              \"dimensions\": {\n                \"coloCode\": \"LHR\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 17860000,\n                \"visits\": 4120\n              }\n            },\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 4210,\n              \"dimensions\": {\n                \"coloCode\": \"AMS\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 17110000,\n                \"visits\": 3910\n              }\n            },\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 3890,\n              \"dimensions\": {\n                \"coloCode\": \"CDG\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 17050000,\n                \"visits\": 3700\n              }\n            },\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 2550,\n              \"dimensions\": {\n                \"coloCode\": \"PTY\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 10286000,\n                \"visits\": 2130\n              }\n            },\n            {\n              \"avg\": {\n                \"sampleInterval\": 10\n              },\n              \"count\": 2410,\n              \"dimensions\": {\n                \"coloCode\": \"JIB\"\n              },\n              \"sum\": {\n                \"edgeResponseBytes\": 9029000,\n                \"visits\": 2080\n              }\n            }\n          ]\n        }\n      ]\n    }\n  },\n  \"errors\": null\n}\n`}</code></pre>\n    <p>{`This query says:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Given the indicated zones, `}<inlineCode parentName=\"li\">{`limit`}</inlineCode>{`, and time range,`}</li>\n      <li parentName=\"ul\">{`Fetch the total number of requests (as `}<inlineCode parentName=\"li\">{`count`}</inlineCode>{`), the total amount of data transfer (as `}<inlineCode parentName=\"li\">{`edgeResponseBytes`}</inlineCode>{` of `}<inlineCode parentName=\"li\">{`sum`}</inlineCode>{` object), and the total number of `}<inlineCode parentName=\"li\">{`visits`}</inlineCode>{` per data center.`}</li>\n    </ul>\n    <p>{`A few points to note:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Adding the `}<inlineCode parentName=\"li\">{`requestSource`}</inlineCode>{` filter for `}<inlineCode parentName=\"li\">{`eyeball`}</inlineCode>{` returns request, data transfer, and visit data about only the end users of your website.`}</li>\n      <li parentName=\"ul\">{`Instead of `}<inlineCode parentName=\"li\">{`requests`}</inlineCode>{`, the `}<inlineCode parentName=\"li\">{`httpRequestsAdaptiveGroups`}</inlineCode>{` node reports `}<inlineCode parentName=\"li\">{`count`}</inlineCode>{`, which indicates the number of requests per data center.`}</li>\n      <li parentName=\"ul\">{`To measure data transfer, use `}<inlineCode parentName=\"li\">{`sum(edgeResponseBytes)`}</inlineCode>{`. Note that in the old API this was called `}<inlineCode parentName=\"li\">{`bandwidth`}</inlineCode>{` even though it actually measured data transfer.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`unique visitors per colocation`}</inlineCode>{` is not supported in `}<inlineCode parentName=\"li\">{`httpRequestsAdaptiveGroups`}</inlineCode>{`, but the `}<inlineCode parentName=\"li\">{`httpRequestsAdaptiveGroups`}</inlineCode>{` API does support `}<inlineCode parentName=\"li\">{`visits`}</inlineCode>{`. A visit is defined as a page view that originated from a different website or direct link. Cloudflare checks where the HTTP referer does not match the hostname. One visit can consist of multiple page views.`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}