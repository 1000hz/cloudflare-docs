{"expireTime":9007200897961982000,"key":"gatsby-plugin-mdx-entire-payload-508533a5249b73e5941ee65161931629-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Create Bulk Redirects via API","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":32,"offset":32},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":32,"offset":32},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To create Bulk Redirects via API, you must:","position":{"start":{"line":4,"column":1,"offset":34},"end":{"line":4,"column":44,"offset":77},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":34},"end":{"line":4,"column":44,"offset":77},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a Bulk Redirect List via API.","position":{"start":{"line":6,"column":4,"offset":82},"end":{"line":6,"column":40,"offset":118},"indent":[]}}],"position":{"start":{"line":6,"column":4,"offset":82},"end":{"line":6,"column":40,"offset":118},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":79},"end":{"line":6,"column":40,"offset":118},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add items (URL Redirects) to the list created in step 1.","position":{"start":{"line":7,"column":4,"offset":122},"end":{"line":7,"column":60,"offset":178},"indent":[]}}],"position":{"start":{"line":7,"column":4,"offset":122},"end":{"line":7,"column":60,"offset":178},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":119},"end":{"line":7,"column":60,"offset":178},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a Bulk Redirect Rule via API, which enables the list created in step 1.","position":{"start":{"line":8,"column":4,"offset":182},"end":{"line":8,"column":82,"offset":260},"indent":[]}}],"position":{"start":{"line":8,"column":4,"offset":182},"end":{"line":8,"column":82,"offset":260},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":179},"end":{"line":8,"column":82,"offset":260},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":79},"end":{"line":8,"column":82,"offset":260},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"1. Create a Bulk Redirect List via API","position":{"start":{"line":10,"column":4,"offset":265},"end":{"line":10,"column":42,"offset":303},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":262},"end":{"line":10,"column":42,"offset":303},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Use the ","position":{"start":{"line":12,"column":1,"offset":305},"end":{"line":12,"column":9,"offset":313},"indent":[]}},{"type":"link","title":null,"url":"https://api.cloudflare.com/#rules-lists-create-list","children":[{"type":"text","value":"Create list","position":{"start":{"line":12,"column":10,"offset":314},"end":{"line":12,"column":21,"offset":325},"indent":[]}}],"position":{"start":{"line":12,"column":9,"offset":313},"end":{"line":12,"column":75,"offset":379},"indent":[]}},{"type":"text","value":" operation to create a new Bulk Redirect List. The list ","position":{"start":{"line":12,"column":75,"offset":379},"end":{"line":12,"column":131,"offset":435},"indent":[]}},{"type":"inlineCode","value":"kind","position":{"start":{"line":12,"column":131,"offset":435},"end":{"line":12,"column":137,"offset":441},"indent":[]}},{"type":"text","value":" must be ","position":{"start":{"line":12,"column":137,"offset":441},"end":{"line":12,"column":146,"offset":450},"indent":[]}},{"type":"inlineCode","value":"redirect","position":{"start":{"line":12,"column":146,"offset":450},"end":{"line":12,"column":156,"offset":460},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":12,"column":156,"offset":460},"end":{"line":12,"column":157,"offset":461},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":305},"end":{"line":12,"column":157,"offset":461},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"curl -X POST \\\n\"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rules/lists\" \\\n-H \"X-Auth-Email: <EMAIL>\" \\\n-H \"X-Auth-Key: <KEY>\" \\\n-d '{\n  \"name\": \"my_redirect_list\",\n  \"description\": \"My redirect list.\",\n  \"kind\": \"redirect\"\n}'","position":{"start":{"line":14,"column":1,"offset":463},"end":{"line":24,"column":4,"offset":716},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The response will be similar to the following:","position":{"start":{"line":26,"column":1,"offset":718},"end":{"line":26,"column":47,"offset":764},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":718},"end":{"line":26,"column":47,"offset":764},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"result\": {\n    \"id\": \"f848b6ccb07647749411f504d6f88794\",\n    \"name\": \"my_redirect_list\",\n    \"description\": \"My redirect list.\",\n    \"kind\": \"redirect\",\n    \"num_items\": 0,\n    \"num_referencing_filters\": 0,\n    \"created_on\": \"2021-10-28T09:11:42Z\",\n    \"modified_on\": \"2021-10-28T09:11:42Z\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}","position":{"start":{"line":28,"column":1,"offset":766},"end":{"line":44,"column":4,"offset":1132},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"For more information on list operations, refer to the ","position":{"start":{"line":46,"column":1,"offset":1134},"end":{"line":46,"column":55,"offset":1188},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/firewall/api/cf-lists","children":[{"type":"text","value":"Rules Lists API","position":{"start":{"line":46,"column":56,"offset":1189},"end":{"line":46,"column":71,"offset":1204},"indent":[]}}],"position":{"start":{"line":46,"column":55,"offset":1188},"end":{"line":46,"column":129,"offset":1262},"indent":[]}},{"type":"text","value":" documentation.","position":{"start":{"line":46,"column":129,"offset":1262},"end":{"line":46,"column":144,"offset":1277},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1134},"end":{"line":46,"column":144,"offset":1277},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"2. Add items to the list","position":{"start":{"line":48,"column":4,"offset":1282},"end":{"line":48,"column":28,"offset":1306},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1279},"end":{"line":48,"column":28,"offset":1306},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Use the ","position":{"start":{"line":50,"column":1,"offset":1308},"end":{"line":50,"column":9,"offset":1316},"indent":[]}},{"type":"link","title":null,"url":"https://api.cloudflare.com/#rules-lists-create-list-items","children":[{"type":"text","value":"Create list items","position":{"start":{"line":50,"column":10,"offset":1317},"end":{"line":50,"column":27,"offset":1334},"indent":[]}}],"position":{"start":{"line":50,"column":9,"offset":1316},"end":{"line":50,"column":87,"offset":1394},"indent":[]}},{"type":"text","value":" operation to add URL Redirect items to the list:","position":{"start":{"line":50,"column":87,"offset":1394},"end":{"line":50,"column":136,"offset":1443},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":1308},"end":{"line":50,"column":136,"offset":1443},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"curl -X POST \\\n\"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rules/lists/f848b6ccb07647749411f504d6f88794/items\" \\\n-H \"X-Auth-Email: <EMAIL>\" \\\n-H \"X-Auth-Key: <KEY>\" \\\n-d '[\n  {\n    \"redirect\": {\n      \"source_url\": \"example.com/blog/\",\n      \"target_url\": \"https://example.com/blog/latest\"\n    }\n  },\n  {\n    \"redirect\": {\n      \"source_url\": \"example.net/\",\n      \"target_url\": \"https://example.net/under-construction.html\",\n      \"status_code\": 307\n    }\n  }\n]'","position":{"start":{"line":52,"column":1,"offset":1445},"end":{"line":72,"column":4,"offset":1936},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The response will be similar to the following:","position":{"start":{"line":74,"column":1,"offset":1938},"end":{"line":74,"column":47,"offset":1984},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":1938},"end":{"line":74,"column":47,"offset":1984},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"result\": {\n    \"operation_id\": \"92558f8b296d4dbe9d0419e0e53f6622\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}","position":{"start":{"line":76,"column":1,"offset":1986},"end":{"line":85,"column":4,"offset":2127},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This is an asynchronous operation. The response will contain an ","position":{"start":{"line":87,"column":1,"offset":2129},"end":{"line":87,"column":65,"offset":2193},"indent":[]}},{"type":"inlineCode","value":"operation_id","position":{"start":{"line":87,"column":65,"offset":2193},"end":{"line":87,"column":79,"offset":2207},"indent":[]}},{"type":"text","value":" which you will use to check if the operation completed successfully using the ","position":{"start":{"line":87,"column":79,"offset":2207},"end":{"line":87,"column":158,"offset":2286},"indent":[]}},{"type":"link","title":null,"url":"https://api.cloudflare.com/#rules-lists-get-bulk-operation","children":[{"type":"text","value":"Get bulk operation","position":{"start":{"line":87,"column":159,"offset":2287},"end":{"line":87,"column":177,"offset":2305},"indent":[]}}],"position":{"start":{"line":87,"column":158,"offset":2286},"end":{"line":87,"column":238,"offset":2366},"indent":[]}},{"type":"text","value":" method:","position":{"start":{"line":87,"column":238,"offset":2366},"end":{"line":87,"column":246,"offset":2374},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":2129},"end":{"line":87,"column":246,"offset":2374},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"curl \"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rules/lists/bulk_operations/92558f8b296d4dbe9d0419e0e53f6622\" \\\n-H \"X-Auth-Email: <EMAIL>\" \\\n-H \"X-Auth-Key: <KEY>\"","position":{"start":{"line":89,"column":1,"offset":2376},"end":{"line":93,"column":4,"offset":2568},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If the operation already completed successfully, the response will be similar to the following:","position":{"start":{"line":95,"column":1,"offset":2570},"end":{"line":95,"column":96,"offset":2665},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":2570},"end":{"line":95,"column":96,"offset":2665},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"result\": {\n    \"id\": \"92558f8b296d4dbe9d0419e0e53f6622\",\n    \"status\": \"completed\",\n    \"completed\": \"2021-10-28T09:15:42Z\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}","position":{"start":{"line":97,"column":1,"offset":2667},"end":{"line":108,"column":4,"offset":2866},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"3. Create a Bulk Redirect Rule via API","position":{"start":{"line":110,"column":4,"offset":2871},"end":{"line":110,"column":42,"offset":2909},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":2868},"end":{"line":110,"column":42,"offset":2909},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Since Bulk Redirect Lists are just containers of URL Redirects, you have to enable the URL Redirects in the list by creating a Bulk Redirect Rule.","position":{"start":{"line":112,"column":1,"offset":2911},"end":{"line":112,"column":147,"offset":3057},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":2911},"end":{"line":112,"column":147,"offset":3057},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Add Bulk Redirect Rules to the ruleset entry point of the ","position":{"start":{"line":114,"column":1,"offset":3059},"end":{"line":114,"column":59,"offset":3117},"indent":[]}},{"type":"inlineCode","value":"http_request_redirect","position":{"start":{"line":114,"column":59,"offset":3117},"end":{"line":114,"column":82,"offset":3140},"indent":[]}},{"type":"text","value":" phase at the account level. Refer to the ","position":{"start":{"line":114,"column":82,"offset":3140},"end":{"line":114,"column":124,"offset":3182},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/ruleset-engine/rulesets-api","children":[{"type":"text","value":"Rulesets API","position":{"start":{"line":114,"column":125,"offset":3183},"end":{"line":114,"column":137,"offset":3195},"indent":[]}}],"position":{"start":{"line":114,"column":124,"offset":3182},"end":{"line":114,"column":201,"offset":3259},"indent":[]}},{"type":"text","value":" documentation for more information on ","position":{"start":{"line":114,"column":201,"offset":3259},"end":{"line":114,"column":240,"offset":3298},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/ruleset-engine/rulesets-api/create","children":[{"type":"text","value":"creating a ruleset","position":{"start":{"line":114,"column":241,"offset":3299},"end":{"line":114,"column":259,"offset":3317},"indent":[]}}],"position":{"start":{"line":114,"column":240,"offset":3298},"end":{"line":114,"column":330,"offset":3388},"indent":[]}},{"type":"text","value":" and supplying a list of rules for the ruleset.","position":{"start":{"line":114,"column":330,"offset":3388},"end":{"line":114,"column":377,"offset":3435},"indent":[]}}],"position":{"start":{"line":114,"column":1,"offset":3059},"end":{"line":114,"column":377,"offset":3435},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"A Bulk Redirect Rule must have:","position":{"start":{"line":116,"column":1,"offset":3437},"end":{"line":116,"column":32,"offset":3468},"indent":[]}}],"position":{"start":{"line":116,"column":1,"offset":3437},"end":{"line":116,"column":32,"offset":3468},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"action","position":{"start":{"line":118,"column":3,"offset":3472},"end":{"line":118,"column":11,"offset":3480},"indent":[]}},{"type":"text","value":" set to ","position":{"start":{"line":118,"column":11,"offset":3480},"end":{"line":118,"column":19,"offset":3488},"indent":[]}},{"type":"inlineCode","value":"redirect","position":{"start":{"line":118,"column":19,"offset":3488},"end":{"line":118,"column":29,"offset":3498},"indent":[]}}],"position":{"start":{"line":118,"column":3,"offset":3472},"end":{"line":118,"column":29,"offset":3498},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":3470},"end":{"line":118,"column":29,"offset":3498},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"An ","position":{"start":{"line":119,"column":3,"offset":3501},"end":{"line":119,"column":6,"offset":3504},"indent":[]}},{"type":"inlineCode","value":"action_parameters","position":{"start":{"line":119,"column":6,"offset":3504},"end":{"line":119,"column":25,"offset":3523},"indent":[]}},{"type":"text","value":" object with additional configuration settings — refer to ","position":{"start":{"line":119,"column":25,"offset":3523},"end":{"line":119,"column":83,"offset":3581},"indent":[]}},{"type":"link","title":null,"url":"/bulk-redirects/reference/json-objects#bulk-redirect-rule","children":[{"type":"text","value":"API JSON objects: Bulk Redirect Rule","position":{"start":{"line":119,"column":84,"offset":3582},"end":{"line":119,"column":120,"offset":3618},"indent":[]}}],"position":{"start":{"line":119,"column":83,"offset":3581},"end":{"line":119,"column":180,"offset":3678},"indent":[]}},{"type":"text","value":" for details.","position":{"start":{"line":119,"column":180,"offset":3678},"end":{"line":119,"column":193,"offset":3691},"indent":[]}}],"position":{"start":{"line":119,"column":3,"offset":3501},"end":{"line":119,"column":193,"offset":3691},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":3499},"end":{"line":119,"column":193,"offset":3691},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":3470},"end":{"line":119,"column":193,"offset":3691},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The following request of the ","position":{"start":{"line":121,"column":1,"offset":3693},"end":{"line":121,"column":30,"offset":3722},"indent":[]}},{"type":"link","title":null,"url":"https://api.cloudflare.com/#account-rulesets-create-account-ruleset","children":[{"type":"text","value":"Create account ruleset","position":{"start":{"line":121,"column":31,"offset":3723},"end":{"line":121,"column":53,"offset":3745},"indent":[]}}],"position":{"start":{"line":121,"column":30,"offset":3722},"end":{"line":121,"column":123,"offset":3815},"indent":[]}},{"type":"text","value":" operation creates a phase entry point ruleset for the ","position":{"start":{"line":121,"column":123,"offset":3815},"end":{"line":121,"column":178,"offset":3870},"indent":[]}},{"type":"inlineCode","value":"http_request_redirect","position":{"start":{"line":121,"column":178,"offset":3870},"end":{"line":121,"column":201,"offset":3893},"indent":[]}},{"type":"text","value":" phase at the account level, and defines a single redirect rule. Use this operation if you have not created a phase entry point ruleset for the ","position":{"start":{"line":121,"column":201,"offset":3893},"end":{"line":121,"column":345,"offset":4037},"indent":[]}},{"type":"inlineCode","value":"http_request_redirect","position":{"start":{"line":121,"column":345,"offset":4037},"end":{"line":121,"column":368,"offset":4060},"indent":[]}},{"type":"text","value":" phase yet.","position":{"start":{"line":121,"column":368,"offset":4060},"end":{"line":121,"column":379,"offset":4071},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":3693},"end":{"line":121,"column":379,"offset":4071},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"curl -X POST \"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rulesets\" \\\n-H \"X-Auth-Key: <KEY>\" \\\n-H \"X-Auth-Email: <EMAIL>\" \\\n-d '{\n  \"name\": \"My redirect ruleset\",\n  \"kind\": \"root\",\n  \"phase\": \"http_request_redirect\",\n  \"rules\": [\n    {\n      \"expression\": \"http.request.full_uri in $my_redirect_list\",\n      \"description\": \"Bulk Redirect rule.\",\n      \"action\": \"redirect\",\n      \"action_parameters\": {\n        \"from_list\": {\n          \"name\": \"my_redirect_list\",\n          \"key\": \"http.request.full_uri\"\n        }\n      }\n    }\n  ]\n}'","position":{"start":{"line":123,"column":1,"offset":4073},"end":{"line":145,"column":4,"offset":4635},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The response will be similar to the following:","position":{"start":{"line":147,"column":1,"offset":4637},"end":{"line":147,"column":47,"offset":4683},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":4637},"end":{"line":147,"column":47,"offset":4683},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"result\": {\n    \"id\": \"528f4f03bf0da53a29907199625867be\",\n    \"name\": \"My redirect ruleset\",\n    \"kind\": \"root\",\n    \"version\": \"1\",\n    \"rules\": [\n      {\n        \"id\": \"8da312df846b4258a05bcd454ea943be\",\n        \"version\": \"1\",\n        \"expression\": \"http.request.full_uri in $my_redirect_list\",\n        \"description\": \"Bulk Redirect rule.\",\n        \"action\": \"redirect\",\n        \"action_parameters\": {\n          \"from_list\": {\n            \"name\": \"my_redirect_list\",\n            \"key\": \"http.request.full_uri\"\n          }\n        },\n        \"last_updated\": \"2021-10-28T09:20:42Z\",\n      }\n    ],\n    \"last_updated\": \"2021-10-28T09:20:42Z\",\n    \"phase\": \"http_request_transform\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}","position":{"start":{"line":149,"column":1,"offset":4685},"end":{"line":179,"column":4,"offset":5440},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If there is already a phase entry point ruleset for the ","position":{"start":{"line":181,"column":1,"offset":5442},"end":{"line":181,"column":57,"offset":5498},"indent":[]}},{"type":"inlineCode","value":"http_request_redirect","position":{"start":{"line":181,"column":57,"offset":5498},"end":{"line":181,"column":80,"offset":5521},"indent":[]}},{"type":"text","value":" phase, use the ","position":{"start":{"line":181,"column":80,"offset":5521},"end":{"line":181,"column":96,"offset":5537},"indent":[]}},{"type":"link","title":null,"url":"https://api.cloudflare.com/#account-rulesets-update-account-ruleset","children":[{"type":"text","value":"Update account ruleset","position":{"start":{"line":181,"column":97,"offset":5538},"end":{"line":181,"column":119,"offset":5560},"indent":[]}}],"position":{"start":{"line":181,"column":96,"offset":5537},"end":{"line":181,"column":189,"offset":5630},"indent":[]}},{"type":"text","value":" operation instead, like in the following example:","position":{"start":{"line":181,"column":189,"offset":5630},"end":{"line":181,"column":239,"offset":5680},"indent":[]}}],"position":{"start":{"line":181,"column":1,"offset":5442},"end":{"line":181,"column":239,"offset":5680},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"curl -X PUT \"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rulesets/<RULESET_ID>\" \\\n-H \"X-Auth-Key: <KEY>\" \\\n-H \"X-Auth-Email: <EMAIL>\" \\\n-d '{\n  \"name\": \"My redirect ruleset\",\n  \"kind\": \"root\",\n  \"phase\": \"http_request_redirect\",\n  \"rules\": [\n    {\n      \"expression\": \"http.request.full_uri in $my_redirect_list_2\",\n      \"description\": \"Bulk Redirect rule 1\",\n      \"action\": \"redirect\",\n      \"action_parameters\": {\n        \"from_list\": {\n          \"name\": \"my_redirect_list_1\",\n          \"key\": \"http.request.full_uri\"\n        }\n      }\n    },\n    {\n      \"expression\": \"http.request.full_uri in $my_redirect_list_2\",\n      \"description\": \"Bulk Redirect rule 2\",\n      \"action\": \"redirect\",\n      \"action_parameters\": {\n        \"from_list\": {\n          \"name\": \"my_redirect_list_2\",\n          \"key\": \"http.request.full_uri\"\n        }\n      }\n    }\n  ]\n}'","position":{"start":{"line":183,"column":1,"offset":5682},"end":{"line":216,"column":4,"offset":6566},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The response will be similar to the following:","position":{"start":{"line":218,"column":1,"offset":6568},"end":{"line":218,"column":47,"offset":6614},"indent":[]}}],"position":{"start":{"line":218,"column":1,"offset":6568},"end":{"line":218,"column":47,"offset":6614},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"result\": {\n    \"id\": \"67013aa153df4e5fbda92f92bc979331\",\n    \"name\": \"default\",\n    \"description\": \"\",\n    \"kind\": \"root\",\n    \"version\": \"2\",\n    \"rules\": [\n      {\n        \"id\": \"8be62ab2ef9a4a41af30c24ff8e73e41\",\n        \"version\": \"1\",\n        \"action\": \"redirect\",\n        \"action_parameters\": {\n          \"from_list\": {\n            \"name\": \"my_redirect_list_1\",\n            \"key\": \"http.request.full_uri\"\n          }\n        },\n        \"expression\": \"http.request.full_uri in $my_redirect_list_1\",\n        \"description\": \"Bulk Redirect rule 1\",\n        \"last_updated\": \"2021-12-03T15:38:51.658387Z\",\n        \"ref\": \"8be62ab2ef9a4a41af30c24ff8e73e41\",\n        \"enabled\": true\n      },\n      {\n        \"id\": \"97e38797fb2b4b22a4919800f1318a5c\",\n        \"version\": \"1\",\n        \"action\": \"redirect\",\n        \"action_parameters\": {\n          \"from_list\": {\n            \"name\": \"my_redirect_list_2\",\n            \"key\": \"http.request.full_uri\"\n          }\n        },\n        \"expression\": \"http.request.full_uri in $my_redirect_list_2\",\n        \"description\": \"Bulk Redirect rule 2\",\n        \"last_updated\": \"2021-12-03T15:38:51.658387Z\",\n        \"ref\": \"97e38797fb2b4b22a4919800f1318a5c\",\n        \"enabled\": true\n      }\n    ],\n    \"last_updated\": \"2021-12-03T15:38:51.658387Z\",\n    \"phase\": \"http_request_redirect\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}","position":{"start":{"line":220,"column":1,"offset":6616},"end":{"line":269,"column":4,"offset":8007},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {\"order\":6,\"pcx-content-type\":\"how-to\"}","position":{"start":{"line":272,"column":1,"offset":8010},"end":{"line":272,"column":68,"offset":8077},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":272,"column":68,"offset":8077}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"order\": 6,\n  \"pcx-content-type\": \"how-to\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"create-bulk-redirects-via-api\"\n  }, \"Create Bulk Redirects via API\"), mdx(\"p\", null, \"To create Bulk Redirects via API, you must:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Create a Bulk Redirect List via API.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Add items (URL Redirects) to the list created in step 1.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Create a Bulk Redirect Rule via API, which enables the list created in step 1.\")), mdx(\"h2\", {\n    \"id\": \"1-create-a-bulk-redirect-list-via-api\"\n  }, \"1. Create a Bulk Redirect List via API\"), mdx(\"p\", null, \"Use the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://api.cloudflare.com/#rules-lists-create-list\"\n  }, \"Create list\"), \" operation to create a new Bulk Redirect List. The list \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kind\"), \" must be \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"redirect\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"curl -X POST \\\\\\n\\\"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rules/lists\\\" \\\\\\n-H \\\"X-Auth-Email: <EMAIL>\\\" \\\\\\n-H \\\"X-Auth-Key: <KEY>\\\" \\\\\\n-d '{\\n  \\\"name\\\": \\\"my_redirect_list\\\",\\n  \\\"description\\\": \\\"My redirect list.\\\",\\n  \\\"kind\\\": \\\"redirect\\\"\\n}'\\n\")), mdx(\"p\", null, \"The response will be similar to the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"result\\\": {\\n    \\\"id\\\": \\\"f848b6ccb07647749411f504d6f88794\\\",\\n    \\\"name\\\": \\\"my_redirect_list\\\",\\n    \\\"description\\\": \\\"My redirect list.\\\",\\n    \\\"kind\\\": \\\"redirect\\\",\\n    \\\"num_items\\\": 0,\\n    \\\"num_referencing_filters\\\": 0,\\n    \\\"created_on\\\": \\\"2021-10-28T09:11:42Z\\\",\\n    \\\"modified_on\\\": \\\"2021-10-28T09:11:42Z\\\"\\n  },\\n  \\\"success\\\": true,\\n  \\\"errors\\\": [],\\n  \\\"messages\\\": []\\n}\\n\")), mdx(\"p\", null, \"For more information on list operations, refer to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/firewall/api/cf-lists\"\n  }, \"Rules Lists API\"), \" documentation.\"), mdx(\"h2\", {\n    \"id\": \"2-add-items-to-the-list\"\n  }, \"2. Add items to the list\"), mdx(\"p\", null, \"Use the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://api.cloudflare.com/#rules-lists-create-list-items\"\n  }, \"Create list items\"), \" operation to add URL Redirect items to the list:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"curl -X POST \\\\\\n\\\"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rules/lists/f848b6ccb07647749411f504d6f88794/items\\\" \\\\\\n-H \\\"X-Auth-Email: <EMAIL>\\\" \\\\\\n-H \\\"X-Auth-Key: <KEY>\\\" \\\\\\n-d '[\\n  {\\n    \\\"redirect\\\": {\\n      \\\"source_url\\\": \\\"example.com/blog/\\\",\\n      \\\"target_url\\\": \\\"https://example.com/blog/latest\\\"\\n    }\\n  },\\n  {\\n    \\\"redirect\\\": {\\n      \\\"source_url\\\": \\\"example.net/\\\",\\n      \\\"target_url\\\": \\\"https://example.net/under-construction.html\\\",\\n      \\\"status_code\\\": 307\\n    }\\n  }\\n]'\\n\")), mdx(\"p\", null, \"The response will be similar to the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"result\\\": {\\n    \\\"operation_id\\\": \\\"92558f8b296d4dbe9d0419e0e53f6622\\\"\\n  },\\n  \\\"success\\\": true,\\n  \\\"errors\\\": [],\\n  \\\"messages\\\": []\\n}\\n\")), mdx(\"p\", null, \"This is an asynchronous operation. The response will contain an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"operation_id\"), \" which you will use to check if the operation completed successfully using the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://api.cloudflare.com/#rules-lists-get-bulk-operation\"\n  }, \"Get bulk operation\"), \" method:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"curl \\\"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rules/lists/bulk_operations/92558f8b296d4dbe9d0419e0e53f6622\\\" \\\\\\n-H \\\"X-Auth-Email: <EMAIL>\\\" \\\\\\n-H \\\"X-Auth-Key: <KEY>\\\"\\n\")), mdx(\"p\", null, \"If the operation already completed successfully, the response will be similar to the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"result\\\": {\\n    \\\"id\\\": \\\"92558f8b296d4dbe9d0419e0e53f6622\\\",\\n    \\\"status\\\": \\\"completed\\\",\\n    \\\"completed\\\": \\\"2021-10-28T09:15:42Z\\\"\\n  },\\n  \\\"success\\\": true,\\n  \\\"errors\\\": [],\\n  \\\"messages\\\": []\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"3-create-a-bulk-redirect-rule-via-api\"\n  }, \"3. Create a Bulk Redirect Rule via API\"), mdx(\"p\", null, \"Since Bulk Redirect Lists are just containers of URL Redirects, you have to enable the URL Redirects in the list by creating a Bulk Redirect Rule.\"), mdx(\"p\", null, \"Add Bulk Redirect Rules to the ruleset entry point of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http_request_redirect\"), \" phase at the account level. Refer to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/rulesets-api\"\n  }, \"Rulesets API\"), \" documentation for more information on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/rulesets-api/create\"\n  }, \"creating a ruleset\"), \" and supplying a list of rules for the ruleset.\"), mdx(\"p\", null, \"A Bulk Redirect Rule must have:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"action\"), \" set to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"redirect\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"An \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"action_parameters\"), \" object with additional configuration settings \\u2014 refer to \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/bulk-redirects/reference/json-objects#bulk-redirect-rule\"\n  }, \"API JSON objects: Bulk Redirect Rule\"), \" for details.\")), mdx(\"p\", null, \"The following request of the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://api.cloudflare.com/#account-rulesets-create-account-ruleset\"\n  }, \"Create account ruleset\"), \" operation creates a phase entry point ruleset for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http_request_redirect\"), \" phase at the account level, and defines a single redirect rule. Use this operation if you have not created a phase entry point ruleset for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http_request_redirect\"), \" phase yet.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"curl -X POST \\\"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rulesets\\\" \\\\\\n-H \\\"X-Auth-Key: <KEY>\\\" \\\\\\n-H \\\"X-Auth-Email: <EMAIL>\\\" \\\\\\n-d '{\\n  \\\"name\\\": \\\"My redirect ruleset\\\",\\n  \\\"kind\\\": \\\"root\\\",\\n  \\\"phase\\\": \\\"http_request_redirect\\\",\\n  \\\"rules\\\": [\\n    {\\n      \\\"expression\\\": \\\"http.request.full_uri in $my_redirect_list\\\",\\n      \\\"description\\\": \\\"Bulk Redirect rule.\\\",\\n      \\\"action\\\": \\\"redirect\\\",\\n      \\\"action_parameters\\\": {\\n        \\\"from_list\\\": {\\n          \\\"name\\\": \\\"my_redirect_list\\\",\\n          \\\"key\\\": \\\"http.request.full_uri\\\"\\n        }\\n      }\\n    }\\n  ]\\n}'\\n\")), mdx(\"p\", null, \"The response will be similar to the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"result\\\": {\\n    \\\"id\\\": \\\"528f4f03bf0da53a29907199625867be\\\",\\n    \\\"name\\\": \\\"My redirect ruleset\\\",\\n    \\\"kind\\\": \\\"root\\\",\\n    \\\"version\\\": \\\"1\\\",\\n    \\\"rules\\\": [\\n      {\\n        \\\"id\\\": \\\"8da312df846b4258a05bcd454ea943be\\\",\\n        \\\"version\\\": \\\"1\\\",\\n        \\\"expression\\\": \\\"http.request.full_uri in $my_redirect_list\\\",\\n        \\\"description\\\": \\\"Bulk Redirect rule.\\\",\\n        \\\"action\\\": \\\"redirect\\\",\\n        \\\"action_parameters\\\": {\\n          \\\"from_list\\\": {\\n            \\\"name\\\": \\\"my_redirect_list\\\",\\n            \\\"key\\\": \\\"http.request.full_uri\\\"\\n          }\\n        },\\n        \\\"last_updated\\\": \\\"2021-10-28T09:20:42Z\\\",\\n      }\\n    ],\\n    \\\"last_updated\\\": \\\"2021-10-28T09:20:42Z\\\",\\n    \\\"phase\\\": \\\"http_request_transform\\\"\\n  },\\n  \\\"success\\\": true,\\n  \\\"errors\\\": [],\\n  \\\"messages\\\": []\\n}\\n\")), mdx(\"p\", null, \"If there is already a phase entry point ruleset for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http_request_redirect\"), \" phase, use the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://api.cloudflare.com/#account-rulesets-update-account-ruleset\"\n  }, \"Update account ruleset\"), \" operation instead, like in the following example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"curl -X PUT \\\"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rulesets/<RULESET_ID>\\\" \\\\\\n-H \\\"X-Auth-Key: <KEY>\\\" \\\\\\n-H \\\"X-Auth-Email: <EMAIL>\\\" \\\\\\n-d '{\\n  \\\"name\\\": \\\"My redirect ruleset\\\",\\n  \\\"kind\\\": \\\"root\\\",\\n  \\\"phase\\\": \\\"http_request_redirect\\\",\\n  \\\"rules\\\": [\\n    {\\n      \\\"expression\\\": \\\"http.request.full_uri in $my_redirect_list_2\\\",\\n      \\\"description\\\": \\\"Bulk Redirect rule 1\\\",\\n      \\\"action\\\": \\\"redirect\\\",\\n      \\\"action_parameters\\\": {\\n        \\\"from_list\\\": {\\n          \\\"name\\\": \\\"my_redirect_list_1\\\",\\n          \\\"key\\\": \\\"http.request.full_uri\\\"\\n        }\\n      }\\n    },\\n    {\\n      \\\"expression\\\": \\\"http.request.full_uri in $my_redirect_list_2\\\",\\n      \\\"description\\\": \\\"Bulk Redirect rule 2\\\",\\n      \\\"action\\\": \\\"redirect\\\",\\n      \\\"action_parameters\\\": {\\n        \\\"from_list\\\": {\\n          \\\"name\\\": \\\"my_redirect_list_2\\\",\\n          \\\"key\\\": \\\"http.request.full_uri\\\"\\n        }\\n      }\\n    }\\n  ]\\n}'\\n\")), mdx(\"p\", null, \"The response will be similar to the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"result\\\": {\\n    \\\"id\\\": \\\"67013aa153df4e5fbda92f92bc979331\\\",\\n    \\\"name\\\": \\\"default\\\",\\n    \\\"description\\\": \\\"\\\",\\n    \\\"kind\\\": \\\"root\\\",\\n    \\\"version\\\": \\\"2\\\",\\n    \\\"rules\\\": [\\n      {\\n        \\\"id\\\": \\\"8be62ab2ef9a4a41af30c24ff8e73e41\\\",\\n        \\\"version\\\": \\\"1\\\",\\n        \\\"action\\\": \\\"redirect\\\",\\n        \\\"action_parameters\\\": {\\n          \\\"from_list\\\": {\\n            \\\"name\\\": \\\"my_redirect_list_1\\\",\\n            \\\"key\\\": \\\"http.request.full_uri\\\"\\n          }\\n        },\\n        \\\"expression\\\": \\\"http.request.full_uri in $my_redirect_list_1\\\",\\n        \\\"description\\\": \\\"Bulk Redirect rule 1\\\",\\n        \\\"last_updated\\\": \\\"2021-12-03T15:38:51.658387Z\\\",\\n        \\\"ref\\\": \\\"8be62ab2ef9a4a41af30c24ff8e73e41\\\",\\n        \\\"enabled\\\": true\\n      },\\n      {\\n        \\\"id\\\": \\\"97e38797fb2b4b22a4919800f1318a5c\\\",\\n        \\\"version\\\": \\\"1\\\",\\n        \\\"action\\\": \\\"redirect\\\",\\n        \\\"action_parameters\\\": {\\n          \\\"from_list\\\": {\\n            \\\"name\\\": \\\"my_redirect_list_2\\\",\\n            \\\"key\\\": \\\"http.request.full_uri\\\"\\n          }\\n        },\\n        \\\"expression\\\": \\\"http.request.full_uri in $my_redirect_list_2\\\",\\n        \\\"description\\\": \\\"Bulk Redirect rule 2\\\",\\n        \\\"last_updated\\\": \\\"2021-12-03T15:38:51.658387Z\\\",\\n        \\\"ref\\\": \\\"97e38797fb2b4b22a4919800f1318a5c\\\",\\n        \\\"enabled\\\": true\\n      }\\n    ],\\n    \\\"last_updated\\\": \\\"2021-12-03T15:38:51.658387Z\\\",\\n    \\\"phase\\\": \\\"http_request_redirect\\\"\\n  },\\n  \\\"success\\\": true,\\n  \\\"errors\\\": [],\\n  \\\"messages\\\": []\\n}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"order\": 6,\n  \"pcx-content-type\": \"how-to\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"create-bulk-redirects-via-api\"\n    }}>{`Create Bulk Redirects via API`}</h1>\n    <p>{`To create Bulk Redirects via API, you must:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Create a Bulk Redirect List via API.`}</li>\n      <li parentName=\"ol\">{`Add items (URL Redirects) to the list created in step 1.`}</li>\n      <li parentName=\"ol\">{`Create a Bulk Redirect Rule via API, which enables the list created in step 1.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"1-create-a-bulk-redirect-list-via-api\"\n    }}>{`1. Create a Bulk Redirect List via API`}</h2>\n    <p>{`Use the `}<a parentName=\"p\" {...{\n        \"href\": \"https://api.cloudflare.com/#rules-lists-create-list\"\n      }}>{`Create list`}</a>{` operation to create a new Bulk Redirect List. The list `}<inlineCode parentName=\"p\">{`kind`}</inlineCode>{` must be `}<inlineCode parentName=\"p\">{`redirect`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`curl -X POST \\\\\n\"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rules/lists\" \\\\\n-H \"X-Auth-Email: <EMAIL>\" \\\\\n-H \"X-Auth-Key: <KEY>\" \\\\\n-d '{\n  \"name\": \"my_redirect_list\",\n  \"description\": \"My redirect list.\",\n  \"kind\": \"redirect\"\n}'\n`}</code></pre>\n    <p>{`The response will be similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"result\": {\n    \"id\": \"f848b6ccb07647749411f504d6f88794\",\n    \"name\": \"my_redirect_list\",\n    \"description\": \"My redirect list.\",\n    \"kind\": \"redirect\",\n    \"num_items\": 0,\n    \"num_referencing_filters\": 0,\n    \"created_on\": \"2021-10-28T09:11:42Z\",\n    \"modified_on\": \"2021-10-28T09:11:42Z\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\n`}</code></pre>\n    <p>{`For more information on list operations, refer to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.cloudflare.com/firewall/api/cf-lists\"\n      }}>{`Rules Lists API`}</a>{` documentation.`}</p>\n    <h2 {...{\n      \"id\": \"2-add-items-to-the-list\"\n    }}>{`2. Add items to the list`}</h2>\n    <p>{`Use the `}<a parentName=\"p\" {...{\n        \"href\": \"https://api.cloudflare.com/#rules-lists-create-list-items\"\n      }}>{`Create list items`}</a>{` operation to add URL Redirect items to the list:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`curl -X POST \\\\\n\"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rules/lists/f848b6ccb07647749411f504d6f88794/items\" \\\\\n-H \"X-Auth-Email: <EMAIL>\" \\\\\n-H \"X-Auth-Key: <KEY>\" \\\\\n-d '[\n  {\n    \"redirect\": {\n      \"source_url\": \"example.com/blog/\",\n      \"target_url\": \"https://example.com/blog/latest\"\n    }\n  },\n  {\n    \"redirect\": {\n      \"source_url\": \"example.net/\",\n      \"target_url\": \"https://example.net/under-construction.html\",\n      \"status_code\": 307\n    }\n  }\n]'\n`}</code></pre>\n    <p>{`The response will be similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"result\": {\n    \"operation_id\": \"92558f8b296d4dbe9d0419e0e53f6622\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\n`}</code></pre>\n    <p>{`This is an asynchronous operation. The response will contain an `}<inlineCode parentName=\"p\">{`operation_id`}</inlineCode>{` which you will use to check if the operation completed successfully using the `}<a parentName=\"p\" {...{\n        \"href\": \"https://api.cloudflare.com/#rules-lists-get-bulk-operation\"\n      }}>{`Get bulk operation`}</a>{` method:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`curl \"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rules/lists/bulk_operations/92558f8b296d4dbe9d0419e0e53f6622\" \\\\\n-H \"X-Auth-Email: <EMAIL>\" \\\\\n-H \"X-Auth-Key: <KEY>\"\n`}</code></pre>\n    <p>{`If the operation already completed successfully, the response will be similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"result\": {\n    \"id\": \"92558f8b296d4dbe9d0419e0e53f6622\",\n    \"status\": \"completed\",\n    \"completed\": \"2021-10-28T09:15:42Z\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"3-create-a-bulk-redirect-rule-via-api\"\n    }}>{`3. Create a Bulk Redirect Rule via API`}</h2>\n    <p>{`Since Bulk Redirect Lists are just containers of URL Redirects, you have to enable the URL Redirects in the list by creating a Bulk Redirect Rule.`}</p>\n    <p>{`Add Bulk Redirect Rules to the ruleset entry point of the `}<inlineCode parentName=\"p\">{`http_request_redirect`}</inlineCode>{` phase at the account level. Refer to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.cloudflare.com/ruleset-engine/rulesets-api\"\n      }}>{`Rulesets API`}</a>{` documentation for more information on `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.cloudflare.com/ruleset-engine/rulesets-api/create\"\n      }}>{`creating a ruleset`}</a>{` and supplying a list of rules for the ruleset.`}</p>\n    <p>{`A Bulk Redirect Rule must have:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`action`}</inlineCode>{` set to `}<inlineCode parentName=\"li\">{`redirect`}</inlineCode></li>\n      <li parentName=\"ul\">{`An `}<inlineCode parentName=\"li\">{`action_parameters`}</inlineCode>{` object with additional configuration settings — refer to `}<a parentName=\"li\" {...{\n          \"href\": \"/bulk-redirects/reference/json-objects#bulk-redirect-rule\"\n        }}>{`API JSON objects: Bulk Redirect Rule`}</a>{` for details.`}</li>\n    </ul>\n    <p>{`The following request of the `}<a parentName=\"p\" {...{\n        \"href\": \"https://api.cloudflare.com/#account-rulesets-create-account-ruleset\"\n      }}>{`Create account ruleset`}</a>{` operation creates a phase entry point ruleset for the `}<inlineCode parentName=\"p\">{`http_request_redirect`}</inlineCode>{` phase at the account level, and defines a single redirect rule. Use this operation if you have not created a phase entry point ruleset for the `}<inlineCode parentName=\"p\">{`http_request_redirect`}</inlineCode>{` phase yet.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`curl -X POST \"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rulesets\" \\\\\n-H \"X-Auth-Key: <KEY>\" \\\\\n-H \"X-Auth-Email: <EMAIL>\" \\\\\n-d '{\n  \"name\": \"My redirect ruleset\",\n  \"kind\": \"root\",\n  \"phase\": \"http_request_redirect\",\n  \"rules\": [\n    {\n      \"expression\": \"http.request.full_uri in $my_redirect_list\",\n      \"description\": \"Bulk Redirect rule.\",\n      \"action\": \"redirect\",\n      \"action_parameters\": {\n        \"from_list\": {\n          \"name\": \"my_redirect_list\",\n          \"key\": \"http.request.full_uri\"\n        }\n      }\n    }\n  ]\n}'\n`}</code></pre>\n    <p>{`The response will be similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"result\": {\n    \"id\": \"528f4f03bf0da53a29907199625867be\",\n    \"name\": \"My redirect ruleset\",\n    \"kind\": \"root\",\n    \"version\": \"1\",\n    \"rules\": [\n      {\n        \"id\": \"8da312df846b4258a05bcd454ea943be\",\n        \"version\": \"1\",\n        \"expression\": \"http.request.full_uri in $my_redirect_list\",\n        \"description\": \"Bulk Redirect rule.\",\n        \"action\": \"redirect\",\n        \"action_parameters\": {\n          \"from_list\": {\n            \"name\": \"my_redirect_list\",\n            \"key\": \"http.request.full_uri\"\n          }\n        },\n        \"last_updated\": \"2021-10-28T09:20:42Z\",\n      }\n    ],\n    \"last_updated\": \"2021-10-28T09:20:42Z\",\n    \"phase\": \"http_request_transform\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\n`}</code></pre>\n    <p>{`If there is already a phase entry point ruleset for the `}<inlineCode parentName=\"p\">{`http_request_redirect`}</inlineCode>{` phase, use the `}<a parentName=\"p\" {...{\n        \"href\": \"https://api.cloudflare.com/#account-rulesets-update-account-ruleset\"\n      }}>{`Update account ruleset`}</a>{` operation instead, like in the following example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`curl -X PUT \"https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/rulesets/<RULESET_ID>\" \\\\\n-H \"X-Auth-Key: <KEY>\" \\\\\n-H \"X-Auth-Email: <EMAIL>\" \\\\\n-d '{\n  \"name\": \"My redirect ruleset\",\n  \"kind\": \"root\",\n  \"phase\": \"http_request_redirect\",\n  \"rules\": [\n    {\n      \"expression\": \"http.request.full_uri in $my_redirect_list_2\",\n      \"description\": \"Bulk Redirect rule 1\",\n      \"action\": \"redirect\",\n      \"action_parameters\": {\n        \"from_list\": {\n          \"name\": \"my_redirect_list_1\",\n          \"key\": \"http.request.full_uri\"\n        }\n      }\n    },\n    {\n      \"expression\": \"http.request.full_uri in $my_redirect_list_2\",\n      \"description\": \"Bulk Redirect rule 2\",\n      \"action\": \"redirect\",\n      \"action_parameters\": {\n        \"from_list\": {\n          \"name\": \"my_redirect_list_2\",\n          \"key\": \"http.request.full_uri\"\n        }\n      }\n    }\n  ]\n}'\n`}</code></pre>\n    <p>{`The response will be similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"result\": {\n    \"id\": \"67013aa153df4e5fbda92f92bc979331\",\n    \"name\": \"default\",\n    \"description\": \"\",\n    \"kind\": \"root\",\n    \"version\": \"2\",\n    \"rules\": [\n      {\n        \"id\": \"8be62ab2ef9a4a41af30c24ff8e73e41\",\n        \"version\": \"1\",\n        \"action\": \"redirect\",\n        \"action_parameters\": {\n          \"from_list\": {\n            \"name\": \"my_redirect_list_1\",\n            \"key\": \"http.request.full_uri\"\n          }\n        },\n        \"expression\": \"http.request.full_uri in $my_redirect_list_1\",\n        \"description\": \"Bulk Redirect rule 1\",\n        \"last_updated\": \"2021-12-03T15:38:51.658387Z\",\n        \"ref\": \"8be62ab2ef9a4a41af30c24ff8e73e41\",\n        \"enabled\": true\n      },\n      {\n        \"id\": \"97e38797fb2b4b22a4919800f1318a5c\",\n        \"version\": \"1\",\n        \"action\": \"redirect\",\n        \"action_parameters\": {\n          \"from_list\": {\n            \"name\": \"my_redirect_list_2\",\n            \"key\": \"http.request.full_uri\"\n          }\n        },\n        \"expression\": \"http.request.full_uri in $my_redirect_list_2\",\n        \"description\": \"Bulk Redirect rule 2\",\n        \"last_updated\": \"2021-12-03T15:38:51.658387Z\",\n        \"ref\": \"97e38797fb2b4b22a4919800f1318a5c\",\n        \"enabled\": true\n      }\n    ],\n    \"last_updated\": \"2021-12-03T15:38:51.658387Z\",\n    \"phase\": \"http_request_redirect\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}