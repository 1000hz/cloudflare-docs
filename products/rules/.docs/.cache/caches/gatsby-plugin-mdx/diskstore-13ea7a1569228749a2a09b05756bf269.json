{"expireTime":9007200897961983000,"key":"gatsby-plugin-mdx-entire-payload-27bc565cbfd2049c1bd5dd28c90bb8f3-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"URL rewrite examples","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":23,"offset":23},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":23,"offset":23},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following examples illustrate how to perform URL rewrites with Transform Rules:","position":{"start":{"line":4,"column":1,"offset":25},"end":{"line":4,"column":84,"offset":108},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":25},"end":{"line":4,"column":84,"offset":108},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#rewrite-path-of-welcome-page-for-visitors-in-specific-countries","children":[{"type":"text","value":"Rewrite path of welcome page for visitors in specific countries","position":{"start":{"line":6,"column":4,"offset":113},"end":{"line":6,"column":67,"offset":176},"indent":[]}}],"position":{"start":{"line":6,"column":3,"offset":112},"end":{"line":6,"column":134,"offset":243},"indent":[]}}],"position":{"start":{"line":6,"column":3,"offset":112},"end":{"line":6,"column":134,"offset":243},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":110},"end":{"line":6,"column":134,"offset":243},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#rewrite-url-query-string-of-blog-visitors","children":[{"type":"text","value":"Rewrite URL query string of blog visitors","position":{"start":{"line":7,"column":4,"offset":247},"end":{"line":7,"column":45,"offset":288},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":246},"end":{"line":7,"column":90,"offset":333},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":246},"end":{"line":7,"column":90,"offset":333},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":244},"end":{"line":7,"column":90,"offset":333},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#rewrite-path-of-archived-blog-posts","children":[{"type":"text","value":"Rewrite path of archived blog posts","position":{"start":{"line":8,"column":4,"offset":337},"end":{"line":8,"column":39,"offset":372},"indent":[]}}],"position":{"start":{"line":8,"column":3,"offset":336},"end":{"line":8,"column":78,"offset":411},"indent":[]}}],"position":{"start":{"line":8,"column":3,"offset":336},"end":{"line":8,"column":78,"offset":411},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":334},"end":{"line":8,"column":78,"offset":411},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#rewrite-path-of-moved-section-of-a-website","children":[{"type":"text","value":"Rewrite path of moved section of a website","position":{"start":{"line":9,"column":4,"offset":415},"end":{"line":9,"column":46,"offset":457},"indent":[]}}],"position":{"start":{"line":9,"column":3,"offset":414},"end":{"line":9,"column":92,"offset":503},"indent":[]}}],"position":{"start":{"line":9,"column":3,"offset":414},"end":{"line":9,"column":92,"offset":503},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":412},"end":{"line":9,"column":92,"offset":503},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#rewrite-path-with-several-url-segments-to-a-different-url-segment","children":[{"type":"text","value":"Rewrite path with several URL segments to a different URL segment","position":{"start":{"line":10,"column":4,"offset":507},"end":{"line":10,"column":69,"offset":572},"indent":[]}}],"position":{"start":{"line":10,"column":3,"offset":506},"end":{"line":10,"column":138,"offset":641},"indent":[]}}],"position":{"start":{"line":10,"column":3,"offset":506},"end":{"line":10,"column":138,"offset":641},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":504},"end":{"line":10,"column":138,"offset":641},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#rewrite-blog-archive-urls-to-support-a-new-url-format","children":[{"type":"text","value":"Rewrite blog archive URLs to support a new URL format","position":{"start":{"line":11,"column":4,"offset":645},"end":{"line":11,"column":57,"offset":698},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":644},"end":{"line":11,"column":114,"offset":755},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":644},"end":{"line":11,"column":114,"offset":755},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":642},"end":{"line":11,"column":114,"offset":755},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":110},"end":{"line":11,"column":114,"offset":755},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Rewrite path of welcome page for visitors in specific countries","position":{"start":{"line":13,"column":5,"offset":761},"end":{"line":13,"column":68,"offset":824},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":757},"end":{"line":13,"column":68,"offset":824},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To have a welcome page in two languages, create two URL Rewrite Rules with a static rewrite of the path component:","position":{"start":{"line":15,"column":1,"offset":826},"end":{"line":15,"column":115,"offset":940},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":826},"end":{"line":15,"column":115,"offset":940},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"URL Rewrite Rule #1","position":{"start":{"line":17,"column":3,"offset":944},"end":{"line":17,"column":22,"offset":963},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":942},"end":{"line":17,"column":24,"offset":965},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":942},"end":{"line":17,"column":24,"offset":965},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":19,"column":1,"offset":967},"end":{"line":19,"column":10,"offset":976},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Text in ","position":{"start":{"line":21,"column":1,"offset":978},"end":{"line":21,"column":9,"offset":986},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Expression Editor","position":{"start":{"line":21,"column":11,"offset":988},"end":{"line":21,"column":28,"offset":1005},"indent":[]}}],"position":{"start":{"line":21,"column":9,"offset":986},"end":{"line":21,"column":30,"offset":1007},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":21,"column":30,"offset":1007},"end":{"line":21,"column":31,"offset":1008},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":978},"end":{"line":21,"column":31,"offset":1008},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"http.request.uri.path == \"/welcome.html\" && ip.geoip.country == \"GB\"","position":{"start":{"line":23,"column":1,"offset":1010},"end":{"line":25,"column":4,"offset":1089},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Text after ","position":{"start":{"line":27,"column":1,"offset":1091},"end":{"line":27,"column":12,"offset":1102},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Path","position":{"start":{"line":27,"column":14,"offset":1104},"end":{"line":27,"column":18,"offset":1108},"indent":[]}}],"position":{"start":{"line":27,"column":12,"offset":1102},"end":{"line":27,"column":20,"offset":1110},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":27,"column":20,"offset":1110},"end":{"line":27,"column":23,"offset":1113},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rewrite to...","position":{"start":{"line":27,"column":25,"offset":1115},"end":{"line":27,"column":38,"offset":1128},"indent":[]}}],"position":{"start":{"line":27,"column":23,"offset":1113},"end":{"line":27,"column":40,"offset":1130},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":27,"column":40,"offset":1130},"end":{"line":27,"column":43,"offset":1133},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Static","position":{"start":{"line":27,"column":44,"offset":1134},"end":{"line":27,"column":50,"offset":1140},"indent":[]}}],"position":{"start":{"line":27,"column":43,"offset":1133},"end":{"line":27,"column":51,"offset":1141},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":27,"column":51,"offset":1141},"end":{"line":27,"column":52,"offset":1142},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1091},"end":{"line":27,"column":52,"offset":1142},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"/welcome-gb.html","position":{"start":{"line":29,"column":1,"offset":1144},"end":{"line":31,"column":4,"offset":1171},"indent":[1,1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":33,"column":1,"offset":1173},"end":{"line":33,"column":11,"offset":1183},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"URL Rewrite Rule #2","position":{"start":{"line":35,"column":3,"offset":1187},"end":{"line":35,"column":22,"offset":1206},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1185},"end":{"line":35,"column":24,"offset":1208},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1185},"end":{"line":35,"column":24,"offset":1208},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":37,"column":1,"offset":1210},"end":{"line":37,"column":10,"offset":1219},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Text in ","position":{"start":{"line":39,"column":1,"offset":1221},"end":{"line":39,"column":9,"offset":1229},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Expression Editor","position":{"start":{"line":39,"column":11,"offset":1231},"end":{"line":39,"column":28,"offset":1248},"indent":[]}}],"position":{"start":{"line":39,"column":9,"offset":1229},"end":{"line":39,"column":30,"offset":1250},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":39,"column":30,"offset":1250},"end":{"line":39,"column":31,"offset":1251},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1221},"end":{"line":39,"column":31,"offset":1251},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"http.request.uri.path == \"/welcome.html\" && ip.geoip.country == \"PT\"","position":{"start":{"line":41,"column":1,"offset":1253},"end":{"line":43,"column":4,"offset":1332},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Text after ","position":{"start":{"line":45,"column":1,"offset":1334},"end":{"line":45,"column":12,"offset":1345},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Path","position":{"start":{"line":45,"column":14,"offset":1347},"end":{"line":45,"column":18,"offset":1351},"indent":[]}}],"position":{"start":{"line":45,"column":12,"offset":1345},"end":{"line":45,"column":20,"offset":1353},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":45,"column":20,"offset":1353},"end":{"line":45,"column":23,"offset":1356},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rewrite to...","position":{"start":{"line":45,"column":25,"offset":1358},"end":{"line":45,"column":38,"offset":1371},"indent":[]}}],"position":{"start":{"line":45,"column":23,"offset":1356},"end":{"line":45,"column":40,"offset":1373},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":45,"column":40,"offset":1373},"end":{"line":45,"column":43,"offset":1376},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Static","position":{"start":{"line":45,"column":44,"offset":1377},"end":{"line":45,"column":50,"offset":1383},"indent":[]}}],"position":{"start":{"line":45,"column":43,"offset":1376},"end":{"line":45,"column":51,"offset":1384},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":45,"column":51,"offset":1384},"end":{"line":45,"column":52,"offset":1385},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":1334},"end":{"line":45,"column":52,"offset":1385},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"/welcome-pt.html","position":{"start":{"line":47,"column":1,"offset":1387},"end":{"line":49,"column":4,"offset":1414},"indent":[1,1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":51,"column":1,"offset":1416},"end":{"line":51,"column":11,"offset":1426},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Rewrite URL query string of blog visitors","position":{"start":{"line":53,"column":5,"offset":1432},"end":{"line":53,"column":46,"offset":1473},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1428},"end":{"line":53,"column":46,"offset":1473},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To rewrite a request to the ","position":{"start":{"line":55,"column":1,"offset":1475},"end":{"line":55,"column":29,"offset":1503},"indent":[]}},{"type":"inlineCode","value":"/blog","position":{"start":{"line":55,"column":29,"offset":1503},"end":{"line":55,"column":36,"offset":1510},"indent":[]}},{"type":"text","value":" path to ","position":{"start":{"line":55,"column":36,"offset":1510},"end":{"line":55,"column":45,"offset":1519},"indent":[]}},{"type":"inlineCode","value":"/blog?sort-by=date","position":{"start":{"line":55,"column":45,"offset":1519},"end":{"line":55,"column":65,"offset":1539},"indent":[]}},{"type":"text","value":", create a URL Rewrite Rule with the following settings:","position":{"start":{"line":55,"column":65,"offset":1539},"end":{"line":55,"column":121,"offset":1595},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":1475},"end":{"line":55,"column":121,"offset":1595},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":57,"column":1,"offset":1597},"end":{"line":57,"column":10,"offset":1606},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Text in ","position":{"start":{"line":59,"column":1,"offset":1608},"end":{"line":59,"column":9,"offset":1616},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Expression Editor","position":{"start":{"line":59,"column":11,"offset":1618},"end":{"line":59,"column":28,"offset":1635},"indent":[]}}],"position":{"start":{"line":59,"column":9,"offset":1616},"end":{"line":59,"column":30,"offset":1637},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":59,"column":30,"offset":1637},"end":{"line":59,"column":31,"offset":1638},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":1608},"end":{"line":59,"column":31,"offset":1638},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"http.request.uri.path == \"/blog\"","position":{"start":{"line":61,"column":1,"offset":1640},"end":{"line":63,"column":4,"offset":1683},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Text after ","position":{"start":{"line":65,"column":1,"offset":1685},"end":{"line":65,"column":12,"offset":1696},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Query","position":{"start":{"line":65,"column":14,"offset":1698},"end":{"line":65,"column":19,"offset":1703},"indent":[]}}],"position":{"start":{"line":65,"column":12,"offset":1696},"end":{"line":65,"column":21,"offset":1705},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":65,"column":21,"offset":1705},"end":{"line":65,"column":24,"offset":1708},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rewrite to...","position":{"start":{"line":65,"column":26,"offset":1710},"end":{"line":65,"column":39,"offset":1723},"indent":[]}}],"position":{"start":{"line":65,"column":24,"offset":1708},"end":{"line":65,"column":41,"offset":1725},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":65,"column":41,"offset":1725},"end":{"line":65,"column":44,"offset":1728},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Static","position":{"start":{"line":65,"column":45,"offset":1729},"end":{"line":65,"column":51,"offset":1735},"indent":[]}}],"position":{"start":{"line":65,"column":44,"offset":1728},"end":{"line":65,"column":52,"offset":1736},"indent":[]}},{"type":"text","value":": ","position":{"start":{"line":65,"column":52,"offset":1736},"end":{"line":65,"column":54,"offset":1738},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":1685},"end":{"line":65,"column":54,"offset":1738},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"sort-by=date","position":{"start":{"line":67,"column":1,"offset":1740},"end":{"line":69,"column":4,"offset":1763},"indent":[1,1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":71,"column":1,"offset":1765},"end":{"line":71,"column":11,"offset":1775},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Additionally, set the path rewrite action of the same rule to ","position":{"start":{"line":73,"column":1,"offset":1777},"end":{"line":73,"column":63,"offset":1839},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Preserve","position":{"start":{"line":73,"column":64,"offset":1840},"end":{"line":73,"column":72,"offset":1848},"indent":[]}}],"position":{"start":{"line":73,"column":63,"offset":1839},"end":{"line":73,"column":73,"offset":1849},"indent":[]}},{"type":"text","value":" so that the URL path does not change.","position":{"start":{"line":73,"column":73,"offset":1849},"end":{"line":73,"column":111,"offset":1887},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":1777},"end":{"line":73,"column":111,"offset":1887},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../../images/transform/use-case-blog.png","alt":"Rule configuration for query rewrite in the blog example","position":{"start":{"line":75,"column":1,"offset":1889},"end":{"line":75,"column":102,"offset":1990},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":1889},"end":{"line":75,"column":102,"offset":1990},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Rewrite path of archived blog posts","position":{"start":{"line":77,"column":5,"offset":1996},"end":{"line":77,"column":40,"offset":2031},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":1992},"end":{"line":77,"column":40,"offset":2031},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To rewrite all requests to ","position":{"start":{"line":79,"column":1,"offset":2033},"end":{"line":79,"column":28,"offset":2060},"indent":[]}},{"type":"inlineCode","value":"/news/2012/...","position":{"start":{"line":79,"column":28,"offset":2060},"end":{"line":79,"column":44,"offset":2076},"indent":[]}},{"type":"text","value":" to ","position":{"start":{"line":79,"column":44,"offset":2076},"end":{"line":79,"column":48,"offset":2080},"indent":[]}},{"type":"inlineCode","value":"/archive/news/2012/...","position":{"start":{"line":79,"column":48,"offset":2080},"end":{"line":79,"column":72,"offset":2104},"indent":[]}},{"type":"text","value":" you must add a reference to the content of the original URL. Create a new URL Rewrite Rule and define a dynamic URL path rewrite using an expression:","position":{"start":{"line":79,"column":72,"offset":2104},"end":{"line":79,"column":222,"offset":2254},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":2033},"end":{"line":79,"column":222,"offset":2254},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":81,"column":1,"offset":2256},"end":{"line":81,"column":10,"offset":2265},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Text in ","position":{"start":{"line":83,"column":1,"offset":2267},"end":{"line":83,"column":9,"offset":2275},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Expression Editor","position":{"start":{"line":83,"column":11,"offset":2277},"end":{"line":83,"column":28,"offset":2294},"indent":[]}}],"position":{"start":{"line":83,"column":9,"offset":2275},"end":{"line":83,"column":30,"offset":2296},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":83,"column":30,"offset":2296},"end":{"line":83,"column":31,"offset":2297},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":2267},"end":{"line":83,"column":31,"offset":2297},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"starts_with(http.request.uri.path, \"/news/2012/\")","position":{"start":{"line":85,"column":1,"offset":2299},"end":{"line":87,"column":4,"offset":2359},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Text after ","position":{"start":{"line":89,"column":1,"offset":2361},"end":{"line":89,"column":12,"offset":2372},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Path","position":{"start":{"line":89,"column":14,"offset":2374},"end":{"line":89,"column":18,"offset":2378},"indent":[]}}],"position":{"start":{"line":89,"column":12,"offset":2372},"end":{"line":89,"column":20,"offset":2380},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":89,"column":20,"offset":2380},"end":{"line":89,"column":23,"offset":2383},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rewrite to...","position":{"start":{"line":89,"column":25,"offset":2385},"end":{"line":89,"column":38,"offset":2398},"indent":[]}}],"position":{"start":{"line":89,"column":23,"offset":2383},"end":{"line":89,"column":40,"offset":2400},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":89,"column":40,"offset":2400},"end":{"line":89,"column":43,"offset":2403},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Dynamic","position":{"start":{"line":89,"column":44,"offset":2404},"end":{"line":89,"column":51,"offset":2411},"indent":[]}}],"position":{"start":{"line":89,"column":43,"offset":2403},"end":{"line":89,"column":52,"offset":2412},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":89,"column":52,"offset":2412},"end":{"line":89,"column":53,"offset":2413},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":2361},"end":{"line":89,"column":53,"offset":2413},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"concat(\"/archive\", http.request.uri.path)","position":{"start":{"line":91,"column":1,"offset":2415},"end":{"line":93,"column":4,"offset":2467},"indent":[1,1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":95,"column":1,"offset":2469},"end":{"line":95,"column":11,"offset":2479},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The filter uses the ","position":{"start":{"line":97,"column":1,"offset":2481},"end":{"line":97,"column":21,"offset":2501},"indent":[]}},{"type":"inlineCode","value":"starts_with()","position":{"start":{"line":97,"column":21,"offset":2501},"end":{"line":97,"column":36,"offset":2516},"indent":[]}},{"type":"text","value":" function all paths starting with ","position":{"start":{"line":97,"column":36,"offset":2516},"end":{"line":97,"column":70,"offset":2550},"indent":[]}},{"type":"inlineCode","value":"/news/2012/","position":{"start":{"line":97,"column":70,"offset":2550},"end":{"line":97,"column":83,"offset":2563},"indent":[]}},{"type":"text","value":". The dynamic path rewrite uses the ","position":{"start":{"line":97,"column":83,"offset":2563},"end":{"line":97,"column":119,"offset":2599},"indent":[]}},{"type":"inlineCode","value":"concat()","position":{"start":{"line":97,"column":119,"offset":2599},"end":{"line":97,"column":129,"offset":2609},"indent":[]}},{"type":"text","value":" function to concatenate a prefix to the original URL path of the HTTP request.","position":{"start":{"line":97,"column":129,"offset":2609},"end":{"line":97,"column":208,"offset":2688},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":2481},"end":{"line":97,"column":208,"offset":2688},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Rewrite path of moved section of a website","position":{"start":{"line":99,"column":5,"offset":2694},"end":{"line":99,"column":47,"offset":2736},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":2690},"end":{"line":99,"column":47,"offset":2736},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To rewrite everything under ","position":{"start":{"line":101,"column":1,"offset":2738},"end":{"line":101,"column":29,"offset":2766},"indent":[]}},{"type":"inlineCode","value":"/blog/<x>","position":{"start":{"line":101,"column":29,"offset":2766},"end":{"line":101,"column":40,"offset":2777},"indent":[]}},{"type":"text","value":" to ","position":{"start":{"line":101,"column":40,"offset":2777},"end":{"line":101,"column":44,"offset":2781},"indent":[]}},{"type":"inlineCode","value":"/marketing/<x>","position":{"start":{"line":101,"column":44,"offset":2781},"end":{"line":101,"column":60,"offset":2797},"indent":[]}},{"type":"text","value":" you must modify the first component of the path (","position":{"start":{"line":101,"column":60,"offset":2797},"end":{"line":101,"column":110,"offset":2847},"indent":[]}},{"type":"inlineCode","value":"/blog/","position":{"start":{"line":101,"column":110,"offset":2847},"end":{"line":101,"column":118,"offset":2855},"indent":[]}},{"type":"text","value":"). Create a URL Rewrite Rule and use the ","position":{"start":{"line":101,"column":118,"offset":2855},"end":{"line":101,"column":159,"offset":2896},"indent":[]}},{"type":"inlineCode","value":"regex_replace()","position":{"start":{"line":101,"column":159,"offset":2896},"end":{"line":101,"column":176,"offset":2913},"indent":[]}},{"type":"text","value":" function for this purpose:","position":{"start":{"line":101,"column":176,"offset":2913},"end":{"line":101,"column":203,"offset":2940},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":2738},"end":{"line":101,"column":203,"offset":2940},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":103,"column":1,"offset":2942},"end":{"line":103,"column":10,"offset":2951},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Text in ","position":{"start":{"line":105,"column":1,"offset":2953},"end":{"line":105,"column":9,"offset":2961},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Expression Editor","position":{"start":{"line":105,"column":11,"offset":2963},"end":{"line":105,"column":28,"offset":2980},"indent":[]}}],"position":{"start":{"line":105,"column":9,"offset":2961},"end":{"line":105,"column":30,"offset":2982},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":105,"column":30,"offset":2982},"end":{"line":105,"column":31,"offset":2983},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":2953},"end":{"line":105,"column":31,"offset":2983},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"starts_with(http.request.uri.path, \"/blog/\")","position":{"start":{"line":107,"column":1,"offset":2985},"end":{"line":109,"column":4,"offset":3040},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Text after ","position":{"start":{"line":111,"column":1,"offset":3042},"end":{"line":111,"column":12,"offset":3053},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Path","position":{"start":{"line":111,"column":14,"offset":3055},"end":{"line":111,"column":18,"offset":3059},"indent":[]}}],"position":{"start":{"line":111,"column":12,"offset":3053},"end":{"line":111,"column":20,"offset":3061},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":111,"column":20,"offset":3061},"end":{"line":111,"column":23,"offset":3064},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rewrite to...","position":{"start":{"line":111,"column":25,"offset":3066},"end":{"line":111,"column":38,"offset":3079},"indent":[]}}],"position":{"start":{"line":111,"column":23,"offset":3064},"end":{"line":111,"column":40,"offset":3081},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":111,"column":40,"offset":3081},"end":{"line":111,"column":43,"offset":3084},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Dynamic","position":{"start":{"line":111,"column":44,"offset":3085},"end":{"line":111,"column":51,"offset":3092},"indent":[]}}],"position":{"start":{"line":111,"column":43,"offset":3084},"end":{"line":111,"column":52,"offset":3093},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":111,"column":52,"offset":3093},"end":{"line":111,"column":53,"offset":3094},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":3042},"end":{"line":111,"column":53,"offset":3094},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"regex_replace(http.request.uri.path, \"^/blog/\", \"/marketing/\")","position":{"start":{"line":113,"column":1,"offset":3096},"end":{"line":115,"column":4,"offset":3169},"indent":[1,1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":117,"column":1,"offset":3171},"end":{"line":117,"column":11,"offset":3181},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":119,"column":1,"offset":3183},"end":{"line":119,"column":5,"offset":3187},"indent":[]}},{"type":"inlineCode","value":"regex_replace()","position":{"start":{"line":119,"column":5,"offset":3187},"end":{"line":119,"column":22,"offset":3204},"indent":[]}},{"type":"text","value":" function matches the path component on a regular expression (","position":{"start":{"line":119,"column":22,"offset":3204},"end":{"line":119,"column":84,"offset":3266},"indent":[]}},{"type":"inlineCode","value":"^/blog/","position":{"start":{"line":119,"column":84,"offset":3266},"end":{"line":119,"column":93,"offset":3275},"indent":[]}},{"type":"text","value":") and then provides a replacement for that match (","position":{"start":{"line":119,"column":93,"offset":3275},"end":{"line":119,"column":143,"offset":3325},"indent":[]}},{"type":"inlineCode","value":"/marketing/","position":{"start":{"line":119,"column":143,"offset":3325},"end":{"line":119,"column":156,"offset":3338},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":119,"column":156,"offset":3338},"end":{"line":119,"column":158,"offset":3340},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":3183},"end":{"line":119,"column":158,"offset":3340},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Rewrite path with several URL segments to a different URL segment","position":{"start":{"line":121,"column":5,"offset":3346},"end":{"line":121,"column":70,"offset":3411},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":3342},"end":{"line":121,"column":70,"offset":3411},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To rewrite paths like ","position":{"start":{"line":123,"column":1,"offset":3413},"end":{"line":123,"column":23,"offset":3435},"indent":[]}},{"type":"inlineCode","value":"/images/<folder1>/<folder2>/<filename>","position":{"start":{"line":123,"column":23,"offset":3435},"end":{"line":123,"column":63,"offset":3475},"indent":[]}},{"type":"text","value":" — where ","position":{"start":{"line":123,"column":63,"offset":3475},"end":{"line":123,"column":72,"offset":3484},"indent":[]}},{"type":"inlineCode","value":"<folder1>","position":{"start":{"line":123,"column":72,"offset":3484},"end":{"line":123,"column":83,"offset":3495},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":123,"column":83,"offset":3495},"end":{"line":123,"column":85,"offset":3497},"indent":[]}},{"type":"inlineCode","value":"<folder2>","position":{"start":{"line":123,"column":85,"offset":3497},"end":{"line":123,"column":96,"offset":3508},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":123,"column":96,"offset":3508},"end":{"line":123,"column":102,"offset":3514},"indent":[]}},{"type":"inlineCode","value":"<filename>","position":{"start":{"line":123,"column":102,"offset":3514},"end":{"line":123,"column":114,"offset":3526},"indent":[]}},{"type":"text","value":" can vary — to ","position":{"start":{"line":123,"column":114,"offset":3526},"end":{"line":123,"column":129,"offset":3541},"indent":[]}},{"type":"inlineCode","value":"/img/<filename>","position":{"start":{"line":123,"column":129,"offset":3541},"end":{"line":123,"column":146,"offset":3558},"indent":[]}},{"type":"text","value":", create a URL Rewrite Rule with a dynamic rewrite of the path component:","position":{"start":{"line":123,"column":146,"offset":3558},"end":{"line":123,"column":219,"offset":3631},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":3413},"end":{"line":123,"column":219,"offset":3631},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":125,"column":1,"offset":3633},"end":{"line":125,"column":10,"offset":3642},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Text in ","position":{"start":{"line":127,"column":1,"offset":3644},"end":{"line":127,"column":9,"offset":3652},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Expression Editor","position":{"start":{"line":127,"column":11,"offset":3654},"end":{"line":127,"column":28,"offset":3671},"indent":[]}}],"position":{"start":{"line":127,"column":9,"offset":3652},"end":{"line":127,"column":30,"offset":3673},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":127,"column":30,"offset":3673},"end":{"line":127,"column":31,"offset":3674},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":3644},"end":{"line":127,"column":31,"offset":3674},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"http.request.uri.path ~ \"^/images/[^/]+/[^/]+/[^/]+$\"","position":{"start":{"line":129,"column":1,"offset":3676},"end":{"line":131,"column":4,"offset":3740},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Text after ","position":{"start":{"line":133,"column":1,"offset":3742},"end":{"line":133,"column":12,"offset":3753},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Path","position":{"start":{"line":133,"column":14,"offset":3755},"end":{"line":133,"column":18,"offset":3759},"indent":[]}}],"position":{"start":{"line":133,"column":12,"offset":3753},"end":{"line":133,"column":20,"offset":3761},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":133,"column":20,"offset":3761},"end":{"line":133,"column":23,"offset":3764},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rewrite to...","position":{"start":{"line":133,"column":25,"offset":3766},"end":{"line":133,"column":38,"offset":3779},"indent":[]}}],"position":{"start":{"line":133,"column":23,"offset":3764},"end":{"line":133,"column":40,"offset":3781},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":133,"column":40,"offset":3781},"end":{"line":133,"column":43,"offset":3784},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Dynamic","position":{"start":{"line":133,"column":44,"offset":3785},"end":{"line":133,"column":51,"offset":3792},"indent":[]}}],"position":{"start":{"line":133,"column":43,"offset":3784},"end":{"line":133,"column":52,"offset":3793},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":133,"column":52,"offset":3793},"end":{"line":133,"column":53,"offset":3794},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":3742},"end":{"line":133,"column":53,"offset":3794},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"regex_replace(http.request.uri.path, \"^/images/[^/]+/[^/]+/(.+)$\", \"/img/${1}\")","position":{"start":{"line":135,"column":1,"offset":3796},"end":{"line":137,"column":4,"offset":3886},"indent":[1,1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":139,"column":1,"offset":3888},"end":{"line":139,"column":11,"offset":3898},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For example, this rule would rewrite the ","position":{"start":{"line":141,"column":1,"offset":3900},"end":{"line":141,"column":42,"offset":3941},"indent":[]}},{"type":"inlineCode","value":"/images/nature/animals/tiger.png","position":{"start":{"line":141,"column":42,"offset":3941},"end":{"line":141,"column":76,"offset":3975},"indent":[]}},{"type":"text","value":" path to ","position":{"start":{"line":141,"column":76,"offset":3975},"end":{"line":141,"column":85,"offset":3984},"indent":[]}},{"type":"inlineCode","value":"/img/tiger.png","position":{"start":{"line":141,"column":85,"offset":3984},"end":{"line":141,"column":101,"offset":4000},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":141,"column":101,"offset":4000},"end":{"line":141,"column":102,"offset":4001},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":3900},"end":{"line":141,"column":102,"offset":4001},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Rewrite blog archive URLs to support a new URL format","position":{"start":{"line":143,"column":5,"offset":4007},"end":{"line":143,"column":58,"offset":4060},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":4003},"end":{"line":143,"column":58,"offset":4060},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To rewrite the URLs of a blog archive that follow the URL format ","position":{"start":{"line":145,"column":1,"offset":4062},"end":{"line":145,"column":66,"offset":4127},"indent":[]}},{"type":"inlineCode","value":"/posts/<YYYY>-<MM>-<DD>-<title>","position":{"start":{"line":145,"column":66,"offset":4127},"end":{"line":145,"column":99,"offset":4160},"indent":[]}},{"type":"text","value":" to the new format ","position":{"start":{"line":145,"column":99,"offset":4160},"end":{"line":145,"column":118,"offset":4179},"indent":[]}},{"type":"inlineCode","value":"/posts/<YYYY>/<MM>/<DD>/<title>","position":{"start":{"line":145,"column":118,"offset":4179},"end":{"line":145,"column":151,"offset":4212},"indent":[]}},{"type":"text","value":", create the following URL Rewrite Rule:","position":{"start":{"line":145,"column":151,"offset":4212},"end":{"line":145,"column":191,"offset":4252},"indent":[]}}],"position":{"start":{"line":145,"column":1,"offset":4062},"end":{"line":145,"column":191,"offset":4252},"indent":[]}},{"type":"jsx","value":"<Example>","position":{"start":{"line":147,"column":1,"offset":4254},"end":{"line":147,"column":10,"offset":4263},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Text in ","position":{"start":{"line":149,"column":1,"offset":4265},"end":{"line":149,"column":9,"offset":4273},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Expression Editor","position":{"start":{"line":149,"column":11,"offset":4275},"end":{"line":149,"column":28,"offset":4292},"indent":[]}}],"position":{"start":{"line":149,"column":9,"offset":4273},"end":{"line":149,"column":30,"offset":4294},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":149,"column":30,"offset":4294},"end":{"line":149,"column":31,"offset":4295},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":4265},"end":{"line":149,"column":31,"offset":4295},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"http.request.uri.path ~ \"^/posts/[0-9]+-[0-9]+-[0-9]+-.*\"","position":{"start":{"line":151,"column":1,"offset":4297},"end":{"line":153,"column":4,"offset":4365},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Text after ","position":{"start":{"line":155,"column":1,"offset":4367},"end":{"line":155,"column":12,"offset":4378},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Path","position":{"start":{"line":155,"column":14,"offset":4380},"end":{"line":155,"column":18,"offset":4384},"indent":[]}}],"position":{"start":{"line":155,"column":12,"offset":4378},"end":{"line":155,"column":20,"offset":4386},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":155,"column":20,"offset":4386},"end":{"line":155,"column":23,"offset":4389},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rewrite to...","position":{"start":{"line":155,"column":25,"offset":4391},"end":{"line":155,"column":38,"offset":4404},"indent":[]}}],"position":{"start":{"line":155,"column":23,"offset":4389},"end":{"line":155,"column":40,"offset":4406},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":155,"column":40,"offset":4406},"end":{"line":155,"column":43,"offset":4409},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Dynamic","position":{"start":{"line":155,"column":44,"offset":4410},"end":{"line":155,"column":51,"offset":4417},"indent":[]}}],"position":{"start":{"line":155,"column":43,"offset":4409},"end":{"line":155,"column":52,"offset":4418},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":155,"column":52,"offset":4418},"end":{"line":155,"column":53,"offset":4419},"indent":[]}}],"position":{"start":{"line":155,"column":1,"offset":4367},"end":{"line":155,"column":53,"offset":4419},"indent":[]}},{"type":"code","lang":"txt","meta":null,"value":"regex_replace(http.request.uri.path, \"^/posts/([0-9]+)-([0-9]+)-([0-9]+)-(.*)$\", \"/posts/${1}/${2}/${3}/${4}\")","position":{"start":{"line":157,"column":1,"offset":4421},"end":{"line":159,"column":4,"offset":4542},"indent":[1,1]}},{"type":"jsx","value":"</Example>","position":{"start":{"line":161,"column":1,"offset":4544},"end":{"line":161,"column":11,"offset":4554},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The function ","position":{"start":{"line":163,"column":1,"offset":4556},"end":{"line":163,"column":14,"offset":4569},"indent":[]}},{"type":"inlineCode","value":"regex_replace()","position":{"start":{"line":163,"column":14,"offset":4569},"end":{"line":163,"column":31,"offset":4586},"indent":[]}},{"type":"text","value":" also allows you to extract parts of the URL using regular expressions' capture groups. Create capture groups by putting part of the regular expression in parentheses. Then, reference a capture group using ","position":{"start":{"line":163,"column":31,"offset":4586},"end":{"line":163,"column":237,"offset":4792},"indent":[]}},{"type":"inlineCode","value":"${<num>}","position":{"start":{"line":163,"column":237,"offset":4792},"end":{"line":163,"column":247,"offset":4802},"indent":[]}},{"type":"text","value":" in the replacement string, where ","position":{"start":{"line":163,"column":247,"offset":4802},"end":{"line":163,"column":281,"offset":4836},"indent":[]}},{"type":"inlineCode","value":"<num>","position":{"start":{"line":163,"column":281,"offset":4836},"end":{"line":163,"column":288,"offset":4843},"indent":[]}},{"type":"text","value":" is the number of the capture group.","position":{"start":{"line":163,"column":288,"offset":4843},"end":{"line":163,"column":324,"offset":4879},"indent":[]}}],"position":{"start":{"line":163,"column":1,"offset":4556},"end":{"line":163,"column":324,"offset":4879},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"pcx-content-type\":\"configuration\",\"order\":3}","position":{"start":{"line":166,"column":1,"offset":4882},"end":{"line":166,"column":75,"offset":4956},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":166,"column":75,"offset":4956}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"pcx-content-type\": \"configuration\",\n  \"order\": 3\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Example = makeShortcode(\"Example\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"url-rewrite-examples\"\n  }, \"URL rewrite examples\"), mdx(\"p\", null, \"The following examples illustrate how to perform URL rewrites with Transform Rules:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#rewrite-path-of-welcome-page-for-visitors-in-specific-countries\"\n  }, \"Rewrite path of welcome page for visitors in specific countries\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#rewrite-url-query-string-of-blog-visitors\"\n  }, \"Rewrite URL query string of blog visitors\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#rewrite-path-of-archived-blog-posts\"\n  }, \"Rewrite path of archived blog posts\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#rewrite-path-of-moved-section-of-a-website\"\n  }, \"Rewrite path of moved section of a website\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#rewrite-path-with-several-url-segments-to-a-different-url-segment\"\n  }, \"Rewrite path with several URL segments to a different URL segment\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#rewrite-blog-archive-urls-to-support-a-new-url-format\"\n  }, \"Rewrite blog archive URLs to support a new URL format\"))), mdx(\"h3\", {\n    \"id\": \"rewrite-path-of-welcome-page-for-visitors-in-specific-countries\"\n  }, \"Rewrite path of welcome page for visitors in specific countries\"), mdx(\"p\", null, \"To have a welcome page in two languages, create two URL Rewrite Rules with a static rewrite of the path component:\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"URL Rewrite Rule #1\")), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Text in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expression Editor\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"http.request.uri.path == \\\"/welcome.html\\\" && ip.geoip.country == \\\"GB\\\"\\n\")), mdx(\"p\", null, \"Text after \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Path\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rewrite to...\"), \" > \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Static\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"/welcome-gb.html\\n\"))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"URL Rewrite Rule #2\")), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Text in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expression Editor\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"http.request.uri.path == \\\"/welcome.html\\\" && ip.geoip.country == \\\"PT\\\"\\n\")), mdx(\"p\", null, \"Text after \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Path\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rewrite to...\"), \" > \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Static\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"/welcome-pt.html\\n\"))), mdx(\"h3\", {\n    \"id\": \"rewrite-url-query-string-of-blog-visitors\"\n  }, \"Rewrite URL query string of blog visitors\"), mdx(\"p\", null, \"To rewrite a request to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/blog\"), \" path to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/blog?sort-by=date\"), \", create a URL Rewrite Rule with the following settings:\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Text in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expression Editor\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"http.request.uri.path == \\\"/blog\\\"\\n\")), mdx(\"p\", null, \"Text after \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Query\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rewrite to...\"), \" > \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Static\"), \": \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"sort-by=date\\n\"))), mdx(\"p\", null, \"Additionally, set the path rewrite action of the same rule to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Preserve\"), \" so that the URL path does not change.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"778px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4a09fc1435ca4417efc8268f5c6eae2c/20982/use-case-blog.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"86.1271676300578%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVQ4y51TUU7DMAzN+TgXd+AocAUOwAcUPpAAVdpEk7RJY8fJeG4ZGhPTwp7cqD9+frafzTh6a63zzg6DHfBriXnXBkNEIYQJXwz6zPOckpTyZ2QpbqJPnxBTzCalFGMMMSZKSGRmUNTTEFEKkco5GxHZXQQIMd+SjnBC9q8WUBki2yd0CLRgxmnCiC5TrpUh4MJkjNo6G+OcRcCCGaKLUmtTcikF7thstggQYXPIb01mUmhNRQbXP2SjlPeel4GX/c5qY+VE5JyDu91CseigxvoqG4m4CDh0tQcaPhN7nxgQ4CpQH4bFzlcimHw5A1lj5dRvRYUupTA/djns8/gYctYtMOtLyQd66ePWsznrQbw48q7r+r5/fOreX59v79+urh9u7j6+AAVF6S3S8MkkAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Rule configuration for query rewrite in the blog example\",\n    \"title\": \"Rule configuration for query rewrite in the blog example\",\n    \"src\": \"/static/4a09fc1435ca4417efc8268f5c6eae2c/20982/use-case-blog.png\",\n    \"srcSet\": [\"/static/4a09fc1435ca4417efc8268f5c6eae2c/8f77f/use-case-blog.png 346w\", \"/static/4a09fc1435ca4417efc8268f5c6eae2c/e185b/use-case-blog.png 691w\", \"/static/4a09fc1435ca4417efc8268f5c6eae2c/20982/use-case-blog.png 778w\"],\n    \"sizes\": \"(max-width: 778px) 100vw, 778px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h3\", {\n    \"id\": \"rewrite-path-of-archived-blog-posts\"\n  }, \"Rewrite path of archived blog posts\"), mdx(\"p\", null, \"To rewrite all requests to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/news/2012/...\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/archive/news/2012/...\"), \" you must add a reference to the content of the original URL. Create a new URL Rewrite Rule and define a dynamic URL path rewrite using an expression:\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Text in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expression Editor\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"starts_with(http.request.uri.path, \\\"/news/2012/\\\")\\n\")), mdx(\"p\", null, \"Text after \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Path\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rewrite to...\"), \" > \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Dynamic\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"concat(\\\"/archive\\\", http.request.uri.path)\\n\"))), mdx(\"p\", null, \"The filter uses the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"starts_with()\"), \" function all paths starting with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/news/2012/\"), \". The dynamic path rewrite uses the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"concat()\"), \" function to concatenate a prefix to the original URL path of the HTTP request.\"), mdx(\"h3\", {\n    \"id\": \"rewrite-path-of-moved-section-of-a-website\"\n  }, \"Rewrite path of moved section of a website\"), mdx(\"p\", null, \"To rewrite everything under \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/blog/<x>\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/marketing/<x>\"), \" you must modify the first component of the path (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/blog/\"), \"). Create a URL Rewrite Rule and use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"regex_replace()\"), \" function for this purpose:\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Text in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expression Editor\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"starts_with(http.request.uri.path, \\\"/blog/\\\")\\n\")), mdx(\"p\", null, \"Text after \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Path\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rewrite to...\"), \" > \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Dynamic\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"regex_replace(http.request.uri.path, \\\"^/blog/\\\", \\\"/marketing/\\\")\\n\"))), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"regex_replace()\"), \" function matches the path component on a regular expression (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"^/blog/\"), \") and then provides a replacement for that match (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/marketing/\"), \").\"), mdx(\"h3\", {\n    \"id\": \"rewrite-path-with-several-url-segments-to-a-different-url-segment\"\n  }, \"Rewrite path with several URL segments to a different URL segment\"), mdx(\"p\", null, \"To rewrite paths like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/images/<folder1>/<folder2>/<filename>\"), \" \\u2014 where \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<folder1>\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<folder2>\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<filename>\"), \" can vary \\u2014 to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/img/<filename>\"), \", create a URL Rewrite Rule with a dynamic rewrite of the path component:\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Text in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expression Editor\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"http.request.uri.path ~ \\\"^/images/[^/]+/[^/]+/[^/]+$\\\"\\n\")), mdx(\"p\", null, \"Text after \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Path\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rewrite to...\"), \" > \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Dynamic\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"regex_replace(http.request.uri.path, \\\"^/images/[^/]+/[^/]+/(.+)$\\\", \\\"/img/${1}\\\")\\n\"))), mdx(\"p\", null, \"For example, this rule would rewrite the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/images/nature/animals/tiger.png\"), \" path to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/img/tiger.png\"), \".\"), mdx(\"h3\", {\n    \"id\": \"rewrite-blog-archive-urls-to-support-a-new-url-format\"\n  }, \"Rewrite blog archive URLs to support a new URL format\"), mdx(\"p\", null, \"To rewrite the URLs of a blog archive that follow the URL format \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/posts/<YYYY>-<MM>-<DD>-<title>\"), \" to the new format \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/posts/<YYYY>/<MM>/<DD>/<title>\"), \", create the following URL Rewrite Rule:\"), mdx(Example, {\n    mdxType: \"Example\"\n  }, mdx(\"p\", null, \"Text in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Expression Editor\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"http.request.uri.path ~ \\\"^/posts/[0-9]+-[0-9]+-[0-9]+-.*\\\"\\n\")), mdx(\"p\", null, \"Text after \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Path\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rewrite to...\"), \" > \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Dynamic\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-txt\"\n  }, \"regex_replace(http.request.uri.path, \\\"^/posts/([0-9]+)-([0-9]+)-([0-9]+)-(.*)$\\\", \\\"/posts/${1}/${2}/${3}/${4}\\\")\\n\"))), mdx(\"p\", null, \"The function \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"regex_replace()\"), \" also allows you to extract parts of the URL using regular expressions' capture groups. Create capture groups by putting part of the regular expression in parentheses. Then, reference a capture group using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${<num>}\"), \" in the replacement string, where \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<num>\"), \" is the number of the capture group.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"pcx-content-type\": \"configuration\",\n  \"order\": 3\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst Example = makeShortcode(\"Example\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"url-rewrite-examples\"\n    }}>{`URL rewrite examples`}</h1>\n    <p>{`The following examples illustrate how to perform URL rewrites with Transform Rules:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#rewrite-path-of-welcome-page-for-visitors-in-specific-countries\"\n        }}>{`Rewrite path of welcome page for visitors in specific countries`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#rewrite-url-query-string-of-blog-visitors\"\n        }}>{`Rewrite URL query string of blog visitors`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#rewrite-path-of-archived-blog-posts\"\n        }}>{`Rewrite path of archived blog posts`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#rewrite-path-of-moved-section-of-a-website\"\n        }}>{`Rewrite path of moved section of a website`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#rewrite-path-with-several-url-segments-to-a-different-url-segment\"\n        }}>{`Rewrite path with several URL segments to a different URL segment`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#rewrite-blog-archive-urls-to-support-a-new-url-format\"\n        }}>{`Rewrite blog archive URLs to support a new URL format`}</a></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"rewrite-path-of-welcome-page-for-visitors-in-specific-countries\"\n    }}>{`Rewrite path of welcome page for visitors in specific countries`}</h3>\n    <p>{`To have a welcome page in two languages, create two URL Rewrite Rules with a static rewrite of the path component:`}</p>\n    <p><strong parentName=\"p\">{`URL Rewrite Rule #1`}</strong></p>\n    <Example mdxType=\"Example\">\n      <p>{`Text in `}<strong parentName=\"p\">{`Expression Editor`}</strong>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`http.request.uri.path == \"/welcome.html\" && ip.geoip.country == \"GB\"\n`}</code></pre>\n      <p>{`Text after `}<strong parentName=\"p\">{`Path`}</strong>{` > `}<strong parentName=\"p\">{`Rewrite to...`}</strong>{` > `}<em parentName=\"p\">{`Static`}</em>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`/welcome-gb.html\n`}</code></pre>\n    </Example>\n    <p><strong parentName=\"p\">{`URL Rewrite Rule #2`}</strong></p>\n    <Example mdxType=\"Example\">\n      <p>{`Text in `}<strong parentName=\"p\">{`Expression Editor`}</strong>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`http.request.uri.path == \"/welcome.html\" && ip.geoip.country == \"PT\"\n`}</code></pre>\n      <p>{`Text after `}<strong parentName=\"p\">{`Path`}</strong>{` > `}<strong parentName=\"p\">{`Rewrite to...`}</strong>{` > `}<em parentName=\"p\">{`Static`}</em>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`/welcome-pt.html\n`}</code></pre>\n    </Example>\n    <h3 {...{\n      \"id\": \"rewrite-url-query-string-of-blog-visitors\"\n    }}>{`Rewrite URL query string of blog visitors`}</h3>\n    <p>{`To rewrite a request to the `}<inlineCode parentName=\"p\">{`/blog`}</inlineCode>{` path to `}<inlineCode parentName=\"p\">{`/blog?sort-by=date`}</inlineCode>{`, create a URL Rewrite Rule with the following settings:`}</p>\n    <Example mdxType=\"Example\">\n      <p>{`Text in `}<strong parentName=\"p\">{`Expression Editor`}</strong>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`http.request.uri.path == \"/blog\"\n`}</code></pre>\n      <p>{`Text after `}<strong parentName=\"p\">{`Query`}</strong>{` > `}<strong parentName=\"p\">{`Rewrite to...`}</strong>{` > `}<em parentName=\"p\">{`Static`}</em>{`: `}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`sort-by=date\n`}</code></pre>\n    </Example>\n    <p>{`Additionally, set the path rewrite action of the same rule to `}<em parentName=\"p\">{`Preserve`}</em>{` so that the URL path does not change.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"778px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/4a09fc1435ca4417efc8268f5c6eae2c/20982/use-case-blog.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"86.1271676300578%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVQ4y51TUU7DMAzN+TgXd+AocAUOwAcUPpAAVdpEk7RJY8fJeG4ZGhPTwp7cqD9+frafzTh6a63zzg6DHfBriXnXBkNEIYQJXwz6zPOckpTyZ2QpbqJPnxBTzCalFGMMMSZKSGRmUNTTEFEKkco5GxHZXQQIMd+SjnBC9q8WUBki2yd0CLRgxmnCiC5TrpUh4MJkjNo6G+OcRcCCGaKLUmtTcikF7thstggQYXPIb01mUmhNRQbXP2SjlPeel4GX/c5qY+VE5JyDu91CseigxvoqG4m4CDh0tQcaPhN7nxgQ4CpQH4bFzlcimHw5A1lj5dRvRYUupTA/djns8/gYctYtMOtLyQd66ePWsznrQbw48q7r+r5/fOreX59v79+urh9u7j6+AAVF6S3S8MkkAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Rule configuration for query rewrite in the blog example\",\n            \"title\": \"Rule configuration for query rewrite in the blog example\",\n            \"src\": \"/static/4a09fc1435ca4417efc8268f5c6eae2c/20982/use-case-blog.png\",\n            \"srcSet\": [\"/static/4a09fc1435ca4417efc8268f5c6eae2c/8f77f/use-case-blog.png 346w\", \"/static/4a09fc1435ca4417efc8268f5c6eae2c/e185b/use-case-blog.png 691w\", \"/static/4a09fc1435ca4417efc8268f5c6eae2c/20982/use-case-blog.png 778w\"],\n            \"sizes\": \"(max-width: 778px) 100vw, 778px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <h3 {...{\n      \"id\": \"rewrite-path-of-archived-blog-posts\"\n    }}>{`Rewrite path of archived blog posts`}</h3>\n    <p>{`To rewrite all requests to `}<inlineCode parentName=\"p\">{`/news/2012/...`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`/archive/news/2012/...`}</inlineCode>{` you must add a reference to the content of the original URL. Create a new URL Rewrite Rule and define a dynamic URL path rewrite using an expression:`}</p>\n    <Example mdxType=\"Example\">\n      <p>{`Text in `}<strong parentName=\"p\">{`Expression Editor`}</strong>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`starts_with(http.request.uri.path, \"/news/2012/\")\n`}</code></pre>\n      <p>{`Text after `}<strong parentName=\"p\">{`Path`}</strong>{` > `}<strong parentName=\"p\">{`Rewrite to...`}</strong>{` > `}<em parentName=\"p\">{`Dynamic`}</em>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`concat(\"/archive\", http.request.uri.path)\n`}</code></pre>\n    </Example>\n    <p>{`The filter uses the `}<inlineCode parentName=\"p\">{`starts_with()`}</inlineCode>{` function all paths starting with `}<inlineCode parentName=\"p\">{`/news/2012/`}</inlineCode>{`. The dynamic path rewrite uses the `}<inlineCode parentName=\"p\">{`concat()`}</inlineCode>{` function to concatenate a prefix to the original URL path of the HTTP request.`}</p>\n    <h3 {...{\n      \"id\": \"rewrite-path-of-moved-section-of-a-website\"\n    }}>{`Rewrite path of moved section of a website`}</h3>\n    <p>{`To rewrite everything under `}<inlineCode parentName=\"p\">{`/blog/<x>`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`/marketing/<x>`}</inlineCode>{` you must modify the first component of the path (`}<inlineCode parentName=\"p\">{`/blog/`}</inlineCode>{`). Create a URL Rewrite Rule and use the `}<inlineCode parentName=\"p\">{`regex_replace()`}</inlineCode>{` function for this purpose:`}</p>\n    <Example mdxType=\"Example\">\n      <p>{`Text in `}<strong parentName=\"p\">{`Expression Editor`}</strong>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`starts_with(http.request.uri.path, \"/blog/\")\n`}</code></pre>\n      <p>{`Text after `}<strong parentName=\"p\">{`Path`}</strong>{` > `}<strong parentName=\"p\">{`Rewrite to...`}</strong>{` > `}<em parentName=\"p\">{`Dynamic`}</em>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`regex_replace(http.request.uri.path, \"^/blog/\", \"/marketing/\")\n`}</code></pre>\n    </Example>\n    <p>{`The `}<inlineCode parentName=\"p\">{`regex_replace()`}</inlineCode>{` function matches the path component on a regular expression (`}<inlineCode parentName=\"p\">{`^/blog/`}</inlineCode>{`) and then provides a replacement for that match (`}<inlineCode parentName=\"p\">{`/marketing/`}</inlineCode>{`).`}</p>\n    <h3 {...{\n      \"id\": \"rewrite-path-with-several-url-segments-to-a-different-url-segment\"\n    }}>{`Rewrite path with several URL segments to a different URL segment`}</h3>\n    <p>{`To rewrite paths like `}<inlineCode parentName=\"p\">{`/images/<folder1>/<folder2>/<filename>`}</inlineCode>{` — where `}<inlineCode parentName=\"p\">{`<folder1>`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`<folder2>`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`<filename>`}</inlineCode>{` can vary — to `}<inlineCode parentName=\"p\">{`/img/<filename>`}</inlineCode>{`, create a URL Rewrite Rule with a dynamic rewrite of the path component:`}</p>\n    <Example mdxType=\"Example\">\n      <p>{`Text in `}<strong parentName=\"p\">{`Expression Editor`}</strong>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`http.request.uri.path ~ \"^/images/[^/]+/[^/]+/[^/]+$\"\n`}</code></pre>\n      <p>{`Text after `}<strong parentName=\"p\">{`Path`}</strong>{` > `}<strong parentName=\"p\">{`Rewrite to...`}</strong>{` > `}<em parentName=\"p\">{`Dynamic`}</em>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`regex_replace(http.request.uri.path, \"^/images/[^/]+/[^/]+/(.+)$\", \"/img/\\${1}\")\n`}</code></pre>\n    </Example>\n    <p>{`For example, this rule would rewrite the `}<inlineCode parentName=\"p\">{`/images/nature/animals/tiger.png`}</inlineCode>{` path to `}<inlineCode parentName=\"p\">{`/img/tiger.png`}</inlineCode>{`.`}</p>\n    <h3 {...{\n      \"id\": \"rewrite-blog-archive-urls-to-support-a-new-url-format\"\n    }}>{`Rewrite blog archive URLs to support a new URL format`}</h3>\n    <p>{`To rewrite the URLs of a blog archive that follow the URL format `}<inlineCode parentName=\"p\">{`/posts/<YYYY>-<MM>-<DD>-<title>`}</inlineCode>{` to the new format `}<inlineCode parentName=\"p\">{`/posts/<YYYY>/<MM>/<DD>/<title>`}</inlineCode>{`, create the following URL Rewrite Rule:`}</p>\n    <Example mdxType=\"Example\">\n      <p>{`Text in `}<strong parentName=\"p\">{`Expression Editor`}</strong>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`http.request.uri.path ~ \"^/posts/[0-9]+-[0-9]+-[0-9]+-.*\"\n`}</code></pre>\n      <p>{`Text after `}<strong parentName=\"p\">{`Path`}</strong>{` > `}<strong parentName=\"p\">{`Rewrite to...`}</strong>{` > `}<em parentName=\"p\">{`Dynamic`}</em>{`:`}</p>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-txt\"\n        }}>{`regex_replace(http.request.uri.path, \"^/posts/([0-9]+)-([0-9]+)-([0-9]+)-(.*)$\", \"/posts/\\${1}/\\${2}/\\${3}/\\${4}\")\n`}</code></pre>\n    </Example>\n    <p>{`The function `}<inlineCode parentName=\"p\">{`regex_replace()`}</inlineCode>{` also allows you to extract parts of the URL using regular expressions' capture groups. Create capture groups by putting part of the regular expression in parentheses. Then, reference a capture group using `}<inlineCode parentName=\"p\">{`\\${<num>}`}</inlineCode>{` in the replacement string, where `}<inlineCode parentName=\"p\">{`<num>`}</inlineCode>{` is the number of the capture group.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}