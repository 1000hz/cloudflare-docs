{"expireTime":9007200897367348000,"key":"gatsby-plugin-mdx-entire-payload-f7acaaed2ffdee2f6c14bfcc0cc10af8-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Google Cloud","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":15,"offset":15},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":15,"offset":15},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Overview","position":{"start":{"line":4,"column":4,"offset":20},"end":{"line":4,"column":12,"offset":28},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":17},"end":{"line":4,"column":12,"offset":28},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This tutorial covers how to configure certain Google Cloud Platform (GCP) components so that you can analyze your Cloudflare Logs data.","position":{"start":{"line":6,"column":1,"offset":30},"end":{"line":6,"column":136,"offset":165},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":30},"end":{"line":6,"column":136,"offset":165},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Before proceeding, you need to enable ","position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":39,"offset":205},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/logs/get-started/enable-destinations/google-cloud-storage","children":[{"type":"text","value":"Cloudflare Logpush in Google Cloud Storage","position":{"start":{"line":8,"column":40,"offset":206},"end":{"line":8,"column":82,"offset":248},"indent":[]}}],"position":{"start":{"line":8,"column":39,"offset":205},"end":{"line":8,"column":176,"offset":342},"indent":[]}},{"type":"text","value":" to ensure your log data is available for analyzing.","position":{"start":{"line":8,"column":176,"offset":342},"end":{"line":8,"column":228,"offset":394},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":228,"offset":394},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The components we'll use in this tutorial include:","position":{"start":{"line":10,"column":1,"offset":396},"end":{"line":10,"column":51,"offset":446},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":396},"end":{"line":10,"column":51,"offset":446},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Google Cloud Function","position":{"start":{"line":12,"column":5,"offset":452},"end":{"line":12,"column":26,"offset":473},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":450},"end":{"line":12,"column":28,"offset":475},"indent":[]}},{"type":"text","value":" to import logs from Google Cloud Storage to Google BigQuery","position":{"start":{"line":12,"column":28,"offset":475},"end":{"line":12,"column":88,"offset":535},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":450},"end":{"line":12,"column":88,"offset":535},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":448},"end":{"line":12,"column":88,"offset":535},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Google BigQuery","position":{"start":{"line":13,"column":5,"offset":540},"end":{"line":13,"column":20,"offset":555},"indent":[]}}],"position":{"start":{"line":13,"column":3,"offset":538},"end":{"line":13,"column":22,"offset":557},"indent":[]}},{"type":"text","value":" to make log data available to the reporting engine, and","position":{"start":{"line":13,"column":22,"offset":557},"end":{"line":13,"column":78,"offset":613},"indent":[]}}],"position":{"start":{"line":13,"column":3,"offset":538},"end":{"line":13,"column":78,"offset":613},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":536},"end":{"line":13,"column":78,"offset":613},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Google Data Studio","position":{"start":{"line":14,"column":5,"offset":618},"end":{"line":14,"column":23,"offset":636},"indent":[]}}],"position":{"start":{"line":14,"column":3,"offset":616},"end":{"line":14,"column":25,"offset":638},"indent":[]}},{"type":"text","value":" to run interactive reports","position":{"start":{"line":14,"column":25,"offset":638},"end":{"line":14,"column":52,"offset":665},"indent":[]}}],"position":{"start":{"line":14,"column":3,"offset":616},"end":{"line":14,"column":52,"offset":665},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":614},"end":{"line":14,"column":52,"offset":665},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":448},"end":{"line":14,"column":52,"offset":665},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The following diagram depicts how data flows from Cloudflare Logs through the different components of the Google Cloud Platform discussed in this tutorial.","position":{"start":{"line":16,"column":1,"offset":667},"end":{"line":16,"column":156,"offset":822},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":667},"end":{"line":16,"column":156,"offset":822},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../../../static/images/google/cf-logpush-to-google-cloud-platform.png","alt":"Cloudflare Logpush to Google Cloud Platform","position":{"start":{"line":18,"column":1,"offset":824},"end":{"line":18,"column":118,"offset":941},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":824},"end":{"line":18,"column":118,"offset":941},"indent":[]}},{"type":"jsx","value":"<Aside type=\"info\" header=\"Info\">","position":{"start":{"line":20,"column":1,"offset":943},"end":{"line":20,"column":34,"offset":976},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Google Cloud is offering a credit towards a new Google Cloud account to help you get started. To learn more, visit ","position":{"start":{"line":22,"column":1,"offset":978},"end":{"line":22,"column":116,"offset":1093},"indent":[]}},{"type":"link","title":null,"url":"https://cloud.google.com/partners/partnercredit/?PCN=a0n60000003kp9MAAQ","children":[{"type":"text","value":"Google Cloud Platform Partner Credit","position":{"start":{"line":22,"column":117,"offset":1094},"end":{"line":22,"column":153,"offset":1130},"indent":[]}}],"position":{"start":{"line":22,"column":116,"offset":1093},"end":{"line":22,"column":227,"offset":1204},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":22,"column":227,"offset":1204},"end":{"line":22,"column":228,"offset":1205},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":978},"end":{"line":22,"column":228,"offset":1205},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":23,"column":1,"offset":1206},"end":{"line":23,"column":9,"offset":1214},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Task 1 - Use Google Cloud Function to import log data into Google BigQuery","position":{"start":{"line":25,"column":4,"offset":1219},"end":{"line":25,"column":78,"offset":1293},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1216},"end":{"line":25,"column":78,"offset":1293},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"After you configured Cloudflare Logpush to send your logs to a Google Cloud Storage bucket, your log data updates every five minutes by default.","position":{"start":{"line":27,"column":1,"offset":1295},"end":{"line":27,"column":145,"offset":1439},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1295},"end":{"line":27,"column":145,"offset":1439},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Google BigQuery makes data available for both querying using Structured Query Language (SQL) and for configuring as a data source for the Google Data Studio reporting engine. BigQuery is a highly scalable cloud database where SQL queries run quite fast.","position":{"start":{"line":29,"column":1,"offset":1441},"end":{"line":29,"column":254,"offset":1694},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1441},"end":{"line":29,"column":254,"offset":1694},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Importing data from Google Cloud Storage into Google BigQuery requires creating a function using Google Cloud Function and running it in the Google Cloud Shell. This function triggers every time new Cloudflare log data is uploaded to your Google Cloud Storage bucket.","position":{"start":{"line":31,"column":1,"offset":1696},"end":{"line":31,"column":268,"offset":1963},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1696},"end":{"line":31,"column":268,"offset":1963},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Clone and deploy a Google Cloud Function","position":{"start":{"line":33,"column":5,"offset":1969},"end":{"line":33,"column":45,"offset":2009},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1965},"end":{"line":33,"column":45,"offset":2009},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To a create a cloud function to import data from Google Cloud Storage into Google BigQuery, you will need the following GitHub repository from Cloudflare: ","position":{"start":{"line":35,"column":1,"offset":2011},"end":{"line":35,"column":156,"offset":2166},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/cloudflare/GCS-To-Big-Query","children":[{"type":"text","value":"https://github.com/cloudflare/GCS-To-Big-Query","position":{"start":{"line":35,"column":156,"offset":2166},"end":{"line":35,"column":202,"offset":2212},"indent":[]}}],"position":{"start":{"line":35,"column":156,"offset":2166},"end":{"line":35,"column":202,"offset":2212},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":35,"column":202,"offset":2212},"end":{"line":35,"column":203,"offset":2213},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2011},"end":{"line":35,"column":203,"offset":2213},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To clone and deploy the cloud function:","position":{"start":{"line":37,"column":1,"offset":2215},"end":{"line":37,"column":40,"offset":2254},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":2215},"end":{"line":37,"column":40,"offset":2254},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Run the Google Cloud Platform shell by opening the ","position":{"start":{"line":39,"column":4,"offset":2259},"end":{"line":39,"column":55,"offset":2310},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Google Cloud Platform","position":{"start":{"line":39,"column":57,"offset":2312},"end":{"line":39,"column":78,"offset":2333},"indent":[]}}],"position":{"start":{"line":39,"column":55,"offset":2310},"end":{"line":39,"column":80,"offset":2335},"indent":[]}},{"type":"text","value":" console and clicking the ","position":{"start":{"line":39,"column":80,"offset":2335},"end":{"line":39,"column":106,"offset":2361},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Google Shell","position":{"start":{"line":39,"column":108,"offset":2363},"end":{"line":39,"column":120,"offset":2375},"indent":[]}}],"position":{"start":{"line":39,"column":106,"offset":2361},"end":{"line":39,"column":122,"offset":2377},"indent":[]}},{"type":"text","value":" icon (","position":{"start":{"line":39,"column":122,"offset":2377},"end":{"line":39,"column":129,"offset":2384},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Activate Cloud Shell","position":{"start":{"line":39,"column":130,"offset":2385},"end":{"line":39,"column":150,"offset":2405},"indent":[]}}],"position":{"start":{"line":39,"column":129,"offset":2384},"end":{"line":39,"column":151,"offset":2406},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":39,"column":151,"offset":2406},"end":{"line":39,"column":153,"offset":2408},"indent":[]}}],"position":{"start":{"line":39,"column":4,"offset":2259},"end":{"line":39,"column":153,"offset":2408},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":2256},"end":{"line":40,"column":1,"offset":2409},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Run the following command to download the ","position":{"start":{"line":41,"column":4,"offset":2413},"end":{"line":41,"column":46,"offset":2455},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"master","position":{"start":{"line":41,"column":47,"offset":2456},"end":{"line":41,"column":53,"offset":2462},"indent":[]}}],"position":{"start":{"line":41,"column":46,"offset":2455},"end":{"line":41,"column":54,"offset":2463},"indent":[]}},{"type":"text","value":" zipped archive, uncompress the files to new a directory, and change the command line prompt to the new directory: ","position":{"start":{"line":41,"column":54,"offset":2463},"end":{"line":41,"column":169,"offset":2578},"indent":[]}},{"type":"inlineCode","value":"curl -LO \"https://github.com/cloudflare/cloudflare-gcp/archive/master.zip\" && unzip master.zip && cd cloudflare-gcp-master/logpush-to-bigquery","position":{"start":{"line":41,"column":169,"offset":2578},"end":{"line":41,"column":313,"offset":2722},"indent":[]}}],"position":{"start":{"line":41,"column":4,"offset":2413},"end":{"line":41,"column":313,"offset":2722},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2410},"end":{"line":42,"column":1,"offset":2723},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Next, edit the ","position":{"start":{"line":43,"column":4,"offset":2727},"end":{"line":43,"column":19,"offset":2742},"indent":[]}},{"type":"inlineCode","value":"deploy.sh","position":{"start":{"line":43,"column":19,"offset":2742},"end":{"line":43,"column":30,"offset":2753},"indent":[]}},{"type":"text","value":" file and make sure that:","position":{"start":{"line":43,"column":30,"offset":2753},"end":{"line":43,"column":55,"offset":2778},"indent":[]}}],"position":{"start":{"line":43,"column":4,"offset":2727},"end":{"line":43,"column":55,"offset":2778},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":2724},"end":{"line":43,"column":55,"offset":2778},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":2256},"end":{"line":43,"column":55,"offset":2778},"indent":[1,1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"BUCKET_NAME","position":{"start":{"line":45,"column":5,"offset":2784},"end":{"line":45,"column":16,"offset":2795},"indent":[]}}],"position":{"start":{"line":45,"column":3,"offset":2782},"end":{"line":45,"column":18,"offset":2797},"indent":[]}},{"type":"text","value":" is set to the bucket you created when you configured Cloudflare Logpush with Google Cloud Platform.","position":{"start":{"line":45,"column":18,"offset":2797},"end":{"line":45,"column":118,"offset":2897},"indent":[]}}],"position":{"start":{"line":45,"column":3,"offset":2782},"end":{"line":45,"column":118,"offset":2897},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":2780},"end":{"line":46,"column":1,"offset":2898},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"DATASET","position":{"start":{"line":47,"column":5,"offset":2903},"end":{"line":47,"column":12,"offset":2910},"indent":[]}}],"position":{"start":{"line":47,"column":3,"offset":2901},"end":{"line":47,"column":14,"offset":2912},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":47,"column":14,"offset":2912},"end":{"line":47,"column":19,"offset":2917},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"TABLE","position":{"start":{"line":47,"column":21,"offset":2919},"end":{"line":47,"column":26,"offset":2924},"indent":[]}}],"position":{"start":{"line":47,"column":19,"offset":2917},"end":{"line":47,"column":28,"offset":2926},"indent":[]}},{"type":"text","value":" are unique names.","position":{"start":{"line":47,"column":28,"offset":2926},"end":{"line":47,"column":46,"offset":2944},"indent":[]}}],"position":{"start":{"line":47,"column":3,"offset":2901},"end":{"line":47,"column":46,"offset":2944},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The contents of ","position":{"start":{"line":49,"column":3,"offset":2948},"end":{"line":49,"column":19,"offset":2964},"indent":[]}},{"type":"inlineCode","value":"deploy.sh","position":{"start":{"line":49,"column":19,"offset":2964},"end":{"line":49,"column":30,"offset":2975},"indent":[]}},{"type":"text","value":" should look similar to this:","position":{"start":{"line":49,"column":30,"offset":2975},"end":{"line":49,"column":59,"offset":3004},"indent":[]}}],"position":{"start":{"line":49,"column":3,"offset":2948},"end":{"line":49,"column":59,"offset":3004},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":".\n.\n.\nBUCKET_NAME=\"my_cloudflarelogs_gcp_storage_bucket\"\nDATASET=\"my_cloudflare_logs\"\nTABLE=\"cloudflare_logs\"\n.\n.\n.","position":{"start":{"line":51,"column":3,"offset":3008},"end":{"line":61,"column":6,"offset":3155},"indent":[3,3,3,3,3,3,3,3,3,3]}}],"position":{"start":{"line":47,"column":1,"offset":2899},"end":{"line":61,"column":6,"offset":3155},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":45,"column":1,"offset":2780},"end":{"line":61,"column":6,"offset":3155},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"list","ordered":true,"start":4,"spread":false,"children":[{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Then in the ","position":{"start":{"line":63,"column":4,"offset":3160},"end":{"line":63,"column":16,"offset":3172},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Google Shell","position":{"start":{"line":63,"column":18,"offset":3174},"end":{"line":63,"column":30,"offset":3186},"indent":[]}}],"position":{"start":{"line":63,"column":16,"offset":3172},"end":{"line":63,"column":32,"offset":3188},"indent":[]}},{"type":"text","value":", run the following command to deploy your instance of the cloud function:","position":{"start":{"line":63,"column":32,"offset":3188},"end":{"line":63,"column":106,"offset":3262},"indent":[]}}],"position":{"start":{"line":63,"column":4,"offset":3160},"end":{"line":63,"column":106,"offset":3262},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"sh ./deploy.sh","position":{"start":{"line":65,"column":5,"offset":3268},"end":{"line":67,"column":8,"offset":3302},"indent":[5,5]}}],"position":{"start":{"line":63,"column":1,"offset":3157},"end":{"line":67,"column":8,"offset":3302},"indent":[1,1,1,1]}}],"position":{"start":{"line":63,"column":1,"offset":3157},"end":{"line":67,"column":8,"offset":3302},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Once you've deployed your new cloud function, verify that it appears in the ","position":{"start":{"line":69,"column":1,"offset":3304},"end":{"line":69,"column":77,"offset":3380},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Cloud Functions","position":{"start":{"line":69,"column":79,"offset":3382},"end":{"line":69,"column":94,"offset":3397},"indent":[]}}],"position":{"start":{"line":69,"column":77,"offset":3380},"end":{"line":69,"column":96,"offset":3399},"indent":[]}},{"type":"text","value":" interface by navigating to ","position":{"start":{"line":69,"column":96,"offset":3399},"end":{"line":69,"column":124,"offset":3427},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Google Cloud Platform","position":{"start":{"line":69,"column":126,"offset":3429},"end":{"line":69,"column":147,"offset":3450},"indent":[]}}],"position":{"start":{"line":69,"column":124,"offset":3427},"end":{"line":69,"column":149,"offset":3452},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":69,"column":149,"offset":3452},"end":{"line":69,"column":152,"offset":3455},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Compute","position":{"start":{"line":69,"column":154,"offset":3457},"end":{"line":69,"column":161,"offset":3464},"indent":[]}}],"position":{"start":{"line":69,"column":152,"offset":3455},"end":{"line":69,"column":163,"offset":3466},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":69,"column":163,"offset":3466},"end":{"line":69,"column":166,"offset":3469},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Cloud Functions","position":{"start":{"line":69,"column":168,"offset":3471},"end":{"line":69,"column":183,"offset":3486},"indent":[]}}],"position":{"start":{"line":69,"column":166,"offset":3469},"end":{"line":69,"column":185,"offset":3488},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":69,"column":185,"offset":3488},"end":{"line":69,"column":186,"offset":3489},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":3304},"end":{"line":69,"column":186,"offset":3489},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Also, verify that the data now appears in your table in ","position":{"start":{"line":71,"column":1,"offset":3491},"end":{"line":71,"column":57,"offset":3547},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"BigQuery","position":{"start":{"line":71,"column":59,"offset":3549},"end":{"line":71,"column":67,"offset":3557},"indent":[]}}],"position":{"start":{"line":71,"column":57,"offset":3547},"end":{"line":71,"column":69,"offset":3559},"indent":[]}},{"type":"text","value":" by navigating to the appropriate project in ","position":{"start":{"line":71,"column":69,"offset":3559},"end":{"line":71,"column":114,"offset":3604},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Google Cloud Platform","position":{"start":{"line":71,"column":116,"offset":3606},"end":{"line":71,"column":137,"offset":3627},"indent":[]}}],"position":{"start":{"line":71,"column":114,"offset":3604},"end":{"line":71,"column":139,"offset":3629},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":71,"column":139,"offset":3629},"end":{"line":71,"column":142,"offset":3632},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Big Data","position":{"start":{"line":71,"column":144,"offset":3634},"end":{"line":71,"column":152,"offset":3642},"indent":[]}}],"position":{"start":{"line":71,"column":142,"offset":3632},"end":{"line":71,"column":154,"offset":3644},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":71,"column":154,"offset":3644},"end":{"line":71,"column":157,"offset":3647},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"BigQuery","position":{"start":{"line":71,"column":159,"offset":3649},"end":{"line":71,"column":167,"offset":3657},"indent":[]}}],"position":{"start":{"line":71,"column":157,"offset":3647},"end":{"line":71,"column":169,"offset":3659},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":71,"column":169,"offset":3659},"end":{"line":71,"column":170,"offset":3660},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":3491},"end":{"line":71,"column":170,"offset":3660},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If everything is configured correctly, you can now query any request or visualize data with Google Data Studio or any other analytics tool that supports BigQuery as an input source.","position":{"start":{"line":73,"column":1,"offset":3662},"end":{"line":73,"column":182,"offset":3843},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":3662},"end":{"line":73,"column":182,"offset":3843},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Add fields in Google Cloud Function","position":{"start":{"line":75,"column":5,"offset":3849},"end":{"line":75,"column":40,"offset":3884},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":3845},"end":{"line":75,"column":40,"offset":3884},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To add fields in Cloud Function, edit the ","position":{"start":{"line":77,"column":1,"offset":3886},"end":{"line":77,"column":43,"offset":3928},"indent":[]}},{"type":"inlineCode","value":"schema.json","position":{"start":{"line":77,"column":43,"offset":3928},"end":{"line":77,"column":56,"offset":3941},"indent":[]}},{"type":"text","value":" file.","position":{"start":{"line":77,"column":56,"offset":3941},"end":{"line":77,"column":62,"offset":3947},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":3886},"end":{"line":77,"column":62,"offset":3947},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Open Google Cloud Function.","position":{"start":{"line":79,"column":4,"offset":3952},"end":{"line":79,"column":31,"offset":3979},"indent":[]}}],"position":{"start":{"line":79,"column":4,"offset":3952},"end":{"line":79,"column":31,"offset":3979},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":3949},"end":{"line":80,"column":1,"offset":3980},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the function you want to update.","position":{"start":{"line":81,"column":4,"offset":3984},"end":{"line":81,"column":43,"offset":4023},"indent":[]}}],"position":{"start":{"line":81,"column":4,"offset":3984},"end":{"line":81,"column":43,"offset":4023},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":3981},"end":{"line":82,"column":1,"offset":4024},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":83,"column":4,"offset":4028},"end":{"line":83,"column":10,"offset":4034},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"EDIT","position":{"start":{"line":83,"column":12,"offset":4036},"end":{"line":83,"column":16,"offset":4040},"indent":[]}}],"position":{"start":{"line":83,"column":10,"offset":4034},"end":{"line":83,"column":18,"offset":4042},"indent":[]}},{"type":"text","value":" on the Function details page.","position":{"start":{"line":83,"column":18,"offset":4042},"end":{"line":83,"column":48,"offset":4072},"indent":[]}}],"position":{"start":{"line":83,"column":4,"offset":4028},"end":{"line":83,"column":48,"offset":4072},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":4025},"end":{"line":84,"column":1,"offset":4073},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Select ","position":{"start":{"line":85,"column":4,"offset":4077},"end":{"line":85,"column":11,"offset":4084},"indent":[]}},{"type":"inlineCode","value":"schema.json","position":{"start":{"line":85,"column":11,"offset":4084},"end":{"line":85,"column":24,"offset":4097},"indent":[]}},{"type":"text","value":" from the list of files.","position":{"start":{"line":85,"column":24,"offset":4097},"end":{"line":85,"column":48,"offset":4121},"indent":[]}}],"position":{"start":{"line":85,"column":4,"offset":4077},"end":{"line":85,"column":48,"offset":4121},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":4074},"end":{"line":86,"column":1,"offset":4122},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the file editor, enter the ","position":{"start":{"line":87,"column":4,"offset":4126},"end":{"line":87,"column":34,"offset":4156},"indent":[]}},{"type":"inlineCode","value":"name","position":{"start":{"line":87,"column":34,"offset":4156},"end":{"line":87,"column":40,"offset":4162},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":87,"column":40,"offset":4162},"end":{"line":87,"column":42,"offset":4164},"indent":[]}},{"type":"inlineCode","value":"type","position":{"start":{"line":87,"column":42,"offset":4164},"end":{"line":87,"column":48,"offset":4170},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":87,"column":48,"offset":4170},"end":{"line":87,"column":54,"offset":4176},"indent":[]}},{"type":"inlineCode","value":"mode","position":{"start":{"line":87,"column":54,"offset":4176},"end":{"line":87,"column":60,"offset":4182},"indent":[]}},{"type":"text","value":" of any fields you would like to add. Follow the format shown in the file.","position":{"start":{"line":87,"column":60,"offset":4182},"end":{"line":87,"column":134,"offset":4256},"indent":[]}}],"position":{"start":{"line":87,"column":4,"offset":4126},"end":{"line":87,"column":134,"offset":4256},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":4123},"end":{"line":88,"column":1,"offset":4257},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":89,"column":4,"offset":4261},"end":{"line":89,"column":10,"offset":4267},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Deploy","position":{"start":{"line":89,"column":12,"offset":4269},"end":{"line":89,"column":18,"offset":4275},"indent":[]}}],"position":{"start":{"line":89,"column":10,"offset":4267},"end":{"line":89,"column":20,"offset":4277},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":89,"column":20,"offset":4277},"end":{"line":89,"column":21,"offset":4278},"indent":[]}}],"position":{"start":{"line":89,"column":4,"offset":4261},"end":{"line":89,"column":21,"offset":4278},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":4258},"end":{"line":89,"column":21,"offset":4278},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":3949},"end":{"line":89,"column":21,"offset":4278},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To debug in Cloud Function, click ","position":{"start":{"line":91,"column":1,"offset":4280},"end":{"line":91,"column":35,"offset":4314},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"VIEW LOGS","position":{"start":{"line":91,"column":37,"offset":4316},"end":{"line":91,"column":46,"offset":4325},"indent":[]}}],"position":{"start":{"line":91,"column":35,"offset":4314},"end":{"line":91,"column":48,"offset":4327},"indent":[]}},{"type":"text","value":" on the Function details page. This will take you to the Logs Viewer, where any errors will appear.","position":{"start":{"line":91,"column":48,"offset":4327},"end":{"line":91,"column":147,"offset":4426},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":4280},"end":{"line":91,"column":147,"offset":4426},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Add fields in BigQuery","position":{"start":{"line":93,"column":5,"offset":4432},"end":{"line":93,"column":27,"offset":4454},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":4428},"end":{"line":93,"column":27,"offset":4454},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To add fields in BigQuery, edit the schema.","position":{"start":{"line":95,"column":1,"offset":4456},"end":{"line":95,"column":44,"offset":4499},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":4456},"end":{"line":95,"column":44,"offset":4499},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Open BigQuery.","position":{"start":{"line":97,"column":4,"offset":4504},"end":{"line":97,"column":18,"offset":4518},"indent":[]}}],"position":{"start":{"line":97,"column":4,"offset":4504},"end":{"line":97,"column":18,"offset":4518},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":4501},"end":{"line":98,"column":1,"offset":4519},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the menu, expand ","position":{"start":{"line":99,"column":4,"offset":4523},"end":{"line":99,"column":24,"offset":4543},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"your-project-name","position":{"start":{"line":99,"column":26,"offset":4545},"end":{"line":99,"column":43,"offset":4562},"indent":[]}}],"position":{"start":{"line":99,"column":24,"offset":4543},"end":{"line":99,"column":45,"offset":4564},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":99,"column":45,"offset":4564},"end":{"line":99,"column":46,"offset":4565},"indent":[]}}],"position":{"start":{"line":99,"column":4,"offset":4523},"end":{"line":99,"column":46,"offset":4565},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":4520},"end":{"line":100,"column":1,"offset":4566},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Expand ","position":{"start":{"line":101,"column":4,"offset":4570},"end":{"line":101,"column":11,"offset":4577},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"cloudflare_data","position":{"start":{"line":101,"column":13,"offset":4579},"end":{"line":101,"column":28,"offset":4594},"indent":[]}}],"position":{"start":{"line":101,"column":11,"offset":4577},"end":{"line":101,"column":30,"offset":4596},"indent":[]}},{"type":"text","value":" and click ","position":{"start":{"line":101,"column":30,"offset":4596},"end":{"line":101,"column":41,"offset":4607},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"cf_analytics_logs","position":{"start":{"line":101,"column":43,"offset":4609},"end":{"line":101,"column":60,"offset":4626},"indent":[]}}],"position":{"start":{"line":101,"column":41,"offset":4607},"end":{"line":101,"column":62,"offset":4628},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":101,"column":62,"offset":4628},"end":{"line":101,"column":63,"offset":4629},"indent":[]}}],"position":{"start":{"line":101,"column":4,"offset":4570},"end":{"line":101,"column":63,"offset":4629},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":4567},"end":{"line":102,"column":1,"offset":4630},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the ","position":{"start":{"line":103,"column":4,"offset":4634},"end":{"line":103,"column":15,"offset":4645},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Schema","position":{"start":{"line":103,"column":17,"offset":4647},"end":{"line":103,"column":23,"offset":4653},"indent":[]}}],"position":{"start":{"line":103,"column":15,"offset":4645},"end":{"line":103,"column":25,"offset":4655},"indent":[]}},{"type":"text","value":" tab.","position":{"start":{"line":103,"column":25,"offset":4655},"end":{"line":103,"column":30,"offset":4660},"indent":[]}}],"position":{"start":{"line":103,"column":4,"offset":4634},"end":{"line":103,"column":30,"offset":4660},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":4631},"end":{"line":104,"column":1,"offset":4661},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Scroll to the bottom of the page, and click ","position":{"start":{"line":105,"column":4,"offset":4665},"end":{"line":105,"column":48,"offset":4709},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Edit schema","position":{"start":{"line":105,"column":50,"offset":4711},"end":{"line":105,"column":61,"offset":4722},"indent":[]}}],"position":{"start":{"line":105,"column":48,"offset":4709},"end":{"line":105,"column":63,"offset":4724},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":105,"column":63,"offset":4724},"end":{"line":105,"column":64,"offset":4725},"indent":[]}}],"position":{"start":{"line":105,"column":4,"offset":4665},"end":{"line":105,"column":64,"offset":4725},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":4662},"end":{"line":106,"column":1,"offset":4726},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"On the pop-up page, click ","position":{"start":{"line":107,"column":4,"offset":4730},"end":{"line":107,"column":30,"offset":4756},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Add field","position":{"start":{"line":107,"column":32,"offset":4758},"end":{"line":107,"column":41,"offset":4767},"indent":[]}}],"position":{"start":{"line":107,"column":30,"offset":4756},"end":{"line":107,"column":43,"offset":4769},"indent":[]}},{"type":"text","value":". Enter the field ","position":{"start":{"line":107,"column":43,"offset":4769},"end":{"line":107,"column":61,"offset":4787},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Name","position":{"start":{"line":107,"column":63,"offset":4789},"end":{"line":107,"column":67,"offset":4793},"indent":[]}}],"position":{"start":{"line":107,"column":61,"offset":4787},"end":{"line":107,"column":69,"offset":4795},"indent":[]}},{"type":"text","value":" and select the field ","position":{"start":{"line":107,"column":69,"offset":4795},"end":{"line":107,"column":91,"offset":4817},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Type","position":{"start":{"line":107,"column":93,"offset":4819},"end":{"line":107,"column":97,"offset":4823},"indent":[]}}],"position":{"start":{"line":107,"column":91,"offset":4817},"end":{"line":107,"column":99,"offset":4825},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":107,"column":99,"offset":4825},"end":{"line":107,"column":104,"offset":4830},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Mode","position":{"start":{"line":107,"column":106,"offset":4832},"end":{"line":107,"column":110,"offset":4836},"indent":[]}}],"position":{"start":{"line":107,"column":104,"offset":4830},"end":{"line":107,"column":112,"offset":4838},"indent":[]}},{"type":"text","value":" from the dropdowns.","position":{"start":{"line":107,"column":112,"offset":4838},"end":{"line":107,"column":132,"offset":4858},"indent":[]}}],"position":{"start":{"line":107,"column":4,"offset":4730},"end":{"line":107,"column":132,"offset":4858},"indent":[]}}],"position":{"start":{"line":107,"column":1,"offset":4727},"end":{"line":108,"column":1,"offset":4859},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":109,"column":4,"offset":4863},"end":{"line":109,"column":10,"offset":4869},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Save","position":{"start":{"line":109,"column":12,"offset":4871},"end":{"line":109,"column":16,"offset":4875},"indent":[]}}],"position":{"start":{"line":109,"column":10,"offset":4869},"end":{"line":109,"column":18,"offset":4877},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":109,"column":18,"offset":4877},"end":{"line":109,"column":19,"offset":4878},"indent":[]}}],"position":{"start":{"line":109,"column":4,"offset":4863},"end":{"line":109,"column":19,"offset":4878},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":4860},"end":{"line":109,"column":19,"offset":4878},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":4501},"end":{"line":109,"column":19,"offset":4878},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Task 2 - Analyze log data with Google Data Studio","position":{"start":{"line":111,"column":4,"offset":4883},"end":{"line":111,"column":53,"offset":4932},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":4880},"end":{"line":111,"column":53,"offset":4932},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To analyze and visualize logs, you can use ","position":{"start":{"line":113,"column":1,"offset":4934},"end":{"line":113,"column":44,"offset":4977},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Google Data Studio","position":{"start":{"line":113,"column":46,"offset":4979},"end":{"line":113,"column":64,"offset":4997},"indent":[]}}],"position":{"start":{"line":113,"column":44,"offset":4977},"end":{"line":113,"column":66,"offset":4999},"indent":[]}},{"type":"text","value":" or any other 3rd party services that supports Google BigQuery as an input source.","position":{"start":{"line":113,"column":66,"offset":4999},"end":{"line":113,"column":148,"offset":5081},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":4934},"end":{"line":113,"column":148,"offset":5081},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"With Google Data Studio, you can generate graphs and charts from a Google BigQuery table. You can also refresh the data in your reports and get real-time analytics.","position":{"start":{"line":115,"column":1,"offset":5083},"end":{"line":115,"column":165,"offset":5247},"indent":[]}}],"position":{"start":{"line":115,"column":1,"offset":5083},"end":{"line":115,"column":165,"offset":5247},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"About the Cloudflare Logs Insights Template","position":{"start":{"line":117,"column":5,"offset":5253},"end":{"line":117,"column":48,"offset":5296},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":5249},"end":{"line":117,"column":48,"offset":5296},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cloudflare has published a ","position":{"start":{"line":119,"column":1,"offset":5298},"end":{"line":119,"column":28,"offset":5325},"indent":[]}},{"type":"link","title":null,"url":"https://datastudio.google.com/u/0/reporting/1ez3m7Yf8AZLfM6aYRjfgF0pPpRvOwhTh/page/mAzI/preview","children":[{"type":"text","value":"Logs Insights Template","position":{"start":{"line":119,"column":29,"offset":5326},"end":{"line":119,"column":51,"offset":5348},"indent":[]}}],"position":{"start":{"line":119,"column":28,"offset":5325},"end":{"line":119,"column":149,"offset":5446},"indent":[]}},{"type":"text","value":" in the ","position":{"start":{"line":119,"column":149,"offset":5446},"end":{"line":119,"column":157,"offset":5454},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Google Data Studio Report Gallery","position":{"start":{"line":119,"column":159,"offset":5456},"end":{"line":119,"column":192,"offset":5489},"indent":[]}}],"position":{"start":{"line":119,"column":157,"offset":5454},"end":{"line":119,"column":194,"offset":5491},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":119,"column":194,"offset":5491},"end":{"line":119,"column":195,"offset":5492},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":5298},"end":{"line":119,"column":195,"offset":5492},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"../../../static/images/cf-logs-insights-template.png","alt":"Cloudflare Logs Insights Template on Google Data Studio Gallery","position":{"start":{"line":121,"column":1,"offset":5494},"end":{"line":121,"column":121,"offset":5614},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":5494},"end":{"line":121,"column":121,"offset":5614},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Cloudflare Insights Template features several dashboards, or report pages, to help you analyze your Cloudflare Logs data. You can also use filters within the dashboards to narrow down the analysis by date and time, device type, country, user agent, client IP, hostname, and more. These insights further help with debugging and tracing.","position":{"start":{"line":123,"column":1,"offset":5616},"end":{"line":123,"column":340,"offset":5955},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":5616},"end":{"line":123,"column":340,"offset":5955},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following dashboards are included in the Insights template:","position":{"start":{"line":125,"column":1,"offset":5957},"end":{"line":125,"column":64,"offset":6020},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":5957},"end":{"line":125,"column":64,"offset":6020},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Snapshot","position":{"start":{"line":127,"column":5,"offset":6026},"end":{"line":127,"column":13,"offset":6034},"indent":[]}}],"position":{"start":{"line":127,"column":3,"offset":6024},"end":{"line":127,"column":15,"offset":6036},"indent":[]}},{"type":"text","value":": Gives you an overview of the most important metrics from your Cloudflare logs, including total number of requests, top visitors by geography, IP, user agent, traffic type, total number of threats, and bandwidth usage.","position":{"start":{"line":127,"column":15,"offset":6036},"end":{"line":127,"column":234,"offset":6255},"indent":[]}}],"position":{"start":{"line":127,"column":3,"offset":6024},"end":{"line":127,"column":234,"offset":6255},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":6022},"end":{"line":128,"column":1,"offset":6256},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Security","position":{"start":{"line":129,"column":5,"offset":6261},"end":{"line":129,"column":13,"offset":6269},"indent":[]}}],"position":{"start":{"line":129,"column":3,"offset":6259},"end":{"line":129,"column":15,"offset":6271},"indent":[]}},{"type":"text","value":": Provides insights on threat identification and mitigations by our ","position":{"start":{"line":129,"column":15,"offset":6271},"end":{"line":129,"column":83,"offset":6339},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Web Application Firewall","position":{"start":{"line":129,"column":85,"offset":6341},"end":{"line":129,"column":109,"offset":6365},"indent":[]}}],"position":{"start":{"line":129,"column":83,"offset":6339},"end":{"line":129,"column":111,"offset":6367},"indent":[]}},{"type":"text","value":", including ","position":{"start":{"line":129,"column":111,"offset":6367},"end":{"line":129,"column":123,"offset":6379},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Firewall Rules","position":{"start":{"line":129,"column":125,"offset":6381},"end":{"line":129,"column":139,"offset":6395},"indent":[]}}],"position":{"start":{"line":129,"column":123,"offset":6379},"end":{"line":129,"column":141,"offset":6397},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":129,"column":141,"offset":6397},"end":{"line":129,"column":143,"offset":6399},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Rate Limiting","position":{"start":{"line":129,"column":145,"offset":6401},"end":{"line":129,"column":158,"offset":6414},"indent":[]}}],"position":{"start":{"line":129,"column":143,"offset":6399},"end":{"line":129,"column":160,"offset":6416},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":129,"column":160,"offset":6416},"end":{"line":129,"column":166,"offset":6422},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"IP Firewall","position":{"start":{"line":129,"column":168,"offset":6424},"end":{"line":129,"column":179,"offset":6435},"indent":[]}}],"position":{"start":{"line":129,"column":166,"offset":6422},"end":{"line":129,"column":181,"offset":6437},"indent":[]}},{"type":"text","value":". Metrics include total threats stopped, threat traffic source, blocked IPs and user agents, top threat requests, Firewall events (SQL injections, XSS, etc.), and rate limiting. Use this data to fine tune the firewall to target obvious threats and avoid false positives.","position":{"start":{"line":129,"column":181,"offset":6437},"end":{"line":129,"column":451,"offset":6707},"indent":[]}}],"position":{"start":{"line":129,"column":3,"offset":6259},"end":{"line":129,"column":451,"offset":6707},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":6257},"end":{"line":130,"column":1,"offset":6708},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Performance","position":{"start":{"line":131,"column":5,"offset":6713},"end":{"line":131,"column":16,"offset":6724},"indent":[]}}],"position":{"start":{"line":131,"column":3,"offset":6711},"end":{"line":131,"column":18,"offset":6726},"indent":[]}},{"type":"text","value":": Helps you identify and address issues like slow pages and caching misconfigurations. Metrics include total vs. cached bandwidth, cache ratio, top uncached requests, static vs. dynamic content, slowest URIs, and more.","position":{"start":{"line":131,"column":18,"offset":6726},"end":{"line":131,"column":236,"offset":6944},"indent":[]}}],"position":{"start":{"line":131,"column":3,"offset":6711},"end":{"line":131,"column":236,"offset":6944},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":6709},"end":{"line":132,"column":1,"offset":6945},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Reliability","position":{"start":{"line":133,"column":5,"offset":6950},"end":{"line":133,"column":16,"offset":6961},"indent":[]}}],"position":{"start":{"line":133,"column":3,"offset":6948},"end":{"line":133,"column":18,"offset":6963},"indent":[]}},{"type":"text","value":": Provides insights on the availability of your websites and applications. Metrics include origin response error ratio, origin response status over time, percentage of 3xx/4xx/5xx errors over time, and more.","position":{"start":{"line":133,"column":18,"offset":6963},"end":{"line":133,"column":225,"offset":7170},"indent":[]}}],"position":{"start":{"line":133,"column":3,"offset":6948},"end":{"line":133,"column":225,"offset":7170},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":6946},"end":{"line":133,"column":225,"offset":7170},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":6022},"end":{"line":133,"column":225,"offset":7170},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create a report based on the Insights Template","position":{"start":{"line":135,"column":5,"offset":7176},"end":{"line":135,"column":51,"offset":7222},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":7172},"end":{"line":135,"column":51,"offset":7222},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To create a report for your log data based on the Cloudflare template:","position":{"start":{"line":137,"column":1,"offset":7224},"end":{"line":137,"column":71,"offset":7294},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":7224},"end":{"line":137,"column":71,"offset":7294},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In Data Studio, open the Cloudflare ","position":{"start":{"line":139,"column":4,"offset":7299},"end":{"line":139,"column":40,"offset":7335},"indent":[]}},{"type":"link","title":null,"url":"https://datastudio.google.com/u/0/reporting/1ez3m7Yf8AZLfM6aYRjfgF0pPpRvOwhTh/page/mAzI/preview","children":[{"type":"text","value":"template","position":{"start":{"line":139,"column":41,"offset":7336},"end":{"line":139,"column":49,"offset":7344},"indent":[]}}],"position":{"start":{"line":139,"column":40,"offset":7335},"end":{"line":139,"column":147,"offset":7442},"indent":[]}},{"type":"text","value":" and click ","position":{"start":{"line":139,"column":147,"offset":7442},"end":{"line":139,"column":158,"offset":7453},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Use Template","position":{"start":{"line":139,"column":160,"offset":7455},"end":{"line":139,"column":172,"offset":7467},"indent":[]}}],"position":{"start":{"line":139,"column":158,"offset":7453},"end":{"line":139,"column":174,"offset":7469},"indent":[]}},{"type":"text","value":". A ","position":{"start":{"line":139,"column":174,"offset":7469},"end":{"line":139,"column":178,"offset":7473},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Create new report","position":{"start":{"line":139,"column":179,"offset":7474},"end":{"line":139,"column":196,"offset":7491},"indent":[]}}],"position":{"start":{"line":139,"column":178,"offset":7473},"end":{"line":139,"column":197,"offset":7492},"indent":[]}},{"type":"text","value":" dialog opens.","position":{"start":{"line":139,"column":197,"offset":7492},"end":{"line":139,"column":211,"offset":7506},"indent":[]}}],"position":{"start":{"line":139,"column":4,"offset":7299},"end":{"line":139,"column":211,"offset":7506},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":7296},"end":{"line":140,"column":1,"offset":7507},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Under the ","position":{"start":{"line":141,"column":4,"offset":7511},"end":{"line":141,"column":14,"offset":7521},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"New Data Source","position":{"start":{"line":141,"column":16,"offset":7523},"end":{"line":141,"column":31,"offset":7538},"indent":[]}}],"position":{"start":{"line":141,"column":14,"offset":7521},"end":{"line":141,"column":33,"offset":7540},"indent":[]}},{"type":"text","value":" dropdown, select ","position":{"start":{"line":141,"column":33,"offset":7540},"end":{"line":141,"column":51,"offset":7558},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Create New Data Source","position":{"start":{"line":141,"column":53,"offset":7560},"end":{"line":141,"column":75,"offset":7582},"indent":[]}}],"position":{"start":{"line":141,"column":51,"offset":7558},"end":{"line":141,"column":77,"offset":7584},"indent":[]}},{"type":"text","value":". A page opens where you can enter additional configuration details.","position":{"start":{"line":141,"column":77,"offset":7584},"end":{"line":141,"column":145,"offset":7652},"indent":[]}}],"position":{"start":{"line":141,"column":4,"offset":7511},"end":{"line":141,"column":145,"offset":7652},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":7508},"end":{"line":142,"column":1,"offset":7653},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Under ","position":{"start":{"line":143,"column":4,"offset":7657},"end":{"line":143,"column":10,"offset":7663},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Google Connectors","position":{"start":{"line":143,"column":12,"offset":7665},"end":{"line":143,"column":29,"offset":7682},"indent":[]}}],"position":{"start":{"line":143,"column":10,"offset":7663},"end":{"line":143,"column":31,"offset":7684},"indent":[]}},{"type":"text","value":", locate the ","position":{"start":{"line":143,"column":31,"offset":7684},"end":{"line":143,"column":44,"offset":7697},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"BigQuery","position":{"start":{"line":143,"column":46,"offset":7699},"end":{"line":143,"column":54,"offset":7707},"indent":[]}}],"position":{"start":{"line":143,"column":44,"offset":7697},"end":{"line":143,"column":56,"offset":7709},"indent":[]}},{"type":"text","value":" card and click ","position":{"start":{"line":143,"column":56,"offset":7709},"end":{"line":143,"column":72,"offset":7725},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Select","position":{"start":{"line":143,"column":74,"offset":7727},"end":{"line":143,"column":80,"offset":7733},"indent":[]}}],"position":{"start":{"line":143,"column":72,"offset":7725},"end":{"line":143,"column":82,"offset":7735},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":143,"column":82,"offset":7735},"end":{"line":143,"column":83,"offset":7736},"indent":[]}}],"position":{"start":{"line":143,"column":4,"offset":7657},"end":{"line":143,"column":83,"offset":7736},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":7654},"end":{"line":144,"column":1,"offset":7737},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Next under ","position":{"start":{"line":145,"column":4,"offset":7741},"end":{"line":145,"column":15,"offset":7752},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"MY PROJECTS","position":{"start":{"line":145,"column":17,"offset":7754},"end":{"line":145,"column":28,"offset":7765},"indent":[]}}],"position":{"start":{"line":145,"column":15,"offset":7752},"end":{"line":145,"column":30,"offset":7767},"indent":[]}},{"type":"text","value":", select your ","position":{"start":{"line":145,"column":30,"offset":7767},"end":{"line":145,"column":44,"offset":7781},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Project","position":{"start":{"line":145,"column":46,"offset":7783},"end":{"line":145,"column":53,"offset":7790},"indent":[]}}],"position":{"start":{"line":145,"column":44,"offset":7781},"end":{"line":145,"column":55,"offset":7792},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":145,"column":55,"offset":7792},"end":{"line":145,"column":57,"offset":7794},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Dataset","position":{"start":{"line":145,"column":59,"offset":7796},"end":{"line":145,"column":66,"offset":7803},"indent":[]}}],"position":{"start":{"line":145,"column":57,"offset":7794},"end":{"line":145,"column":68,"offset":7805},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":145,"column":68,"offset":7805},"end":{"line":145,"column":74,"offset":7811},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Table","position":{"start":{"line":145,"column":76,"offset":7813},"end":{"line":145,"column":81,"offset":7818},"indent":[]}}],"position":{"start":{"line":145,"column":74,"offset":7811},"end":{"line":145,"column":83,"offset":7820},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":145,"column":83,"offset":7820},"end":{"line":145,"column":84,"offset":7821},"indent":[]}}],"position":{"start":{"line":145,"column":4,"offset":7741},"end":{"line":145,"column":84,"offset":7821},"indent":[]}}],"position":{"start":{"line":145,"column":1,"offset":7738},"end":{"line":146,"column":1,"offset":7822},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":147,"column":4,"offset":7826},"end":{"line":147,"column":10,"offset":7832},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Connect","position":{"start":{"line":147,"column":12,"offset":7834},"end":{"line":147,"column":19,"offset":7841},"indent":[]}}],"position":{"start":{"line":147,"column":10,"offset":7832},"end":{"line":147,"column":21,"offset":7843},"indent":[]}},{"type":"text","value":" in the upper right.","position":{"start":{"line":147,"column":21,"offset":7843},"end":{"line":147,"column":41,"offset":7863},"indent":[]}}],"position":{"start":{"line":147,"column":4,"offset":7826},"end":{"line":147,"column":41,"offset":7863},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":7823},"end":{"line":148,"column":1,"offset":7864},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the list of Cloudflare Logs fields, locate ","position":{"start":{"line":149,"column":4,"offset":7868},"end":{"line":149,"column":50,"offset":7914},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"EdgeStartTimestamp","position":{"start":{"line":149,"column":51,"offset":7915},"end":{"line":149,"column":69,"offset":7933},"indent":[]}}],"position":{"start":{"line":149,"column":50,"offset":7914},"end":{"line":149,"column":70,"offset":7934},"indent":[]}},{"type":"text","value":", click the three vertical dots and select ","position":{"start":{"line":149,"column":70,"offset":7934},"end":{"line":149,"column":113,"offset":7977},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Duplicate","position":{"start":{"line":149,"column":115,"offset":7979},"end":{"line":149,"column":124,"offset":7988},"indent":[]}}],"position":{"start":{"line":149,"column":113,"offset":7977},"end":{"line":149,"column":126,"offset":7990},"indent":[]}},{"type":"text","value":". This creates ","position":{"start":{"line":149,"column":126,"offset":7990},"end":{"line":149,"column":141,"offset":8005},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Copy of EdgeStartTimestamp","position":{"start":{"line":149,"column":142,"offset":8006},"end":{"line":149,"column":168,"offset":8032},"indent":[]}}],"position":{"start":{"line":149,"column":141,"offset":8005},"end":{"line":149,"column":169,"offset":8033},"indent":[]}},{"type":"text","value":" right below ","position":{"start":{"line":149,"column":169,"offset":8033},"end":{"line":149,"column":182,"offset":8046},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"EdgeStartTimestamp","position":{"start":{"line":149,"column":183,"offset":8047},"end":{"line":149,"column":201,"offset":8065},"indent":[]}}],"position":{"start":{"line":149,"column":182,"offset":8046},"end":{"line":149,"column":202,"offset":8066},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":149,"column":202,"offset":8066},"end":{"line":149,"column":203,"offset":8067},"indent":[]}}],"position":{"start":{"line":149,"column":4,"offset":7868},"end":{"line":149,"column":203,"offset":8067},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":7865},"end":{"line":150,"column":1,"offset":8068},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Update the ","position":{"start":{"line":151,"column":4,"offset":8072},"end":{"line":151,"column":15,"offset":8083},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Type","position":{"start":{"line":151,"column":17,"offset":8085},"end":{"line":151,"column":21,"offset":8089},"indent":[]}}],"position":{"start":{"line":151,"column":15,"offset":8083},"end":{"line":151,"column":23,"offset":8091},"indent":[]}},{"type":"text","value":" for ","position":{"start":{"line":151,"column":23,"offset":8091},"end":{"line":151,"column":28,"offset":8096},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Copy of EdgeStartTimestamp","position":{"start":{"line":151,"column":29,"offset":8097},"end":{"line":151,"column":55,"offset":8123},"indent":[]}}],"position":{"start":{"line":151,"column":28,"offset":8096},"end":{"line":151,"column":56,"offset":8124},"indent":[]}},{"type":"text","value":" to set it to ","position":{"start":{"line":151,"column":56,"offset":8124},"end":{"line":151,"column":70,"offset":8138},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Date & Time","position":{"start":{"line":151,"column":71,"offset":8139},"end":{"line":151,"column":82,"offset":8150},"indent":[]}}],"position":{"start":{"line":151,"column":70,"offset":8138},"end":{"line":151,"column":83,"offset":8151},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":151,"column":83,"offset":8151},"end":{"line":151,"column":86,"offset":8154},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Date Hour (YYYYMMDDHH)","position":{"start":{"line":151,"column":87,"offset":8155},"end":{"line":151,"column":109,"offset":8177},"indent":[]}}],"position":{"start":{"line":151,"column":86,"offset":8154},"end":{"line":151,"column":110,"offset":8178},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":151,"column":110,"offset":8178},"end":{"line":151,"column":111,"offset":8179},"indent":[]}}],"position":{"start":{"line":151,"column":4,"offset":8072},"end":{"line":151,"column":111,"offset":8179},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":8069},"end":{"line":152,"column":1,"offset":8180},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Next, update the ","position":{"start":{"line":153,"column":4,"offset":8184},"end":{"line":153,"column":21,"offset":8201},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Type","position":{"start":{"line":153,"column":23,"offset":8203},"end":{"line":153,"column":27,"offset":8207},"indent":[]}}],"position":{"start":{"line":153,"column":21,"offset":8201},"end":{"line":153,"column":29,"offset":8209},"indent":[]}},{"type":"text","value":" for each of the following fields as indicated below:","position":{"start":{"line":153,"column":29,"offset":8209},"end":{"line":153,"column":82,"offset":8262},"indent":[]}}],"position":{"start":{"line":153,"column":4,"offset":8184},"end":{"line":153,"column":82,"offset":8262},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":8181},"end":{"line":153,"column":82,"offset":8262},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":7296},"end":{"line":153,"column":82,"offset":8262},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"<table style=\"border: solid 2px darkgrey; width: 100%;\">\n    <thead style=\"background: #ffeadf;\">\n        <tr>\n            <th>Cloudflare Log Field</th>\n            <th>Type</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>ZoneID</td>\n            <td>Text</td>\n        </tr>\n        <tr>\n            <td>EdgeColoID</td>\n            <td>Text</td>\n        </tr>\n        <tr>\n            <td>ClientSrcPort</td>\n            <td>Text</td>\n        </tr>\n        <tr>\n            <td>EdgeResponseStatus</td>\n            <td>Number</td>\n        </tr>\n        <tr>\n            <td>EdgeRateLimitID</td>\n            <td>Text&nbsp;</td>\n        </tr>\n        <tr>\n            <td>\n                <div>\n                    <div>Copy of EdgeStartTimestamp</div>\n                </div>\n            </td>\n            <td>Date &amp; Time &gt; Date Hour (YYYYMMDDHH)</td>\n        </tr>\n        <tr>\n            <td>OriginResponseStatus</td>\n            <td>Number</td>\n        </tr>\n        <tr>\n            <td>ClientASN</td>\n            <td>Text</td>\n        </tr>\n        <tr>\n            <td>ClientCountry</td>\n            <td>Geo &gt; Country</td>\n        </tr>\n        <tr>\n            <td>CacheResponseStatus</td>\n            <td>Text</td>\n        </tr>\n    </tbody>\n</table>","position":{"start":{"line":155,"column":1,"offset":8264},"end":{"line":208,"column":9,"offset":9553},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"list","ordered":true,"start":9,"spread":true,"children":[{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Next, add a new field to identify and calculate threat. In the top right corner, click ","position":{"start":{"line":210,"column":4,"offset":9558},"end":{"line":210,"column":91,"offset":9645},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"+ ADD A FIELD","position":{"start":{"line":210,"column":93,"offset":9647},"end":{"line":210,"column":106,"offset":9660},"indent":[]}}],"position":{"start":{"line":210,"column":91,"offset":9645},"end":{"line":210,"column":108,"offset":9662},"indent":[]}},{"type":"text","value":", then in the add field UI:\n","position":{"start":{"line":210,"column":108,"offset":9662},"end":{"line":211,"column":4,"offset":9693},"indent":[4]}},{"type":"emphasis","children":[{"type":"text","value":" For ","position":{"start":{"line":211,"column":5,"offset":9694},"end":{"line":211,"column":10,"offset":9699},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Field Name","position":{"start":{"line":211,"column":12,"offset":9701},"end":{"line":211,"column":22,"offset":9711},"indent":[]}}],"position":{"start":{"line":211,"column":10,"offset":9699},"end":{"line":211,"column":24,"offset":9713},"indent":[]}},{"type":"text","value":", type ","position":{"start":{"line":211,"column":24,"offset":9713},"end":{"line":211,"column":31,"offset":9720},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Threats","position":{"start":{"line":211,"column":32,"offset":9721},"end":{"line":211,"column":39,"offset":9728},"indent":[]}}],"position":{"start":{"line":211,"column":31,"offset":9720},"end":{"line":211,"column":40,"offset":9729},"indent":[]}},{"type":"text","value":".\n","position":{"start":{"line":211,"column":40,"offset":9729},"end":{"line":212,"column":4,"offset":9734},"indent":[4]}}],"position":{"start":{"line":211,"column":4,"offset":9693},"end":{"line":212,"column":5,"offset":9735},"indent":[4]}},{"type":"text","value":" In the ","position":{"start":{"line":212,"column":5,"offset":9735},"end":{"line":212,"column":13,"offset":9743},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Formula","position":{"start":{"line":212,"column":15,"offset":9745},"end":{"line":212,"column":22,"offset":9752},"indent":[]}}],"position":{"start":{"line":212,"column":13,"offset":9743},"end":{"line":212,"column":24,"offset":9754},"indent":[]}},{"type":"text","value":" text box, paste the following code:","position":{"start":{"line":212,"column":24,"offset":9754},"end":{"line":212,"column":60,"offset":9790},"indent":[]}}],"position":{"start":{"line":210,"column":4,"offset":9558},"end":{"line":212,"column":60,"offset":9790},"indent":[4,4]}},{"type":"code","lang":"bash","meta":null,"value":"CASE\nWHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"ip\" THEN \"ip block\"\nWHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"ctry\" THEN \"country block\"\nWHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"zl\" THEN \"routed by zone lockdown\"\n WHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"ua\" THEN \"blocked user agent\"\nWHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"rateLimit\" THEN \"rate-limiting rule\"\n WHEN EdgePathingSrc = \"bic\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"unknown\" THEN \"browser integrity check\"\nWHEN EdgePathingSrc = \"hot\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"unknown\" THEN \"blocked hotlink\"\nWHEN EdgePathingSrc = \"macro\" AND EdgePathingOp = \"chl\" AND EdgePathingStatus = \"captchaFail\" THEN \"CAPTCHA challenge failed\"\nWHEN EdgePathingSrc = \"macro\" AND EdgePathingOp = \"chl\" AND EdgePathingStatus = \"jschlFail\" THEN \"java script challenge failed\"\nWHEN EdgePathingSrc = \"filterBasedFirewall\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"unknown\" THEN \"blocked by filter based firewall\"\nWHEN EdgePathingSrc = \"filterBasedFirewall\" AND EdgePathingOp = \"chl\" THEN \"challenged by filter based firewall\"\nElse \"Other\"\nEND","position":{"start":{"line":214,"column":4,"offset":9795},"end":{"line":229,"column":7,"offset":11165},"indent":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]}},{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":230,"column":4,"offset":11169},"end":{"line":230,"column":6,"offset":11171},"indent":[]}},{"type":"text","value":" Click ","position":{"start":{"line":230,"column":6,"offset":11171},"end":{"line":230,"column":13,"offset":11178},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Save","position":{"start":{"line":230,"column":15,"offset":11180},"end":{"line":230,"column":19,"offset":11184},"indent":[]}}],"position":{"start":{"line":230,"column":13,"offset":11178},"end":{"line":230,"column":21,"offset":11186},"indent":[]}},{"type":"text","value":" in the lower right corner.","position":{"start":{"line":230,"column":21,"offset":11186},"end":{"line":230,"column":48,"offset":11213},"indent":[]}}],"position":{"start":{"line":230,"column":4,"offset":11169},"end":{"line":230,"column":48,"offset":11213},"indent":[]}}],"position":{"start":{"line":210,"column":1,"offset":9555},"end":{"line":231,"column":1,"offset":11214},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Finally, add another new field for grouping status error codes. In the top right corner, click ","position":{"start":{"line":232,"column":5,"offset":11219},"end":{"line":232,"column":100,"offset":11314},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"+ ADD A FIELD","position":{"start":{"line":232,"column":102,"offset":11316},"end":{"line":232,"column":115,"offset":11329},"indent":[]}}],"position":{"start":{"line":232,"column":100,"offset":11314},"end":{"line":232,"column":117,"offset":11331},"indent":[]}},{"type":"text","value":", then in the add field UI:\n","position":{"start":{"line":232,"column":117,"offset":11331},"end":{"line":233,"column":5,"offset":11363},"indent":[5]}},{"type":"emphasis","children":[{"type":"text","value":" For ","position":{"start":{"line":233,"column":6,"offset":11364},"end":{"line":233,"column":11,"offset":11369},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Field Name","position":{"start":{"line":233,"column":13,"offset":11371},"end":{"line":233,"column":23,"offset":11381},"indent":[]}}],"position":{"start":{"line":233,"column":11,"offset":11369},"end":{"line":233,"column":25,"offset":11383},"indent":[]}},{"type":"text","value":", type ","position":{"start":{"line":233,"column":25,"offset":11383},"end":{"line":233,"column":32,"offset":11390},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"EdgeResponseStatus_Class","position":{"start":{"line":233,"column":33,"offset":11391},"end":{"line":233,"column":57,"offset":11415},"indent":[]}}],"position":{"start":{"line":233,"column":32,"offset":11390},"end":{"line":233,"column":58,"offset":11416},"indent":[]}},{"type":"text","value":".\n","position":{"start":{"line":233,"column":58,"offset":11416},"end":{"line":234,"column":5,"offset":11422},"indent":[5]}}],"position":{"start":{"line":233,"column":5,"offset":11363},"end":{"line":234,"column":6,"offset":11423},"indent":[5]}},{"type":"text","value":" In the ","position":{"start":{"line":234,"column":6,"offset":11423},"end":{"line":234,"column":14,"offset":11431},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Formula","position":{"start":{"line":234,"column":16,"offset":11433},"end":{"line":234,"column":23,"offset":11440},"indent":[]}}],"position":{"start":{"line":234,"column":14,"offset":11431},"end":{"line":234,"column":25,"offset":11442},"indent":[]}},{"type":"text","value":" text box, paste the following code:","position":{"start":{"line":234,"column":25,"offset":11442},"end":{"line":234,"column":61,"offset":11478},"indent":[]}}],"position":{"start":{"line":232,"column":5,"offset":11219},"end":{"line":234,"column":61,"offset":11478},"indent":[5,5]}},{"type":"code","lang":"bash","meta":null,"value":"CASE\nWHEN EdgeResponseStatus > 199 AND EdgeResponseStatus < 300 THEN \"2xx\"\nWHEN EdgeResponseStatus > 299 AND EdgeResponseStatus < 400 THEN \"3xx\"\nWHEN EdgeResponseStatus > 399 AND EdgeResponseStatus < 500 THEN \"4xx\"\nWHEN EdgeResponseStatus > 499 AND EdgeResponseStatus < 600 THEN \"5xx\"\nWHEN EdgeResponseStatus = 0 THEN \"0 - Served from CF Edge\"\nElse \"Other\"\nEND","position":{"start":{"line":236,"column":5,"offset":11484},"end":{"line":245,"column":8,"offset":11892},"indent":[5,5,5,5,5,5,5,5,5]}}],"position":{"start":{"line":232,"column":1,"offset":11215},"end":{"line":245,"column":8,"offset":11892},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":210,"column":1,"offset":9555},"end":{"line":245,"column":8,"offset":11892},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":247,"column":3,"offset":11896},"end":{"line":247,"column":9,"offset":11902},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Save","position":{"start":{"line":247,"column":11,"offset":11904},"end":{"line":247,"column":15,"offset":11908},"indent":[]}}],"position":{"start":{"line":247,"column":9,"offset":11902},"end":{"line":247,"column":17,"offset":11910},"indent":[]}},{"type":"text","value":" in the lower right corner.","position":{"start":{"line":247,"column":17,"offset":11910},"end":{"line":247,"column":44,"offset":11937},"indent":[]}}],"position":{"start":{"line":247,"column":3,"offset":11896},"end":{"line":247,"column":44,"offset":11937},"indent":[]}}],"position":{"start":{"line":247,"column":1,"offset":11894},"end":{"line":247,"column":44,"offset":11937},"indent":[]}}],"position":{"start":{"line":247,"column":1,"offset":11894},"end":{"line":247,"column":44,"offset":11937},"indent":[]}},{"type":"list","ordered":true,"start":11,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To finish, click ","position":{"start":{"line":249,"column":5,"offset":11943},"end":{"line":249,"column":22,"offset":11960},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Add to Report","position":{"start":{"line":249,"column":24,"offset":11962},"end":{"line":249,"column":37,"offset":11975},"indent":[]}}],"position":{"start":{"line":249,"column":22,"offset":11960},"end":{"line":249,"column":39,"offset":11977},"indent":[]}},{"type":"text","value":" in the upper right.","position":{"start":{"line":249,"column":39,"offset":11977},"end":{"line":249,"column":59,"offset":11997},"indent":[]}}],"position":{"start":{"line":249,"column":5,"offset":11943},"end":{"line":249,"column":59,"offset":11997},"indent":[]}}],"position":{"start":{"line":249,"column":1,"offset":11939},"end":{"line":249,"column":59,"offset":11997},"indent":[]}}],"position":{"start":{"line":249,"column":1,"offset":11939},"end":{"line":249,"column":59,"offset":11997},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Refreshing fields and filters manually","position":{"start":{"line":251,"column":5,"offset":12003},"end":{"line":251,"column":43,"offset":12041},"indent":[]}}],"position":{"start":{"line":251,"column":1,"offset":11999},"end":{"line":251,"column":43,"offset":12041},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"After you've added your report, you will notice that not all report components render successfully. To fix this, you need to resolve any errors related to invalid dimensions, metrics, or filters that appear in the affected report components.","position":{"start":{"line":253,"column":1,"offset":12043},"end":{"line":253,"column":242,"offset":12284},"indent":[]}}],"position":{"start":{"line":253,"column":1,"offset":12043},"end":{"line":253,"column":242,"offset":12284},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Update Data Studio with new fields","position":{"start":{"line":255,"column":6,"offset":12291},"end":{"line":255,"column":40,"offset":12325},"indent":[]}}],"position":{"start":{"line":255,"column":1,"offset":12286},"end":{"line":255,"column":40,"offset":12325},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To update Data Studio with fields added to BigQuery, refresh fields for the data source.","position":{"start":{"line":257,"column":1,"offset":12327},"end":{"line":257,"column":89,"offset":12415},"indent":[]}}],"position":{"start":{"line":257,"column":1,"offset":12327},"end":{"line":257,"column":89,"offset":12415},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In Data Studio, open the Cloudflare dashboard in ","position":{"start":{"line":259,"column":4,"offset":12420},"end":{"line":259,"column":53,"offset":12469},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Edit","position":{"start":{"line":259,"column":55,"offset":12471},"end":{"line":259,"column":59,"offset":12475},"indent":[]}}],"position":{"start":{"line":259,"column":53,"offset":12469},"end":{"line":259,"column":61,"offset":12477},"indent":[]}},{"type":"text","value":" mode.","position":{"start":{"line":259,"column":61,"offset":12477},"end":{"line":259,"column":67,"offset":12483},"indent":[]}}],"position":{"start":{"line":259,"column":4,"offset":12420},"end":{"line":259,"column":67,"offset":12483},"indent":[]}}],"position":{"start":{"line":259,"column":1,"offset":12417},"end":{"line":260,"column":1,"offset":12484},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Expand the ","position":{"start":{"line":261,"column":4,"offset":12488},"end":{"line":261,"column":15,"offset":12499},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Resource","position":{"start":{"line":261,"column":17,"offset":12501},"end":{"line":261,"column":25,"offset":12509},"indent":[]}}],"position":{"start":{"line":261,"column":15,"offset":12499},"end":{"line":261,"column":27,"offset":12511},"indent":[]}},{"type":"text","value":" menu and select ","position":{"start":{"line":261,"column":27,"offset":12511},"end":{"line":261,"column":44,"offset":12528},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Manage added data sources","position":{"start":{"line":261,"column":46,"offset":12530},"end":{"line":261,"column":71,"offset":12555},"indent":[]}}],"position":{"start":{"line":261,"column":44,"offset":12528},"end":{"line":261,"column":73,"offset":12557},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":261,"column":73,"offset":12557},"end":{"line":261,"column":74,"offset":12558},"indent":[]}}],"position":{"start":{"line":261,"column":4,"offset":12488},"end":{"line":261,"column":74,"offset":12558},"indent":[]}}],"position":{"start":{"line":261,"column":1,"offset":12485},"end":{"line":262,"column":1,"offset":12559},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the ","position":{"start":{"line":263,"column":4,"offset":12563},"end":{"line":263,"column":14,"offset":12573},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"EDIT","position":{"start":{"line":263,"column":16,"offset":12575},"end":{"line":263,"column":20,"offset":12579},"indent":[]}}],"position":{"start":{"line":263,"column":14,"offset":12573},"end":{"line":263,"column":22,"offset":12581},"indent":[]}},{"type":"text","value":" action for the data source that you want to update.","position":{"start":{"line":263,"column":22,"offset":12581},"end":{"line":263,"column":74,"offset":12633},"indent":[]}}],"position":{"start":{"line":263,"column":4,"offset":12563},"end":{"line":263,"column":74,"offset":12633},"indent":[]}}],"position":{"start":{"line":263,"column":1,"offset":12560},"end":{"line":264,"column":1,"offset":12634},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":265,"column":4,"offset":12638},"end":{"line":265,"column":10,"offset":12644},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"REFRESH FIELDS","position":{"start":{"line":265,"column":12,"offset":12646},"end":{"line":265,"column":26,"offset":12660},"indent":[]}}],"position":{"start":{"line":265,"column":10,"offset":12644},"end":{"line":265,"column":28,"offset":12662},"indent":[]}},{"type":"text","value":" below the table. A window with ","position":{"start":{"line":265,"column":28,"offset":12662},"end":{"line":265,"column":60,"offset":12694},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Field changes found","position":{"start":{"line":265,"column":62,"offset":12696},"end":{"line":265,"column":81,"offset":12715},"indent":[]}}],"position":{"start":{"line":265,"column":60,"offset":12694},"end":{"line":265,"column":83,"offset":12717},"indent":[]}},{"type":"text","value":" in BigQuery will pop up.","position":{"start":{"line":265,"column":83,"offset":12717},"end":{"line":265,"column":108,"offset":12742},"indent":[]}}],"position":{"start":{"line":265,"column":4,"offset":12638},"end":{"line":265,"column":108,"offset":12742},"indent":[]}}],"position":{"start":{"line":265,"column":1,"offset":12635},"end":{"line":266,"column":1,"offset":12743},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To add the new fields, click ","position":{"start":{"line":267,"column":4,"offset":12747},"end":{"line":267,"column":33,"offset":12776},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"APPLY","position":{"start":{"line":267,"column":35,"offset":12778},"end":{"line":267,"column":40,"offset":12783},"indent":[]}}],"position":{"start":{"line":267,"column":33,"offset":12776},"end":{"line":267,"column":42,"offset":12785},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":267,"column":42,"offset":12785},"end":{"line":267,"column":43,"offset":12786},"indent":[]}}],"position":{"start":{"line":267,"column":4,"offset":12747},"end":{"line":267,"column":43,"offset":12786},"indent":[]}}],"position":{"start":{"line":267,"column":1,"offset":12744},"end":{"line":267,"column":43,"offset":12786},"indent":[]}}],"position":{"start":{"line":259,"column":1,"offset":12417},"end":{"line":267,"column":43,"offset":12786},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You can also create custom fields directly in Data Studio.","position":{"start":{"line":269,"column":1,"offset":12788},"end":{"line":269,"column":59,"offset":12846},"indent":[]}}],"position":{"start":{"line":269,"column":1,"offset":12788},"end":{"line":269,"column":59,"offset":12846},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In Data Studio, open the Cloudflare dashboard in ","position":{"start":{"line":271,"column":4,"offset":12851},"end":{"line":271,"column":53,"offset":12900},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Edit","position":{"start":{"line":271,"column":55,"offset":12902},"end":{"line":271,"column":59,"offset":12906},"indent":[]}}],"position":{"start":{"line":271,"column":53,"offset":12900},"end":{"line":271,"column":61,"offset":12908},"indent":[]}},{"type":"text","value":" mode.","position":{"start":{"line":271,"column":61,"offset":12908},"end":{"line":271,"column":67,"offset":12914},"indent":[]}}],"position":{"start":{"line":271,"column":4,"offset":12851},"end":{"line":271,"column":67,"offset":12914},"indent":[]}}],"position":{"start":{"line":271,"column":1,"offset":12848},"end":{"line":272,"column":1,"offset":12915},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Expand the ","position":{"start":{"line":273,"column":4,"offset":12919},"end":{"line":273,"column":15,"offset":12930},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Resource","position":{"start":{"line":273,"column":17,"offset":12932},"end":{"line":273,"column":25,"offset":12940},"indent":[]}}],"position":{"start":{"line":273,"column":15,"offset":12930},"end":{"line":273,"column":27,"offset":12942},"indent":[]}},{"type":"text","value":" menu and select ","position":{"start":{"line":273,"column":27,"offset":12942},"end":{"line":273,"column":44,"offset":12959},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Manage added data sources","position":{"start":{"line":273,"column":46,"offset":12961},"end":{"line":273,"column":71,"offset":12986},"indent":[]}}],"position":{"start":{"line":273,"column":44,"offset":12959},"end":{"line":273,"column":73,"offset":12988},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":273,"column":73,"offset":12988},"end":{"line":273,"column":74,"offset":12989},"indent":[]}}],"position":{"start":{"line":273,"column":4,"offset":12919},"end":{"line":273,"column":74,"offset":12989},"indent":[]}}],"position":{"start":{"line":273,"column":1,"offset":12916},"end":{"line":274,"column":1,"offset":12990},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the ","position":{"start":{"line":275,"column":4,"offset":12994},"end":{"line":275,"column":14,"offset":13004},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"EDIT","position":{"start":{"line":275,"column":16,"offset":13006},"end":{"line":275,"column":20,"offset":13010},"indent":[]}}],"position":{"start":{"line":275,"column":14,"offset":13004},"end":{"line":275,"column":22,"offset":13012},"indent":[]}},{"type":"text","value":" action for the data source that you want to add a custom field to.","position":{"start":{"line":275,"column":22,"offset":13012},"end":{"line":275,"column":89,"offset":13079},"indent":[]}}],"position":{"start":{"line":275,"column":4,"offset":12994},"end":{"line":275,"column":89,"offset":13079},"indent":[]}}],"position":{"start":{"line":275,"column":1,"offset":12991},"end":{"line":276,"column":1,"offset":13080},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":277,"column":4,"offset":13084},"end":{"line":277,"column":10,"offset":13090},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"ADD A FIELD","position":{"start":{"line":277,"column":12,"offset":13092},"end":{"line":277,"column":23,"offset":13103},"indent":[]}}],"position":{"start":{"line":277,"column":10,"offset":13090},"end":{"line":277,"column":25,"offset":13105},"indent":[]}},{"type":"text","value":" above the table.","position":{"start":{"line":277,"column":25,"offset":13105},"end":{"line":277,"column":42,"offset":13122},"indent":[]}}],"position":{"start":{"line":277,"column":4,"offset":13084},"end":{"line":277,"column":42,"offset":13122},"indent":[]}}],"position":{"start":{"line":277,"column":1,"offset":13081},"end":{"line":278,"column":1,"offset":13123},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Enter a formula in the ","position":{"start":{"line":279,"column":4,"offset":13127},"end":{"line":279,"column":27,"offset":13150},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Formula","position":{"start":{"line":279,"column":29,"offset":13152},"end":{"line":279,"column":36,"offset":13159},"indent":[]}}],"position":{"start":{"line":279,"column":27,"offset":13150},"end":{"line":279,"column":38,"offset":13161},"indent":[]}},{"type":"text","value":" editor.","position":{"start":{"line":279,"column":38,"offset":13161},"end":{"line":279,"column":46,"offset":13169},"indent":[]}}],"position":{"start":{"line":279,"column":4,"offset":13127},"end":{"line":279,"column":46,"offset":13169},"indent":[]}}],"position":{"start":{"line":279,"column":1,"offset":13124},"end":{"line":280,"column":1,"offset":13170},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":281,"column":4,"offset":13174},"end":{"line":281,"column":10,"offset":13180},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"SAVE","position":{"start":{"line":281,"column":12,"offset":13182},"end":{"line":281,"column":16,"offset":13186},"indent":[]}}],"position":{"start":{"line":281,"column":10,"offset":13180},"end":{"line":281,"column":18,"offset":13188},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":281,"column":18,"offset":13188},"end":{"line":281,"column":19,"offset":13189},"indent":[]}}],"position":{"start":{"line":281,"column":4,"offset":13174},"end":{"line":281,"column":19,"offset":13189},"indent":[]}}],"position":{"start":{"line":281,"column":1,"offset":13171},"end":{"line":281,"column":19,"offset":13189},"indent":[]}}],"position":{"start":{"line":271,"column":1,"offset":12848},"end":{"line":281,"column":19,"offset":13189},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Fix invalid metric or dimension errors","position":{"start":{"line":283,"column":6,"offset":13196},"end":{"line":283,"column":44,"offset":13234},"indent":[]}}],"position":{"start":{"line":283,"column":1,"offset":13191},"end":{"line":283,"column":44,"offset":13234},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following table summarizes which specific components require to be fixed:","position":{"start":{"line":285,"column":1,"offset":13236},"end":{"line":285,"column":78,"offset":13313},"indent":[]}}],"position":{"start":{"line":285,"column":1,"offset":13236},"end":{"line":285,"column":78,"offset":13313},"indent":[]}},{"type":"jsx","value":"<table style=\"border: solid 2px darkgrey; width: 100%;\">\n<thead style=\"background: #ffeadf;\">\n<tr>\n<th>Report page</th>\n<th>Components</th>\n<th>Field to add</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td rowspan=\"3\">2 Security Cloudflare&nbsp;</td>\n<td>\n<p><em>Threats </em>(scorecard)</p>\n</td>\n<td>&nbsp;Threats (Metric)</td>\n</tr>\n<tr>\n<td>\n<p><em>Threats - Record Count (table)</em></p>\n</td>\n<td>&nbsp;Threats (Dimension)</td>\n</tr>\n<tr>\n<td>&nbsp;<em>Threats Over Time&nbsp;</em>(area chart)</td>\n<td>&nbsp;Threats (Breadown Dimension)</td>\n</tr>\n<tr>\n<td>3 Reliability Cloudflare</td>\n<td><em>Status Codes Last 24 hours&nbsp;</em>(bar chart)</td>\n<td><em>Copy of EdgeStartTimeStamp&nbsp;</em>(Dimension)</td>\n</tr>\n<tr>\n<td>5&nbsp;Last 100s Requests Cloudflare</td>\n<td><em>Last 100 Requests</em> (table)</td>\n<td>&nbsp;<em>Copy of EdgeStartTimeStamp</em></td>\n</tr>\n</tbody>\n</table>","position":{"start":{"line":287,"column":1,"offset":13315},"end":{"line":324,"column":9,"offset":14196},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"For each of the report components listed above:","position":{"start":{"line":326,"column":1,"offset":14198},"end":{"line":326,"column":48,"offset":14245},"indent":[]}}],"position":{"start":{"line":326,"column":1,"offset":14198},"end":{"line":326,"column":48,"offset":14245},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the report component affected.","position":{"start":{"line":328,"column":4,"offset":14250},"end":{"line":328,"column":41,"offset":14287},"indent":[]}}],"position":{"start":{"line":328,"column":4,"offset":14250},"end":{"line":328,"column":41,"offset":14287},"indent":[]}}],"position":{"start":{"line":328,"column":1,"offset":14247},"end":{"line":329,"column":1,"offset":14288},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"On the menu to the right, under the ","position":{"start":{"line":330,"column":4,"offset":14292},"end":{"line":330,"column":40,"offset":14328},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Data","position":{"start":{"line":330,"column":42,"offset":14330},"end":{"line":330,"column":46,"offset":14334},"indent":[]}}],"position":{"start":{"line":330,"column":40,"offset":14328},"end":{"line":330,"column":48,"offset":14336},"indent":[]}},{"type":"text","value":" tab, locate and click ","position":{"start":{"line":330,"column":48,"offset":14336},"end":{"line":330,"column":71,"offset":14359},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Invalid Dimension","position":{"start":{"line":330,"column":73,"offset":14361},"end":{"line":330,"column":90,"offset":14378},"indent":[]}}],"position":{"start":{"line":330,"column":71,"offset":14359},"end":{"line":330,"column":92,"offset":14380},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":330,"column":92,"offset":14380},"end":{"line":330,"column":96,"offset":14384},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Invalid Metric","position":{"start":{"line":330,"column":98,"offset":14386},"end":{"line":330,"column":112,"offset":14400},"indent":[]}}],"position":{"start":{"line":330,"column":96,"offset":14384},"end":{"line":330,"column":114,"offset":14402},"indent":[]}},{"type":"text","value":" (as applicable). The ","position":{"start":{"line":330,"column":114,"offset":14402},"end":{"line":330,"column":136,"offset":14424},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Field Picker","position":{"start":{"line":330,"column":138,"offset":14426},"end":{"line":330,"column":150,"offset":14438},"indent":[]}}],"position":{"start":{"line":330,"column":136,"offset":14424},"end":{"line":330,"column":152,"offset":14440},"indent":[]}},{"type":"text","value":" panel opens.","position":{"start":{"line":330,"column":152,"offset":14440},"end":{"line":330,"column":165,"offset":14453},"indent":[]}}],"position":{"start":{"line":330,"column":4,"offset":14292},"end":{"line":330,"column":165,"offset":14453},"indent":[]}}],"position":{"start":{"line":330,"column":1,"offset":14289},"end":{"line":331,"column":1,"offset":14454},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Search or type for the field to add, then click to select it.","position":{"start":{"line":332,"column":4,"offset":14458},"end":{"line":332,"column":65,"offset":14519},"indent":[]}}],"position":{"start":{"line":332,"column":4,"offset":14458},"end":{"line":332,"column":65,"offset":14519},"indent":[]}}],"position":{"start":{"line":332,"column":1,"offset":14455},"end":{"line":333,"column":1,"offset":14520},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To finish, click away from the panel to return to the main report.","position":{"start":{"line":334,"column":4,"offset":14524},"end":{"line":334,"column":70,"offset":14590},"indent":[]}}],"position":{"start":{"line":334,"column":4,"offset":14524},"end":{"line":334,"column":70,"offset":14590},"indent":[]}}],"position":{"start":{"line":334,"column":1,"offset":14521},"end":{"line":334,"column":70,"offset":14590},"indent":[]}}],"position":{"start":{"line":328,"column":1,"offset":14247},"end":{"line":334,"column":70,"offset":14590},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The component should now render correctly.","position":{"start":{"line":336,"column":1,"offset":14592},"end":{"line":336,"column":43,"offset":14634},"indent":[]}}],"position":{"start":{"line":336,"column":1,"offset":14592},"end":{"line":336,"column":43,"offset":14634},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Update data filters","position":{"start":{"line":338,"column":6,"offset":14641},"end":{"line":338,"column":25,"offset":14660},"indent":[]}}],"position":{"start":{"line":338,"column":1,"offset":14636},"end":{"line":338,"column":25,"offset":14660},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This fix applies to report page: ","position":{"start":{"line":340,"column":1,"offset":14662},"end":{"line":340,"column":34,"offset":14695},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"3 Reliability Cloudflare","position":{"start":{"line":340,"column":36,"offset":14697},"end":{"line":340,"column":60,"offset":14721},"indent":[]}}],"position":{"start":{"line":340,"column":34,"offset":14695},"end":{"line":340,"column":62,"offset":14723},"indent":[]}},{"type":"text","value":", for the following scorecard components in the report:","position":{"start":{"line":340,"column":62,"offset":14723},"end":{"line":340,"column":117,"offset":14778},"indent":[]}}],"position":{"start":{"line":340,"column":1,"offset":14662},"end":{"line":340,"column":117,"offset":14778},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"5xx Errors","position":{"start":{"line":342,"column":5,"offset":14784},"end":{"line":342,"column":15,"offset":14794},"indent":[]}}],"position":{"start":{"line":342,"column":3,"offset":14782},"end":{"line":342,"column":17,"offset":14796},"indent":[]}}],"position":{"start":{"line":342,"column":3,"offset":14782},"end":{"line":342,"column":17,"offset":14796},"indent":[]}}],"position":{"start":{"line":342,"column":1,"offset":14780},"end":{"line":342,"column":17,"offset":14796},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"4xx Errors","position":{"start":{"line":343,"column":5,"offset":14801},"end":{"line":343,"column":15,"offset":14811},"indent":[]}}],"position":{"start":{"line":343,"column":3,"offset":14799},"end":{"line":343,"column":17,"offset":14813},"indent":[]}}],"position":{"start":{"line":343,"column":3,"offset":14799},"end":{"line":343,"column":17,"offset":14813},"indent":[]}}],"position":{"start":{"line":343,"column":1,"offset":14797},"end":{"line":343,"column":17,"offset":14813},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"3xx Errors","position":{"start":{"line":344,"column":5,"offset":14818},"end":{"line":344,"column":15,"offset":14828},"indent":[]}}],"position":{"start":{"line":344,"column":3,"offset":14816},"end":{"line":344,"column":17,"offset":14830},"indent":[]}}],"position":{"start":{"line":344,"column":3,"offset":14816},"end":{"line":344,"column":17,"offset":14830},"indent":[]}}],"position":{"start":{"line":344,"column":1,"offset":14814},"end":{"line":344,"column":17,"offset":14830},"indent":[]}}],"position":{"start":{"line":342,"column":1,"offset":14780},"end":{"line":344,"column":17,"offset":14830},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To update the filter associated with each scorecard:","position":{"start":{"line":346,"column":1,"offset":14832},"end":{"line":346,"column":53,"offset":14884},"indent":[]}}],"position":{"start":{"line":346,"column":1,"offset":14832},"end":{"line":346,"column":53,"offset":14884},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the report component affected.","position":{"start":{"line":348,"column":4,"offset":14889},"end":{"line":348,"column":41,"offset":14926},"indent":[]}}],"position":{"start":{"line":348,"column":4,"offset":14889},"end":{"line":348,"column":41,"offset":14926},"indent":[]}}],"position":{"start":{"line":348,"column":1,"offset":14886},"end":{"line":349,"column":1,"offset":14927},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"On the menu to the right, under the ","position":{"start":{"line":350,"column":4,"offset":14931},"end":{"line":350,"column":40,"offset":14967},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Data","position":{"start":{"line":350,"column":42,"offset":14969},"end":{"line":350,"column":46,"offset":14973},"indent":[]}}],"position":{"start":{"line":350,"column":40,"offset":14967},"end":{"line":350,"column":48,"offset":14975},"indent":[]}},{"type":"text","value":" tab, locate the ","position":{"start":{"line":350,"column":48,"offset":14975},"end":{"line":350,"column":65,"offset":14992},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Filters","position":{"start":{"line":350,"column":67,"offset":14994},"end":{"line":350,"column":74,"offset":15001},"indent":[]}}],"position":{"start":{"line":350,"column":65,"offset":14992},"end":{"line":350,"column":76,"offset":15003},"indent":[]}},{"type":"text","value":" > ","position":{"start":{"line":350,"column":76,"offset":15003},"end":{"line":350,"column":79,"offset":15006},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Scorecard Filter","position":{"start":{"line":350,"column":81,"offset":15008},"end":{"line":350,"column":97,"offset":15024},"indent":[]}}],"position":{"start":{"line":350,"column":79,"offset":15006},"end":{"line":350,"column":99,"offset":15026},"indent":[]}},{"type":"text","value":" section and click the ","position":{"start":{"line":350,"column":99,"offset":15026},"end":{"line":350,"column":122,"offset":15049},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"pencil","position":{"start":{"line":350,"column":124,"offset":15051},"end":{"line":350,"column":130,"offset":15057},"indent":[]}}],"position":{"start":{"line":350,"column":122,"offset":15049},"end":{"line":350,"column":132,"offset":15059},"indent":[]}},{"type":"text","value":" next to the filter name to edit it. The ","position":{"start":{"line":350,"column":132,"offset":15059},"end":{"line":350,"column":173,"offset":15100},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Edit Filter","position":{"start":{"line":350,"column":175,"offset":15102},"end":{"line":350,"column":186,"offset":15113},"indent":[]}}],"position":{"start":{"line":350,"column":173,"offset":15100},"end":{"line":350,"column":188,"offset":15115},"indent":[]}},{"type":"text","value":" panel opens.","position":{"start":{"line":350,"column":188,"offset":15115},"end":{"line":350,"column":201,"offset":15128},"indent":[]}}],"position":{"start":{"line":350,"column":4,"offset":14931},"end":{"line":350,"column":201,"offset":15128},"indent":[]}}],"position":{"start":{"line":350,"column":1,"offset":14928},"end":{"line":351,"column":1,"offset":15129},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the filtering criteria section, click the dropdown and scroll or search for the field ","position":{"start":{"line":352,"column":4,"offset":15133},"end":{"line":352,"column":93,"offset":15222},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"EdgeResponseStatusClass","position":{"start":{"line":352,"column":94,"offset":15223},"end":{"line":352,"column":117,"offset":15246},"indent":[]}}],"position":{"start":{"line":352,"column":93,"offset":15222},"end":{"line":352,"column":118,"offset":15247},"indent":[]}},{"type":"text","value":" and select it.","position":{"start":{"line":352,"column":118,"offset":15247},"end":{"line":352,"column":133,"offset":15262},"indent":[]}}],"position":{"start":{"line":352,"column":4,"offset":15133},"end":{"line":352,"column":133,"offset":15262},"indent":[]}}],"position":{"start":{"line":352,"column":1,"offset":15130},"end":{"line":353,"column":1,"offset":15263},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To finish, click ","position":{"start":{"line":354,"column":4,"offset":15267},"end":{"line":354,"column":21,"offset":15284},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Save","position":{"start":{"line":354,"column":23,"offset":15286},"end":{"line":354,"column":27,"offset":15290},"indent":[]}}],"position":{"start":{"line":354,"column":21,"offset":15284},"end":{"line":354,"column":29,"offset":15292},"indent":[]}},{"type":"text","value":" in the lower right corner.","position":{"start":{"line":354,"column":29,"offset":15292},"end":{"line":354,"column":56,"offset":15319},"indent":[]}}],"position":{"start":{"line":354,"column":4,"offset":15267},"end":{"line":354,"column":56,"offset":15319},"indent":[]}}],"position":{"start":{"line":354,"column":1,"offset":15264},"end":{"line":354,"column":56,"offset":15319},"indent":[]}}],"position":{"start":{"line":348,"column":1,"offset":14886},"end":{"line":354,"column":56,"offset":15319},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The component should now render correctly.","position":{"start":{"line":356,"column":1,"offset":15321},"end":{"line":356,"column":43,"offset":15363},"indent":[]}}],"position":{"start":{"line":356,"column":1,"offset":15321},"end":{"line":356,"column":43,"offset":15363},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Google Cloud\",\"order\":100}","position":{"start":{"line":359,"column":1,"offset":15366},"end":{"line":359,"column":65,"offset":15430},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":359,"column":65,"offset":15430}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Google Cloud\",\n  \"order\": 100\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"google-cloud\"\n  }, \"Google Cloud\"), mdx(\"h2\", {\n    \"id\": \"overview\"\n  }, \"Overview\"), mdx(\"p\", null, \"This tutorial covers how to configure certain Google Cloud Platform (GCP) components so that you can analyze your Cloudflare Logs data.\"), mdx(\"p\", null, \"Before proceeding, you need to enable \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/logs/get-started/enable-destinations/google-cloud-storage\"\n  }, \"Cloudflare Logpush in Google Cloud Storage\"), \" to ensure your log data is available for analyzing.\"), mdx(\"p\", null, \"The components we'll use in this tutorial include:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Google Cloud Function\"), \" to import logs from Google Cloud Storage to Google BigQuery\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Google BigQuery\"), \" to make log data available to the reporting engine, and\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Google Data Studio\"), \" to run interactive reports\")), mdx(\"p\", null, \"The following diagram depicts how data flows from Cloudflare Logs through the different components of the Google Cloud Platform discussed in this tutorial.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1382px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/8857f8a05529c1f5d0871d660b601ec1/460fa/cf-logpush-to-google-cloud-platform.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"73.41040462427746%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAADYklEQVQ4y0VUTW8cRRCdOxfOiEMcJWHt6Znpnu/p+diZ2Z31rjdrnI1j2QSs2EkgWkUKl1ywCEJRAIEBARcOKAoSuQASnEBC4heAxJUbyj/gHzzetEEcWt1d1V1d9d6rtrbrFMLx4QoF99/Zc/2ztfPfWkF5IRz6JOezM4EZvc9XsVn3fqtrOiiVwnFDKD+F58VcR2a4tLmcbRFCuDFc+nqbEMHZ7ASwbQmHj/c2R/iw2nYKFVYoqg7taAadN+ayH1WYzZeYbC6QhdzLCFU1RpzWkEHJs1vI8jH8QCN0PUTChhQurDgd4svHT/Hx6SewNzx005eR6Ro+s510cxT1AtHhKbKbnyMd7WLcTBi4w3h8GcPhhPsO8d4JktUTyPYA1hff/IQn3/2M27dXePjpV/j9r7/x+PtfoBk0iVIoZnBRX4Fd78NPauhEIwozg2mPW6QCnG+OcXHvfYjqKqyDGyus7j/E0fEb+OPPZ/jx199w/cYdZusiS0uSQDxZrgpZWqSR6yFizjqrEAapWfc4h1HJqhJYFy45eP3ufVx/9Rg3j24hpPGAa8nXlSTwBF3IDG5QcB8xo9DYwyAxGfoqIjkRPD+HlAy4uXOI+eIay6OBLGpiVo6XSIhtkbfISVKWVsafVVvQzQ6iuEJZjIyvtxfNAsVoSXgKymY0Rdtsoq07lATb230bwSuPkJQz1NUIZTkmZhoBtSYX9xCQoLhZoh2OkGU1Qmbrze8ieO1DyGpJlonB2cgM2BuSmcYtIr6ssxJpkhtfj5ftskxKLKQvpy/wYyN8mzLr7crPYJVFy9JqFAS7J0EobdiMk5LZtSZoEudmOCrjY0MkSYFuNMFkvMnSG7i0K95RAQP6njREyL5LmH6vP8mXlKsQULB9W/VkeOwGXzFD+pyeBKl5ruRdQqESc8ejIiw/W2B9QyIZrEOrgiWT0Q2BjWSKQbkHQfkItlRS1sxEw1l3UHc1Tu7FOJytsatSVGX1fy9Xt75FUmyhzObQ2ydwp5SOp3D+6ns4t/8ZwvIynHwBdXQKQfB14OHpgxex2hf44cHzsFluVTeUWWg+FCvZfYSAAQbpHOeuvEssRpC2wKXZm7hw7QN+HPwQqLG17XfglDsYvKTw0Z0X8Ozr5/DW4RoGIkMca6PXPuA/kGAJvMLWDOwAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Cloudflare Logpush to Google Cloud Platform\",\n    \"title\": \"Cloudflare Logpush to Google Cloud Platform\",\n    \"src\": \"/static/8857f8a05529c1f5d0871d660b601ec1/f868f/cf-logpush-to-google-cloud-platform.png\",\n    \"srcSet\": [\"/static/8857f8a05529c1f5d0871d660b601ec1/8f77f/cf-logpush-to-google-cloud-platform.png 346w\", \"/static/8857f8a05529c1f5d0871d660b601ec1/e185b/cf-logpush-to-google-cloud-platform.png 691w\", \"/static/8857f8a05529c1f5d0871d660b601ec1/f868f/cf-logpush-to-google-cloud-platform.png 1382w\", \"/static/8857f8a05529c1f5d0871d660b601ec1/460fa/cf-logpush-to-google-cloud-platform.png 1910w\"],\n    \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(Aside, {\n    type: \"info\",\n    header: \"Info\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Google Cloud is offering a credit towards a new Google Cloud account to help you get started. To learn more, visit \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://cloud.google.com/partners/partnercredit/?PCN=a0n60000003kp9MAAQ\"\n  }, \"Google Cloud Platform Partner Credit\"), \".\")), mdx(\"h2\", {\n    \"id\": \"task-1---use-google-cloud-function-to-import-log-data-into-google-bigquery\"\n  }, \"Task 1 - Use Google Cloud Function to import log data into Google BigQuery\"), mdx(\"p\", null, \"After you configured Cloudflare Logpush to send your logs to a Google Cloud Storage bucket, your log data updates every five minutes by default.\"), mdx(\"p\", null, \"Google BigQuery makes data available for both querying using Structured Query Language (SQL) and for configuring as a data source for the Google Data Studio reporting engine. BigQuery is a highly scalable cloud database where SQL queries run quite fast.\"), mdx(\"p\", null, \"Importing data from Google Cloud Storage into Google BigQuery requires creating a function using Google Cloud Function and running it in the Google Cloud Shell. This function triggers every time new Cloudflare log data is uploaded to your Google Cloud Storage bucket.\"), mdx(\"h3\", {\n    \"id\": \"clone-and-deploy-a-google-cloud-function\"\n  }, \"Clone and deploy a Google Cloud Function\"), mdx(\"p\", null, \"To a create a cloud function to import data from Google Cloud Storage into Google BigQuery, you will need the following GitHub repository from Cloudflare: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/cloudflare/GCS-To-Big-Query\"\n  }, \"https://github.com/cloudflare/GCS-To-Big-Query\"), \".\"), mdx(\"p\", null, \"To clone and deploy the cloud function:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Run the Google Cloud Platform shell by opening the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Google Cloud Platform\"), \" console and clicking the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Google Shell\"), \" icon (\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Activate Cloud Shell\"), \").\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Run the following command to download the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"master\"), \" zipped archive, uncompress the files to new a directory, and change the command line prompt to the new directory: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"curl -LO \\\"https://github.com/cloudflare/cloudflare-gcp/archive/master.zip\\\" && unzip master.zip && cd cloudflare-gcp-master/logpush-to-bigquery\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Next, edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"deploy.sh\"), \" file and make sure that:\"))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"BUCKET_NAME\"), \" is set to the bucket you created when you configured Cloudflare Logpush with Google Cloud Platform.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"DATASET\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"TABLE\"), \" are unique names.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The contents of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"deploy.sh\"), \" should look similar to this:\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \".\\n.\\n.\\nBUCKET_NAME=\\\"my_cloudflarelogs_gcp_storage_bucket\\\"\\nDATASET=\\\"my_cloudflare_logs\\\"\\nTABLE=\\\"cloudflare_logs\\\"\\n.\\n.\\n.\\n\")))), mdx(\"ol\", {\n    \"start\": 4\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Then in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Google Shell\"), \", run the following command to deploy your instance of the cloud function:\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"sh ./deploy.sh\\n\")))), mdx(\"p\", null, \"Once you've deployed your new cloud function, verify that it appears in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Cloud Functions\"), \" interface by navigating to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Google Cloud Platform\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Compute\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Cloud Functions\"), \".\"), mdx(\"p\", null, \"Also, verify that the data now appears in your table in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"BigQuery\"), \" by navigating to the appropriate project in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Google Cloud Platform\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Big Data\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"BigQuery\"), \".\"), mdx(\"p\", null, \"If everything is configured correctly, you can now query any request or visualize data with Google Data Studio or any other analytics tool that supports BigQuery as an input source.\"), mdx(\"h3\", {\n    \"id\": \"add-fields-in-google-cloud-function\"\n  }, \"Add fields in Google Cloud Function\"), mdx(\"p\", null, \"To add fields in Cloud Function, edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"schema.json\"), \" file.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Open Google Cloud Function.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Select the function you want to update.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"EDIT\"), \" on the Function details page.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Select \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"schema.json\"), \" from the list of files.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In the file editor, enter the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"type\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mode\"), \" of any fields you would like to add. Follow the format shown in the file.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Deploy\"), \".\"))), mdx(\"p\", null, \"To debug in Cloud Function, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"VIEW LOGS\"), \" on the Function details page. This will take you to the Logs Viewer, where any errors will appear.\"), mdx(\"h3\", {\n    \"id\": \"add-fields-in-bigquery\"\n  }, \"Add fields in BigQuery\"), mdx(\"p\", null, \"To add fields in BigQuery, edit the schema.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Open BigQuery.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In the menu, expand \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"your-project-name\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Expand \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"cloudflare_data\"), \" and click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"cf_analytics_logs\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Select the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Schema\"), \" tab.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Scroll to the bottom of the page, and click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Edit schema\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"On the pop-up page, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Add field\"), \". Enter the field \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Name\"), \" and select the field \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Type\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Mode\"), \" from the dropdowns.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Save\"), \".\"))), mdx(\"h2\", {\n    \"id\": \"task-2---analyze-log-data-with-google-data-studio\"\n  }, \"Task 2 - Analyze log data with Google Data Studio\"), mdx(\"p\", null, \"To analyze and visualize logs, you can use \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Google Data Studio\"), \" or any other 3rd party services that supports Google BigQuery as an input source.\"), mdx(\"p\", null, \"With Google Data Studio, you can generate graphs and charts from a Google BigQuery table. You can also refresh the data in your reports and get real-time analytics.\"), mdx(\"h3\", {\n    \"id\": \"about-the-cloudflare-logs-insights-template\"\n  }, \"About the Cloudflare Logs Insights Template\"), mdx(\"p\", null, \"Cloudflare has published a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://datastudio.google.com/u/0/reporting/1ez3m7Yf8AZLfM6aYRjfgF0pPpRvOwhTh/page/mAzI/preview\"\n  }, \"Logs Insights Template\"), \" in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Google Data Studio Report Gallery\"), \".\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"../../../static/images/cf-logs-insights-template.png\",\n    \"alt\": \"Cloudflare Logs Insights Template on Google Data Studio Gallery\"\n  })), mdx(\"p\", null, \"The Cloudflare Insights Template features several dashboards, or report pages, to help you analyze your Cloudflare Logs data. You can also use filters within the dashboards to narrow down the analysis by date and time, device type, country, user agent, client IP, hostname, and more. These insights further help with debugging and tracing.\"), mdx(\"p\", null, \"The following dashboards are included in the Insights template:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Snapshot\"), \": Gives you an overview of the most important metrics from your Cloudflare logs, including total number of requests, top visitors by geography, IP, user agent, traffic type, total number of threats, and bandwidth usage.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Security\"), \": Provides insights on threat identification and mitigations by our \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Web Application Firewall\"), \", including \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Firewall Rules\"), \", \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rate Limiting\"), \", and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"IP Firewall\"), \". Metrics include total threats stopped, threat traffic source, blocked IPs and user agents, top threat requests, Firewall events (SQL injections, XSS, etc.), and rate limiting. Use this data to fine tune the firewall to target obvious threats and avoid false positives.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Performance\"), \": Helps you identify and address issues like slow pages and caching misconfigurations. Metrics include total vs. cached bandwidth, cache ratio, top uncached requests, static vs. dynamic content, slowest URIs, and more.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Reliability\"), \": Provides insights on the availability of your websites and applications. Metrics include origin response error ratio, origin response status over time, percentage of 3xx/4xx/5xx errors over time, and more.\"))), mdx(\"h3\", {\n    \"id\": \"create-a-report-based-on-the-insights-template\"\n  }, \"Create a report based on the Insights Template\"), mdx(\"p\", null, \"To create a report for your log data based on the Cloudflare template:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In Data Studio, open the Cloudflare \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://datastudio.google.com/u/0/reporting/1ez3m7Yf8AZLfM6aYRjfgF0pPpRvOwhTh/page/mAzI/preview\"\n  }, \"template\"), \" and click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Use Template\"), \". A \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Create new report\"), \" dialog opens.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Under the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"New Data Source\"), \" dropdown, select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create New Data Source\"), \". A page opens where you can enter additional configuration details.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Under \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Google Connectors\"), \", locate the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"BigQuery\"), \" card and click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Select\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Next under \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"MY PROJECTS\"), \", select your \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Project\"), \", \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Dataset\"), \", and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Table\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Connect\"), \" in the upper right.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In the list of Cloudflare Logs fields, locate \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"EdgeStartTimestamp\"), \", click the three vertical dots and select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Duplicate\"), \". This creates \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Copy of EdgeStartTimestamp\"), \" right below \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"EdgeStartTimestamp\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Update the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Type\"), \" for \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Copy of EdgeStartTimestamp\"), \" to set it to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Date & Time\"), \" > \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Date Hour (YYYYMMDDHH)\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Next, update the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Type\"), \" for each of the following fields as indicated below:\"))), mdx(\"table\", {\n    style: {\n      \"border\": \"solid 2px darkgrey\",\n      \"width\": \"100%\"\n    }\n  }, mdx(\"thead\", {\n    style: {\n      \"background\": \"#ffeadf\"\n    }\n  }, mdx(\"tr\", null, mdx(\"th\", null, \"Cloudflare Log Field\"), mdx(\"th\", null, \"Type\"))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, \"ZoneID\"), mdx(\"td\", null, \"Text\")), mdx(\"tr\", null, mdx(\"td\", null, \"EdgeColoID\"), mdx(\"td\", null, \"Text\")), mdx(\"tr\", null, mdx(\"td\", null, \"ClientSrcPort\"), mdx(\"td\", null, \"Text\")), mdx(\"tr\", null, mdx(\"td\", null, \"EdgeResponseStatus\"), mdx(\"td\", null, \"Number\")), mdx(\"tr\", null, mdx(\"td\", null, \"EdgeRateLimitID\"), mdx(\"td\", null, \"Text\\xA0\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"div\", null, mdx(\"div\", null, \"Copy of EdgeStartTimestamp\"))), mdx(\"td\", null, \"Date & Time > Date Hour (YYYYMMDDHH)\")), mdx(\"tr\", null, mdx(\"td\", null, \"OriginResponseStatus\"), mdx(\"td\", null, \"Number\")), mdx(\"tr\", null, mdx(\"td\", null, \"ClientASN\"), mdx(\"td\", null, \"Text\")), mdx(\"tr\", null, mdx(\"td\", null, \"ClientCountry\"), mdx(\"td\", null, \"Geo > Country\")), mdx(\"tr\", null, mdx(\"td\", null, \"CacheResponseStatus\"), mdx(\"td\", null, \"Text\")))), mdx(\"ol\", {\n    \"start\": 9\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Next, add a new field to identify and calculate threat. In the top right corner, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"+ ADD A FIELD\"), \", then in the add field UI:\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \" For \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"Field Name\"), \", type \", mdx(\"em\", {\n    parentName: \"em\"\n  }, \"Threats\"), \".\\n\"), \" In the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Formula\"), \" text box, paste the following code:\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"CASE\\nWHEN EdgePathingSrc = \\\"user\\\" AND EdgePathingOp = \\\"ban\\\" AND EdgePathingStatus = \\\"ip\\\" THEN \\\"ip block\\\"\\nWHEN EdgePathingSrc = \\\"user\\\" AND EdgePathingOp = \\\"ban\\\" AND EdgePathingStatus = \\\"ctry\\\" THEN \\\"country block\\\"\\nWHEN EdgePathingSrc = \\\"user\\\" AND EdgePathingOp = \\\"ban\\\" AND EdgePathingStatus = \\\"zl\\\" THEN \\\"routed by zone lockdown\\\"\\n WHEN EdgePathingSrc = \\\"user\\\" AND EdgePathingOp = \\\"ban\\\" AND EdgePathingStatus = \\\"ua\\\" THEN \\\"blocked user agent\\\"\\nWHEN EdgePathingSrc = \\\"user\\\" AND EdgePathingOp = \\\"ban\\\" AND EdgePathingStatus = \\\"rateLimit\\\" THEN \\\"rate-limiting rule\\\"\\n WHEN EdgePathingSrc = \\\"bic\\\" AND EdgePathingOp = \\\"ban\\\" AND EdgePathingStatus = \\\"unknown\\\" THEN \\\"browser integrity check\\\"\\nWHEN EdgePathingSrc = \\\"hot\\\" AND EdgePathingOp = \\\"ban\\\" AND EdgePathingStatus = \\\"unknown\\\" THEN \\\"blocked hotlink\\\"\\nWHEN EdgePathingSrc = \\\"macro\\\" AND EdgePathingOp = \\\"chl\\\" AND EdgePathingStatus = \\\"captchaFail\\\" THEN \\\"CAPTCHA challenge failed\\\"\\nWHEN EdgePathingSrc = \\\"macro\\\" AND EdgePathingOp = \\\"chl\\\" AND EdgePathingStatus = \\\"jschlFail\\\" THEN \\\"java script challenge failed\\\"\\nWHEN EdgePathingSrc = \\\"filterBasedFirewall\\\" AND EdgePathingOp = \\\"ban\\\" AND EdgePathingStatus = \\\"unknown\\\" THEN \\\"blocked by filter based firewall\\\"\\nWHEN EdgePathingSrc = \\\"filterBasedFirewall\\\" AND EdgePathingOp = \\\"chl\\\" THEN \\\"challenged by filter based firewall\\\"\\nElse \\\"Other\\\"\\nEND\\n\")), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"*\", \" Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Save\"), \" in the lower right corner.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Finally, add another new field for grouping status error codes. In the top right corner, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"+ ADD A FIELD\"), \", then in the add field UI:\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \" For \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"Field Name\"), \", type \", mdx(\"em\", {\n    parentName: \"em\"\n  }, \"EdgeResponseStatus_Class\"), \".\\n\"), \" In the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Formula\"), \" text box, paste the following code:\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"CASE\\nWHEN EdgeResponseStatus > 199 AND EdgeResponseStatus < 300 THEN \\\"2xx\\\"\\nWHEN EdgeResponseStatus > 299 AND EdgeResponseStatus < 400 THEN \\\"3xx\\\"\\nWHEN EdgeResponseStatus > 399 AND EdgeResponseStatus < 500 THEN \\\"4xx\\\"\\nWHEN EdgeResponseStatus > 499 AND EdgeResponseStatus < 600 THEN \\\"5xx\\\"\\nWHEN EdgeResponseStatus = 0 THEN \\\"0 - Served from CF Edge\\\"\\nElse \\\"Other\\\"\\nEND\\n\")))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Save\"), \" in the lower right corner.\")), mdx(\"ol\", {\n    \"start\": 11\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"To finish, click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Add to Report\"), \" in the upper right.\")), mdx(\"h3\", {\n    \"id\": \"refreshing-fields-and-filters-manually\"\n  }, \"Refreshing fields and filters manually\"), mdx(\"p\", null, \"After you've added your report, you will notice that not all report components render successfully. To fix this, you need to resolve any errors related to invalid dimensions, metrics, or filters that appear in the affected report components.\"), mdx(\"h4\", {\n    \"id\": \"update-data-studio-with-new-fields\"\n  }, \"Update Data Studio with new fields\"), mdx(\"p\", null, \"To update Data Studio with fields added to BigQuery, refresh fields for the data source.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In Data Studio, open the Cloudflare dashboard in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Edit\"), \" mode.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Expand the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Resource\"), \" menu and select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Manage added data sources\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"EDIT\"), \" action for the data source that you want to update.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"REFRESH FIELDS\"), \" below the table. A window with \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Field changes found\"), \" in BigQuery will pop up.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"To add the new fields, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"APPLY\"), \".\"))), mdx(\"p\", null, \"You can also create custom fields directly in Data Studio.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In Data Studio, open the Cloudflare dashboard in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Edit\"), \" mode.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Expand the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Resource\"), \" menu and select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Manage added data sources\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"EDIT\"), \" action for the data source that you want to add a custom field to.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ADD A FIELD\"), \" above the table.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Enter a formula in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Formula\"), \" editor.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"SAVE\"), \".\"))), mdx(\"h4\", {\n    \"id\": \"fix-invalid-metric-or-dimension-errors\"\n  }, \"Fix invalid metric or dimension errors\"), mdx(\"p\", null, \"The following table summarizes which specific components require to be fixed:\"), mdx(\"table\", {\n    style: {\n      \"border\": \"solid 2px darkgrey\",\n      \"width\": \"100%\"\n    }\n  }, mdx(\"thead\", {\n    style: {\n      \"background\": \"#ffeadf\"\n    }\n  }, mdx(\"tr\", null, mdx(\"th\", null, \"Report page\"), mdx(\"th\", null, \"Components\"), mdx(\"th\", null, \"Field to add\"))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", {\n    rowSpan: \"3\"\n  }, \"2 Security Cloudflare\\xA0\"), mdx(\"td\", null, mdx(\"p\", null, mdx(\"em\", null, \"Threats \"), \"(scorecard)\")), mdx(\"td\", null, \"\\xA0Threats (Metric)\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"p\", null, mdx(\"em\", null, \"Threats - Record Count (table)\"))), mdx(\"td\", null, \"\\xA0Threats (Dimension)\")), mdx(\"tr\", null, mdx(\"td\", null, \"\\xA0\", mdx(\"em\", null, \"Threats Over Time\\xA0\"), \"(area chart)\"), mdx(\"td\", null, \"\\xA0Threats (Breadown Dimension)\")), mdx(\"tr\", null, mdx(\"td\", null, \"3 Reliability Cloudflare\"), mdx(\"td\", null, mdx(\"em\", null, \"Status Codes Last 24 hours\\xA0\"), \"(bar chart)\"), mdx(\"td\", null, mdx(\"em\", null, \"Copy of EdgeStartTimeStamp\\xA0\"), \"(Dimension)\")), mdx(\"tr\", null, mdx(\"td\", null, \"5\\xA0Last 100s Requests Cloudflare\"), mdx(\"td\", null, mdx(\"em\", null, \"Last 100 Requests\"), \" (table)\"), mdx(\"td\", null, \"\\xA0\", mdx(\"em\", null, \"Copy of EdgeStartTimeStamp\"))))), mdx(\"p\", null, \"For each of the report components listed above:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Select the report component affected.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"On the menu to the right, under the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Data\"), \" tab, locate and click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Invalid Dimension\"), \" or \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Invalid Metric\"), \" (as applicable). The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Field Picker\"), \" panel opens.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Search or type for the field to add, then click to select it.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"To finish, click away from the panel to return to the main report.\"))), mdx(\"p\", null, \"The component should now render correctly.\"), mdx(\"h4\", {\n    \"id\": \"update-data-filters\"\n  }, \"Update data filters\"), mdx(\"p\", null, \"This fix applies to report page: \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"3 Reliability Cloudflare\"), \", for the following scorecard components in the report:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"5xx Errors\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"4xx Errors\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"3xx Errors\"))), mdx(\"p\", null, \"To update the filter associated with each scorecard:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Select the report component affected.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"On the menu to the right, under the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Data\"), \" tab, locate the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Filters\"), \" > \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Scorecard Filter\"), \" section and click the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pencil\"), \" next to the filter name to edit it. The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Edit Filter\"), \" panel opens.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In the filtering criteria section, click the dropdown and scroll or search for the field \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"EdgeResponseStatusClass\"), \" and select it.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"To finish, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Save\"), \" in the lower right corner.\"))), mdx(\"p\", null, \"The component should now render correctly.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"Google Cloud\",\n  \"order\": 100\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst Aside = makeShortcode(\"Aside\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"google-cloud\"\n    }}>{`Google Cloud`}</h1>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`This tutorial covers how to configure certain Google Cloud Platform (GCP) components so that you can analyze your Cloudflare Logs data.`}</p>\n    <p>{`Before proceeding, you need to enable `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.cloudflare.com/logs/get-started/enable-destinations/google-cloud-storage\"\n      }}>{`Cloudflare Logpush in Google Cloud Storage`}</a>{` to ensure your log data is available for analyzing.`}</p>\n    <p>{`The components we'll use in this tutorial include:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Google Cloud Function`}</strong>{` to import logs from Google Cloud Storage to Google BigQuery`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Google BigQuery`}</strong>{` to make log data available to the reporting engine, and`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Google Data Studio`}</strong>{` to run interactive reports`}</li>\n    </ul>\n    <p>{`The following diagram depicts how data flows from Cloudflare Logs through the different components of the Google Cloud Platform discussed in this tutorial.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1382px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/8857f8a05529c1f5d0871d660b601ec1/460fa/cf-logpush-to-google-cloud-platform.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"73.41040462427746%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAADYklEQVQ4y0VUTW8cRRCdOxfOiEMcJWHt6Znpnu/p+diZ2Z31rjdrnI1j2QSs2EkgWkUKl1ywCEJRAIEBARcOKAoSuQASnEBC4heAxJUbyj/gHzzetEEcWt1d1V1d9d6rtrbrFMLx4QoF99/Zc/2ztfPfWkF5IRz6JOezM4EZvc9XsVn3fqtrOiiVwnFDKD+F58VcR2a4tLmcbRFCuDFc+nqbEMHZ7ASwbQmHj/c2R/iw2nYKFVYoqg7taAadN+ayH1WYzZeYbC6QhdzLCFU1RpzWkEHJs1vI8jH8QCN0PUTChhQurDgd4svHT/Hx6SewNzx005eR6Ro+s510cxT1AtHhKbKbnyMd7WLcTBi4w3h8GcPhhPsO8d4JktUTyPYA1hff/IQn3/2M27dXePjpV/j9r7/x+PtfoBk0iVIoZnBRX4Fd78NPauhEIwozg2mPW6QCnG+OcXHvfYjqKqyDGyus7j/E0fEb+OPPZ/jx199w/cYdZusiS0uSQDxZrgpZWqSR6yFizjqrEAapWfc4h1HJqhJYFy45eP3ufVx/9Rg3j24hpPGAa8nXlSTwBF3IDG5QcB8xo9DYwyAxGfoqIjkRPD+HlAy4uXOI+eIay6OBLGpiVo6XSIhtkbfISVKWVsafVVvQzQ6iuEJZjIyvtxfNAsVoSXgKymY0Rdtsoq07lATb230bwSuPkJQz1NUIZTkmZhoBtSYX9xCQoLhZoh2OkGU1Qmbrze8ieO1DyGpJlonB2cgM2BuSmcYtIr6ssxJpkhtfj5ftskxKLKQvpy/wYyN8mzLr7crPYJVFy9JqFAS7J0EobdiMk5LZtSZoEudmOCrjY0MkSYFuNMFkvMnSG7i0K95RAQP6njREyL5LmH6vP8mXlKsQULB9W/VkeOwGXzFD+pyeBKl5ruRdQqESc8ejIiw/W2B9QyIZrEOrgiWT0Q2BjWSKQbkHQfkItlRS1sxEw1l3UHc1Tu7FOJytsatSVGX1fy9Xt75FUmyhzObQ2ydwp5SOp3D+6ns4t/8ZwvIynHwBdXQKQfB14OHpgxex2hf44cHzsFluVTeUWWg+FCvZfYSAAQbpHOeuvEssRpC2wKXZm7hw7QN+HPwQqLG17XfglDsYvKTw0Z0X8Ozr5/DW4RoGIkMca6PXPuA/kGAJvMLWDOwAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Cloudflare Logpush to Google Cloud Platform\",\n            \"title\": \"Cloudflare Logpush to Google Cloud Platform\",\n            \"src\": \"/static/8857f8a05529c1f5d0871d660b601ec1/f868f/cf-logpush-to-google-cloud-platform.png\",\n            \"srcSet\": [\"/static/8857f8a05529c1f5d0871d660b601ec1/8f77f/cf-logpush-to-google-cloud-platform.png 346w\", \"/static/8857f8a05529c1f5d0871d660b601ec1/e185b/cf-logpush-to-google-cloud-platform.png 691w\", \"/static/8857f8a05529c1f5d0871d660b601ec1/f868f/cf-logpush-to-google-cloud-platform.png 1382w\", \"/static/8857f8a05529c1f5d0871d660b601ec1/460fa/cf-logpush-to-google-cloud-platform.png 1910w\"],\n            \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <Aside type=\"info\" header=\"Info\" mdxType=\"Aside\">\n      <p>{`Google Cloud is offering a credit towards a new Google Cloud account to help you get started. To learn more, visit `}<a parentName=\"p\" {...{\n          \"href\": \"https://cloud.google.com/partners/partnercredit/?PCN=a0n60000003kp9MAAQ\"\n        }}>{`Google Cloud Platform Partner Credit`}</a>{`.`}</p>\n    </Aside>\n    <h2 {...{\n      \"id\": \"task-1---use-google-cloud-function-to-import-log-data-into-google-bigquery\"\n    }}>{`Task 1 - Use Google Cloud Function to import log data into Google BigQuery`}</h2>\n    <p>{`After you configured Cloudflare Logpush to send your logs to a Google Cloud Storage bucket, your log data updates every five minutes by default.`}</p>\n    <p>{`Google BigQuery makes data available for both querying using Structured Query Language (SQL) and for configuring as a data source for the Google Data Studio reporting engine. BigQuery is a highly scalable cloud database where SQL queries run quite fast.`}</p>\n    <p>{`Importing data from Google Cloud Storage into Google BigQuery requires creating a function using Google Cloud Function and running it in the Google Cloud Shell. This function triggers every time new Cloudflare log data is uploaded to your Google Cloud Storage bucket.`}</p>\n    <h3 {...{\n      \"id\": \"clone-and-deploy-a-google-cloud-function\"\n    }}>{`Clone and deploy a Google Cloud Function`}</h3>\n    <p>{`To a create a cloud function to import data from Google Cloud Storage into Google BigQuery, you will need the following GitHub repository from Cloudflare: `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/cloudflare/GCS-To-Big-Query\"\n      }}>{`https://github.com/cloudflare/GCS-To-Big-Query`}</a>{`.`}</p>\n    <p>{`To clone and deploy the cloud function:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run the Google Cloud Platform shell by opening the `}<strong parentName=\"p\">{`Google Cloud Platform`}</strong>{` console and clicking the `}<strong parentName=\"p\">{`Google Shell`}</strong>{` icon (`}<em parentName=\"p\">{`Activate Cloud Shell`}</em>{`).`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run the following command to download the `}<em parentName=\"p\">{`master`}</em>{` zipped archive, uncompress the files to new a directory, and change the command line prompt to the new directory: `}<inlineCode parentName=\"p\">{`curl -LO \"https://github.com/cloudflare/cloudflare-gcp/archive/master.zip\" && unzip master.zip && cd cloudflare-gcp-master/logpush-to-bigquery`}</inlineCode></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Next, edit the `}<inlineCode parentName=\"p\">{`deploy.sh`}</inlineCode>{` file and make sure that:`}</p>\n      </li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`BUCKET_NAME`}</strong>{` is set to the bucket you created when you configured Cloudflare Logpush with Google Cloud Platform.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`DATASET`}</strong>{` and `}<strong parentName=\"p\">{`TABLE`}</strong>{` are unique names.`}</p>\n        <p parentName=\"li\">{`The contents of `}<inlineCode parentName=\"p\">{`deploy.sh`}</inlineCode>{` should look similar to this:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`.\n.\n.\nBUCKET_NAME=\"my_cloudflarelogs_gcp_storage_bucket\"\nDATASET=\"my_cloudflare_logs\"\nTABLE=\"cloudflare_logs\"\n.\n.\n.\n`}</code></pre>\n      </li>\n    </ul>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Then in the `}<strong parentName=\"p\">{`Google Shell`}</strong>{`, run the following command to deploy your instance of the cloud function:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`sh ./deploy.sh\n`}</code></pre>\n      </li>\n    </ol>\n    <p>{`Once you've deployed your new cloud function, verify that it appears in the `}<strong parentName=\"p\">{`Cloud Functions`}</strong>{` interface by navigating to `}<strong parentName=\"p\">{`Google Cloud Platform`}</strong>{` > `}<strong parentName=\"p\">{`Compute`}</strong>{` > `}<strong parentName=\"p\">{`Cloud Functions`}</strong>{`.`}</p>\n    <p>{`Also, verify that the data now appears in your table in `}<strong parentName=\"p\">{`BigQuery`}</strong>{` by navigating to the appropriate project in `}<strong parentName=\"p\">{`Google Cloud Platform`}</strong>{` > `}<strong parentName=\"p\">{`Big Data`}</strong>{` > `}<strong parentName=\"p\">{`BigQuery`}</strong>{`.`}</p>\n    <p>{`If everything is configured correctly, you can now query any request or visualize data with Google Data Studio or any other analytics tool that supports BigQuery as an input source.`}</p>\n    <h3 {...{\n      \"id\": \"add-fields-in-google-cloud-function\"\n    }}>{`Add fields in Google Cloud Function`}</h3>\n    <p>{`To add fields in Cloud Function, edit the `}<inlineCode parentName=\"p\">{`schema.json`}</inlineCode>{` file.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open Google Cloud Function.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the function you want to update.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`EDIT`}</strong>{` on the Function details page.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select `}<inlineCode parentName=\"p\">{`schema.json`}</inlineCode>{` from the list of files.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the file editor, enter the `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`type`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`mode`}</inlineCode>{` of any fields you would like to add. Follow the format shown in the file.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Deploy`}</strong>{`.`}</p>\n      </li>\n    </ol>\n    <p>{`To debug in Cloud Function, click `}<strong parentName=\"p\">{`VIEW LOGS`}</strong>{` on the Function details page. This will take you to the Logs Viewer, where any errors will appear.`}</p>\n    <h3 {...{\n      \"id\": \"add-fields-in-bigquery\"\n    }}>{`Add fields in BigQuery`}</h3>\n    <p>{`To add fields in BigQuery, edit the schema.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open BigQuery.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the menu, expand `}<strong parentName=\"p\">{`your-project-name`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Expand `}<strong parentName=\"p\">{`cloudflare_data`}</strong>{` and click `}<strong parentName=\"p\">{`cf_analytics_logs`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the `}<strong parentName=\"p\">{`Schema`}</strong>{` tab.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Scroll to the bottom of the page, and click `}<strong parentName=\"p\">{`Edit schema`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`On the pop-up page, click `}<strong parentName=\"p\">{`Add field`}</strong>{`. Enter the field `}<strong parentName=\"p\">{`Name`}</strong>{` and select the field `}<strong parentName=\"p\">{`Type`}</strong>{` and `}<strong parentName=\"p\">{`Mode`}</strong>{` from the dropdowns.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Save`}</strong>{`.`}</p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"task-2---analyze-log-data-with-google-data-studio\"\n    }}>{`Task 2 - Analyze log data with Google Data Studio`}</h2>\n    <p>{`To analyze and visualize logs, you can use `}<strong parentName=\"p\">{`Google Data Studio`}</strong>{` or any other 3rd party services that supports Google BigQuery as an input source.`}</p>\n    <p>{`With Google Data Studio, you can generate graphs and charts from a Google BigQuery table. You can also refresh the data in your reports and get real-time analytics.`}</p>\n    <h3 {...{\n      \"id\": \"about-the-cloudflare-logs-insights-template\"\n    }}>{`About the Cloudflare Logs Insights Template`}</h3>\n    <p>{`Cloudflare has published a `}<a parentName=\"p\" {...{\n        \"href\": \"https://datastudio.google.com/u/0/reporting/1ez3m7Yf8AZLfM6aYRjfgF0pPpRvOwhTh/page/mAzI/preview\"\n      }}>{`Logs Insights Template`}</a>{` in the `}<strong parentName=\"p\">{`Google Data Studio Report Gallery`}</strong>{`.`}</p>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"../../../static/images/cf-logs-insights-template.png\",\n        \"alt\": \"Cloudflare Logs Insights Template on Google Data Studio Gallery\"\n      }}></img></p>\n    <p>{`The Cloudflare Insights Template features several dashboards, or report pages, to help you analyze your Cloudflare Logs data. You can also use filters within the dashboards to narrow down the analysis by date and time, device type, country, user agent, client IP, hostname, and more. These insights further help with debugging and tracing.`}</p>\n    <p>{`The following dashboards are included in the Insights template:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Snapshot`}</strong>{`: Gives you an overview of the most important metrics from your Cloudflare logs, including total number of requests, top visitors by geography, IP, user agent, traffic type, total number of threats, and bandwidth usage.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Security`}</strong>{`: Provides insights on threat identification and mitigations by our `}<strong parentName=\"p\">{`Web Application Firewall`}</strong>{`, including `}<strong parentName=\"p\">{`Firewall Rules`}</strong>{`, `}<strong parentName=\"p\">{`Rate Limiting`}</strong>{`, and `}<strong parentName=\"p\">{`IP Firewall`}</strong>{`. Metrics include total threats stopped, threat traffic source, blocked IPs and user agents, top threat requests, Firewall events (SQL injections, XSS, etc.), and rate limiting. Use this data to fine tune the firewall to target obvious threats and avoid false positives.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Performance`}</strong>{`: Helps you identify and address issues like slow pages and caching misconfigurations. Metrics include total vs. cached bandwidth, cache ratio, top uncached requests, static vs. dynamic content, slowest URIs, and more.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Reliability`}</strong>{`: Provides insights on the availability of your websites and applications. Metrics include origin response error ratio, origin response status over time, percentage of 3xx/4xx/5xx errors over time, and more.`}</p>\n      </li>\n    </ul>\n    <h3 {...{\n      \"id\": \"create-a-report-based-on-the-insights-template\"\n    }}>{`Create a report based on the Insights Template`}</h3>\n    <p>{`To create a report for your log data based on the Cloudflare template:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In Data Studio, open the Cloudflare `}<a parentName=\"p\" {...{\n            \"href\": \"https://datastudio.google.com/u/0/reporting/1ez3m7Yf8AZLfM6aYRjfgF0pPpRvOwhTh/page/mAzI/preview\"\n          }}>{`template`}</a>{` and click `}<strong parentName=\"p\">{`Use Template`}</strong>{`. A `}<em parentName=\"p\">{`Create new report`}</em>{` dialog opens.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Under the `}<strong parentName=\"p\">{`New Data Source`}</strong>{` dropdown, select `}<strong parentName=\"p\">{`Create New Data Source`}</strong>{`. A page opens where you can enter additional configuration details.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Under `}<strong parentName=\"p\">{`Google Connectors`}</strong>{`, locate the `}<strong parentName=\"p\">{`BigQuery`}</strong>{` card and click `}<strong parentName=\"p\">{`Select`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Next under `}<strong parentName=\"p\">{`MY PROJECTS`}</strong>{`, select your `}<strong parentName=\"p\">{`Project`}</strong>{`, `}<strong parentName=\"p\">{`Dataset`}</strong>{`, and `}<strong parentName=\"p\">{`Table`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Connect`}</strong>{` in the upper right.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the list of Cloudflare Logs fields, locate `}<em parentName=\"p\">{`EdgeStartTimestamp`}</em>{`, click the three vertical dots and select `}<strong parentName=\"p\">{`Duplicate`}</strong>{`. This creates `}<em parentName=\"p\">{`Copy of EdgeStartTimestamp`}</em>{` right below `}<em parentName=\"p\">{`EdgeStartTimestamp`}</em>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Update the `}<strong parentName=\"p\">{`Type`}</strong>{` for `}<em parentName=\"p\">{`Copy of EdgeStartTimestamp`}</em>{` to set it to `}<em parentName=\"p\">{`Date & Time`}</em>{` > `}<em parentName=\"p\">{`Date Hour (YYYYMMDDHH)`}</em>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Next, update the `}<strong parentName=\"p\">{`Type`}</strong>{` for each of the following fields as indicated below:`}</p>\n      </li>\n    </ol>\n    <table style=\"border: solid 2px darkgrey; width: 100%;\">\n    <thead style=\"background: #ffeadf;\">\n        <tr>\n            <th>Cloudflare Log Field</th>\n            <th>Type</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>ZoneID</td>\n            <td>Text</td>\n        </tr>\n        <tr>\n            <td>EdgeColoID</td>\n            <td>Text</td>\n        </tr>\n        <tr>\n            <td>ClientSrcPort</td>\n            <td>Text</td>\n        </tr>\n        <tr>\n            <td>EdgeResponseStatus</td>\n            <td>Number</td>\n        </tr>\n        <tr>\n            <td>EdgeRateLimitID</td>\n            <td>Text&nbsp;</td>\n        </tr>\n        <tr>\n            <td>\n                <div>\n                    <div>Copy of EdgeStartTimestamp</div>\n                </div>\n            </td>\n            <td>Date &amp; Time &gt; Date Hour (YYYYMMDDHH)</td>\n        </tr>\n        <tr>\n            <td>OriginResponseStatus</td>\n            <td>Number</td>\n        </tr>\n        <tr>\n            <td>ClientASN</td>\n            <td>Text</td>\n        </tr>\n        <tr>\n            <td>ClientCountry</td>\n            <td>Geo &gt; Country</td>\n        </tr>\n        <tr>\n            <td>CacheResponseStatus</td>\n            <td>Text</td>\n        </tr>\n    </tbody>\n    </table>\n    <ol {...{\n      \"start\": 9\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Next, add a new field to identify and calculate threat. In the top right corner, click `}<strong parentName=\"p\">{`+ ADD A FIELD`}</strong>{`, then in the add field UI:\n`}<em parentName=\"p\">{` For `}<strong parentName=\"em\">{`Field Name`}</strong>{`, type `}<em parentName=\"em\">{`Threats`}</em>{`.\n`}</em>{` In the `}<strong parentName=\"p\">{`Formula`}</strong>{` text box, paste the following code:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`CASE\nWHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"ip\" THEN \"ip block\"\nWHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"ctry\" THEN \"country block\"\nWHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"zl\" THEN \"routed by zone lockdown\"\n WHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"ua\" THEN \"blocked user agent\"\nWHEN EdgePathingSrc = \"user\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"rateLimit\" THEN \"rate-limiting rule\"\n WHEN EdgePathingSrc = \"bic\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"unknown\" THEN \"browser integrity check\"\nWHEN EdgePathingSrc = \"hot\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"unknown\" THEN \"blocked hotlink\"\nWHEN EdgePathingSrc = \"macro\" AND EdgePathingOp = \"chl\" AND EdgePathingStatus = \"captchaFail\" THEN \"CAPTCHA challenge failed\"\nWHEN EdgePathingSrc = \"macro\" AND EdgePathingOp = \"chl\" AND EdgePathingStatus = \"jschlFail\" THEN \"java script challenge failed\"\nWHEN EdgePathingSrc = \"filterBasedFirewall\" AND EdgePathingOp = \"ban\" AND EdgePathingStatus = \"unknown\" THEN \"blocked by filter based firewall\"\nWHEN EdgePathingSrc = \"filterBasedFirewall\" AND EdgePathingOp = \"chl\" THEN \"challenged by filter based firewall\"\nElse \"Other\"\nEND\n`}</code></pre>\n        <p parentName=\"li\">{`*`}{` Click `}<strong parentName=\"p\">{`Save`}</strong>{` in the lower right corner.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Finally, add another new field for grouping status error codes. In the top right corner, click `}<strong parentName=\"p\">{`+ ADD A FIELD`}</strong>{`, then in the add field UI:\n`}<em parentName=\"p\">{` For `}<strong parentName=\"em\">{`Field Name`}</strong>{`, type `}<em parentName=\"em\">{`EdgeResponseStatus_Class`}</em>{`.\n`}</em>{` In the `}<strong parentName=\"p\">{`Formula`}</strong>{` text box, paste the following code:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`CASE\nWHEN EdgeResponseStatus > 199 AND EdgeResponseStatus < 300 THEN \"2xx\"\nWHEN EdgeResponseStatus > 299 AND EdgeResponseStatus < 400 THEN \"3xx\"\nWHEN EdgeResponseStatus > 399 AND EdgeResponseStatus < 500 THEN \"4xx\"\nWHEN EdgeResponseStatus > 499 AND EdgeResponseStatus < 600 THEN \"5xx\"\nWHEN EdgeResponseStatus = 0 THEN \"0 - Served from CF Edge\"\nElse \"Other\"\nEND\n`}</code></pre>\n      </li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\">{`Click `}<strong parentName=\"li\">{`Save`}</strong>{` in the lower right corner.`}</li>\n    </ul>\n    <ol {...{\n      \"start\": 11\n    }}>\n      <li parentName=\"ol\">{`To finish, click `}<strong parentName=\"li\">{`Add to Report`}</strong>{` in the upper right.`}</li>\n    </ol>\n    <h3 {...{\n      \"id\": \"refreshing-fields-and-filters-manually\"\n    }}>{`Refreshing fields and filters manually`}</h3>\n    <p>{`After you've added your report, you will notice that not all report components render successfully. To fix this, you need to resolve any errors related to invalid dimensions, metrics, or filters that appear in the affected report components.`}</p>\n    <h4 {...{\n      \"id\": \"update-data-studio-with-new-fields\"\n    }}>{`Update Data Studio with new fields`}</h4>\n    <p>{`To update Data Studio with fields added to BigQuery, refresh fields for the data source.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In Data Studio, open the Cloudflare dashboard in `}<strong parentName=\"p\">{`Edit`}</strong>{` mode.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Expand the `}<strong parentName=\"p\">{`Resource`}</strong>{` menu and select `}<strong parentName=\"p\">{`Manage added data sources`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click the `}<strong parentName=\"p\">{`EDIT`}</strong>{` action for the data source that you want to update.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`REFRESH FIELDS`}</strong>{` below the table. A window with `}<strong parentName=\"p\">{`Field changes found`}</strong>{` in BigQuery will pop up.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`To add the new fields, click `}<strong parentName=\"p\">{`APPLY`}</strong>{`.`}</p>\n      </li>\n    </ol>\n    <p>{`You can also create custom fields directly in Data Studio.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In Data Studio, open the Cloudflare dashboard in `}<strong parentName=\"p\">{`Edit`}</strong>{` mode.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Expand the `}<strong parentName=\"p\">{`Resource`}</strong>{` menu and select `}<strong parentName=\"p\">{`Manage added data sources`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click the `}<strong parentName=\"p\">{`EDIT`}</strong>{` action for the data source that you want to add a custom field to.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`ADD A FIELD`}</strong>{` above the table.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Enter a formula in the `}<strong parentName=\"p\">{`Formula`}</strong>{` editor.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`SAVE`}</strong>{`.`}</p>\n      </li>\n    </ol>\n    <h4 {...{\n      \"id\": \"fix-invalid-metric-or-dimension-errors\"\n    }}>{`Fix invalid metric or dimension errors`}</h4>\n    <p>{`The following table summarizes which specific components require to be fixed:`}</p>\n    <table style=\"border: solid 2px darkgrey; width: 100%;\">\n      <thead style=\"background: #ffeadf;\">\n        <tr>\n          <th>Report page</th>\n          <th>Components</th>\n          <th>Field to add</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td rowspan=\"3\">2 Security Cloudflare&nbsp;</td>\n          <td>\n            <p><em>Threats </em>(scorecard)</p>\n          </td>\n          <td>&nbsp;Threats (Metric)</td>\n        </tr>\n        <tr>\n          <td>\n            <p><em>Threats - Record Count (table)</em></p>\n          </td>\n          <td>&nbsp;Threats (Dimension)</td>\n        </tr>\n        <tr>\n          <td>&nbsp;<em>Threats Over Time&nbsp;</em>(area chart)</td>\n          <td>&nbsp;Threats (Breadown Dimension)</td>\n        </tr>\n        <tr>\n          <td>3 Reliability Cloudflare</td>\n          <td><em>Status Codes Last 24 hours&nbsp;</em>(bar chart)</td>\n          <td><em>Copy of EdgeStartTimeStamp&nbsp;</em>(Dimension)</td>\n        </tr>\n        <tr>\n          <td>5&nbsp;Last 100s Requests Cloudflare</td>\n          <td><em>Last 100 Requests</em> (table)</td>\n          <td>&nbsp;<em>Copy of EdgeStartTimeStamp</em></td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`For each of the report components listed above:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the report component affected.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`On the menu to the right, under the `}<strong parentName=\"p\">{`Data`}</strong>{` tab, locate and click `}<strong parentName=\"p\">{`Invalid Dimension`}</strong>{` or `}<strong parentName=\"p\">{`Invalid Metric`}</strong>{` (as applicable). The `}<strong parentName=\"p\">{`Field Picker`}</strong>{` panel opens.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Search or type for the field to add, then click to select it.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`To finish, click away from the panel to return to the main report.`}</p>\n      </li>\n    </ol>\n    <p>{`The component should now render correctly.`}</p>\n    <h4 {...{\n      \"id\": \"update-data-filters\"\n    }}>{`Update data filters`}</h4>\n    <p>{`This fix applies to report page: `}<strong parentName=\"p\">{`3 Reliability Cloudflare`}</strong>{`, for the following scorecard components in the report:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`5xx Errors`}</strong></li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`4xx Errors`}</strong></li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`3xx Errors`}</strong></li>\n    </ul>\n    <p>{`To update the filter associated with each scorecard:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the report component affected.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`On the menu to the right, under the `}<strong parentName=\"p\">{`Data`}</strong>{` tab, locate the `}<strong parentName=\"p\">{`Filters`}</strong>{` > `}<strong parentName=\"p\">{`Scorecard Filter`}</strong>{` section and click the `}<strong parentName=\"p\">{`pencil`}</strong>{` next to the filter name to edit it. The `}<strong parentName=\"p\">{`Edit Filter`}</strong>{` panel opens.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the filtering criteria section, click the dropdown and scroll or search for the field `}<em parentName=\"p\">{`EdgeResponseStatusClass`}</em>{` and select it.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`To finish, click `}<strong parentName=\"p\">{`Save`}</strong>{` in the lower right corner.`}</p>\n      </li>\n    </ol>\n    <p>{`The component should now render correctly.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}