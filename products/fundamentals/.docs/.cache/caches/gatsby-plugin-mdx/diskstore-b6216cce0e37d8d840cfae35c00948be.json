{"expireTime":9007200897367337000,"key":"gatsby-plugin-mdx-entire-payload-01a11a2d056ce749073887bd698fa616-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"HTTP request headers","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":23,"offset":23},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":23,"offset":23},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cloudflare passes all HTTP request headers to your origin web server and adds additional headers as specified below.","position":{"start":{"line":4,"column":1,"offset":25},"end":{"line":4,"column":117,"offset":141},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":25},"end":{"line":4,"column":117,"offset":141},"indent":[]}},{"type":"jsx","value":"<details>\n<summary>CF-Connecting-IP</summary>\n<div>","position":{"start":{"line":6,"column":1,"offset":143},"end":{"line":8,"column":6,"offset":194},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"CF-Connecting-IP","position":{"start":{"line":10,"column":1,"offset":196},"end":{"line":10,"column":19,"offset":214},"indent":[]}},{"type":"text","value":" provides the client IP address, connecting to Cloudflare, to the origin web server.\nThis header will only be sent on the traffic from Cloudflare's edge to your origin webserver.","position":{"start":{"line":10,"column":19,"offset":214},"end":{"line":11,"column":94,"offset":392},"indent":[1]}}],"position":{"start":{"line":10,"column":1,"offset":196},"end":{"line":11,"column":94,"offset":392},"indent":[1]}},{"type":"jsx","value":"</div>\n</details>","position":{"start":{"line":13,"column":1,"offset":394},"end":{"line":14,"column":11,"offset":411},"indent":[1]}},{"type":"jsx","value":"<details>\n<summary>True-Client-IP (Enterprise plan only)</summary>\n<div>","position":{"start":{"line":16,"column":1,"offset":413},"end":{"line":18,"column":6,"offset":485},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":20,"column":1,"offset":487},"end":{"line":20,"column":17,"offset":503},"indent":[]}},{"type":"text","value":" provides the original client IP address to the origin web server. ","position":{"start":{"line":20,"column":17,"offset":503},"end":{"line":20,"column":84,"offset":570},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":20,"column":84,"offset":570},"end":{"line":20,"column":100,"offset":586},"indent":[]}},{"type":"text","value":" is only available on our Enterprise plan. In the example below, ","position":{"start":{"line":20,"column":100,"offset":586},"end":{"line":20,"column":165,"offset":651},"indent":[]}},{"type":"inlineCode","value":"203.0.113.1","position":{"start":{"line":20,"column":165,"offset":651},"end":{"line":20,"column":178,"offset":664},"indent":[]}},{"type":"text","value":" is the original visitor IP address. For example: ","position":{"start":{"line":20,"column":178,"offset":664},"end":{"line":20,"column":228,"offset":714},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP: 203.0.113.1","position":{"start":{"line":20,"column":228,"offset":714},"end":{"line":20,"column":257,"offset":743},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":487},"end":{"line":20,"column":257,"offset":743},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There is no difference between the ","position":{"start":{"line":22,"column":1,"offset":745},"end":{"line":22,"column":36,"offset":780},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":22,"column":36,"offset":780},"end":{"line":22,"column":52,"offset":796},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":22,"column":52,"offset":796},"end":{"line":22,"column":57,"offset":801},"indent":[]}},{"type":"inlineCode","value":"CF-Connecting-IP","position":{"start":{"line":22,"column":57,"offset":801},"end":{"line":22,"column":75,"offset":819},"indent":[]}},{"type":"text","value":" headers besides the name of the header. Some Enterprise customers with legacy devices need ","position":{"start":{"line":22,"column":75,"offset":819},"end":{"line":22,"column":167,"offset":911},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":22,"column":167,"offset":911},"end":{"line":22,"column":183,"offset":927},"indent":[]}},{"type":"text","value":" to avoid updating firewalls or load-balancers to read a custom header name.","position":{"start":{"line":22,"column":183,"offset":927},"end":{"line":22,"column":259,"offset":1003},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":745},"end":{"line":22,"column":259,"offset":1003},"indent":[]}},{"type":"jsx","value":"<Aside type=\"warning\">","position":{"start":{"line":24,"column":1,"offset":1005},"end":{"line":24,"column":23,"offset":1027},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you are using Cloudflare in a stacked CDN and authenticating HTTP requests based on the IP address value in the ","position":{"start":{"line":26,"column":1,"offset":1029},"end":{"line":26,"column":116,"offset":1144},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":26,"column":116,"offset":1144},"end":{"line":26,"column":132,"offset":1160},"indent":[]}},{"type":"text","value":" header, you must ","position":{"start":{"line":26,"column":132,"offset":1160},"end":{"line":26,"column":150,"offset":1178},"indent":[]}},{"type":"link","title":null,"url":"https://support.cloudflare.com/hc/articles/206776727#h_4bf7CC7xR9dZJjR4y6wwcG","children":[{"type":"text","value":"enable ","position":{"start":{"line":26,"column":151,"offset":1179},"end":{"line":26,"column":158,"offset":1186},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":26,"column":158,"offset":1186},"end":{"line":26,"column":174,"offset":1202},"indent":[]}}],"position":{"start":{"line":26,"column":150,"offset":1178},"end":{"line":26,"column":254,"offset":1282},"indent":[]}},{"type":"text","value":". If you do not enable this feature, the ","position":{"start":{"line":26,"column":254,"offset":1282},"end":{"line":26,"column":295,"offset":1323},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":26,"column":295,"offset":1323},"end":{"line":26,"column":311,"offset":1339},"indent":[]}},{"type":"text","value":" header can be spoofed to any value. Alternatively, if you do not want to receive the ","position":{"start":{"line":26,"column":311,"offset":1339},"end":{"line":26,"column":397,"offset":1425},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":26,"column":397,"offset":1425},"end":{"line":26,"column":413,"offset":1441},"indent":[]}},{"type":"text","value":" header, use a ","position":{"start":{"line":26,"column":413,"offset":1441},"end":{"line":26,"column":428,"offset":1456},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/rules/transform","children":[{"type":"text","value":"Transform Rule","position":{"start":{"line":26,"column":429,"offset":1457},"end":{"line":26,"column":443,"offset":1471},"indent":[]}}],"position":{"start":{"line":26,"column":428,"offset":1456},"end":{"line":26,"column":495,"offset":1523},"indent":[]}},{"type":"text","value":" to remove this HTTP request header.","position":{"start":{"line":26,"column":495,"offset":1523},"end":{"line":26,"column":531,"offset":1559},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1029},"end":{"line":26,"column":531,"offset":1559},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":28,"column":1,"offset":1561},"end":{"line":28,"column":9,"offset":1569},"indent":[]}},{"type":"jsx","value":"</div>\n</details>","position":{"start":{"line":30,"column":1,"offset":1571},"end":{"line":31,"column":11,"offset":1588},"indent":[1]}},{"type":"jsx","value":"<details>\n<summary>X-Forwarded-For</summary>\n<div>","position":{"start":{"line":33,"column":1,"offset":1590},"end":{"line":35,"column":6,"offset":1640},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"X-Forwarded-For","position":{"start":{"line":37,"column":1,"offset":1642},"end":{"line":37,"column":18,"offset":1659},"indent":[]}},{"type":"text","value":" maintains proxy server and original visitor IP addresses. If there was no existing ","position":{"start":{"line":37,"column":18,"offset":1659},"end":{"line":37,"column":102,"offset":1743},"indent":[]}},{"type":"inlineCode","value":"X-Forwarded-For","position":{"start":{"line":37,"column":102,"offset":1743},"end":{"line":37,"column":119,"offset":1760},"indent":[]}},{"type":"text","value":" header in the request sent to Cloudflare, ","position":{"start":{"line":37,"column":119,"offset":1760},"end":{"line":37,"column":162,"offset":1803},"indent":[]}},{"type":"inlineCode","value":"X-Forwarded-For","position":{"start":{"line":37,"column":162,"offset":1803},"end":{"line":37,"column":179,"offset":1820},"indent":[]}},{"type":"text","value":" has an identical value to the ","position":{"start":{"line":37,"column":179,"offset":1820},"end":{"line":37,"column":210,"offset":1851},"indent":[]}},{"type":"inlineCode","value":"CF-Connecting-IP","position":{"start":{"line":37,"column":210,"offset":1851},"end":{"line":37,"column":228,"offset":1869},"indent":[]}},{"type":"text","value":" header. For example: ","position":{"start":{"line":37,"column":228,"offset":1869},"end":{"line":37,"column":250,"offset":1891},"indent":[]}},{"type":"inlineCode","value":"X-Forwarded-For: 203.0.113.1","position":{"start":{"line":37,"column":250,"offset":1891},"end":{"line":37,"column":280,"offset":1921},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":37,"column":280,"offset":1921},"end":{"line":37,"column":281,"offset":1922},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":1642},"end":{"line":37,"column":281,"offset":1922},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If an ","position":{"start":{"line":39,"column":1,"offset":1924},"end":{"line":39,"column":7,"offset":1930},"indent":[]}},{"type":"inlineCode","value":"X-Forwarded-For","position":{"start":{"line":39,"column":7,"offset":1930},"end":{"line":39,"column":24,"offset":1947},"indent":[]}},{"type":"text","value":" header was already present in the request to Cloudflare, Cloudflare appends the IP address of the HTTP proxy to the header: ","position":{"start":{"line":39,"column":24,"offset":1947},"end":{"line":39,"column":149,"offset":2072},"indent":[]}},{"type":"inlineCode","value":"X-Forwarded-For: 203.0.113.1,198.51.100.101,198.51.100.102","position":{"start":{"line":39,"column":149,"offset":2072},"end":{"line":39,"column":209,"offset":2132},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1924},"end":{"line":39,"column":209,"offset":2132},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the examples above, ","position":{"start":{"line":41,"column":1,"offset":2134},"end":{"line":41,"column":24,"offset":2157},"indent":[]}},{"type":"inlineCode","value":"203.0.113.1","position":{"start":{"line":41,"column":24,"offset":2157},"end":{"line":41,"column":37,"offset":2170},"indent":[]}},{"type":"text","value":" is the original visitor IP address and ","position":{"start":{"line":41,"column":37,"offset":2170},"end":{"line":41,"column":77,"offset":2210},"indent":[]}},{"type":"inlineCode","value":"198.51.100.101","position":{"start":{"line":41,"column":77,"offset":2210},"end":{"line":41,"column":93,"offset":2226},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":41,"column":93,"offset":2226},"end":{"line":41,"column":98,"offset":2231},"indent":[]}},{"type":"inlineCode","value":"198.51.100.102","position":{"start":{"line":41,"column":98,"offset":2231},"end":{"line":41,"column":114,"offset":2247},"indent":[]}},{"type":"text","value":" are proxy server IP addresses provided to Cloudflare via the ","position":{"start":{"line":41,"column":114,"offset":2247},"end":{"line":41,"column":176,"offset":2309},"indent":[]}},{"type":"inlineCode","value":"X-Forwarded-For","position":{"start":{"line":41,"column":176,"offset":2309},"end":{"line":41,"column":193,"offset":2326},"indent":[]}},{"type":"text","value":" header.","position":{"start":{"line":41,"column":193,"offset":2326},"end":{"line":41,"column":201,"offset":2334},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2134},"end":{"line":41,"column":201,"offset":2334},"indent":[]}},{"type":"jsx","value":"<Aside type=\"note\">","position":{"start":{"line":43,"column":1,"offset":2336},"end":{"line":43,"column":20,"offset":2355},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To restore the original visitor IP address at your origin web server, Cloudflare recommends that your logs or applications look at ","position":{"start":{"line":45,"column":1,"offset":2357},"end":{"line":45,"column":132,"offset":2488},"indent":[]}},{"type":"inlineCode","value":"CF-Connecting-IP","position":{"start":{"line":45,"column":132,"offset":2488},"end":{"line":45,"column":150,"offset":2506},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":45,"column":150,"offset":2506},"end":{"line":45,"column":154,"offset":2510},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":45,"column":154,"offset":2510},"end":{"line":45,"column":170,"offset":2526},"indent":[]}},{"type":"text","value":", instead of ","position":{"start":{"line":45,"column":170,"offset":2526},"end":{"line":45,"column":183,"offset":2539},"indent":[]}},{"type":"inlineCode","value":"X-Forwarded-For","position":{"start":{"line":45,"column":183,"offset":2539},"end":{"line":45,"column":200,"offset":2556},"indent":[]}},{"type":"text","value":", since ","position":{"start":{"line":45,"column":200,"offset":2556},"end":{"line":45,"column":208,"offset":2564},"indent":[]}},{"type":"inlineCode","value":"CF-Connecting-IP","position":{"start":{"line":45,"column":208,"offset":2564},"end":{"line":45,"column":226,"offset":2582},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":45,"column":226,"offset":2582},"end":{"line":45,"column":231,"offset":2587},"indent":[]}},{"type":"inlineCode","value":"True-Client-IP","position":{"start":{"line":45,"column":231,"offset":2587},"end":{"line":45,"column":247,"offset":2603},"indent":[]}},{"type":"text","value":" have a consistent format containing only one IP.","position":{"start":{"line":45,"column":247,"offset":2603},"end":{"line":45,"column":296,"offset":2652},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":2357},"end":{"line":45,"column":296,"offset":2652},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":47,"column":1,"offset":2654},"end":{"line":47,"column":9,"offset":2662},"indent":[]}},{"type":"jsx","value":"</div>\n</details>","position":{"start":{"line":49,"column":1,"offset":2664},"end":{"line":50,"column":11,"offset":2681},"indent":[1]}},{"type":"jsx","value":"<details>\n<summary>CF-RAY</summary>\n<div>","position":{"start":{"line":52,"column":1,"offset":2683},"end":{"line":54,"column":6,"offset":2724},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":56,"column":1,"offset":2726},"end":{"line":56,"column":5,"offset":2730},"indent":[]}},{"type":"inlineCode","value":"CF-ray","position":{"start":{"line":56,"column":5,"offset":2730},"end":{"line":56,"column":13,"offset":2738},"indent":[]}},{"type":"text","value":" header is a hashed value that encodes information about the data center and the visitor’s request. For example: ","position":{"start":{"line":56,"column":13,"offset":2738},"end":{"line":56,"column":126,"offset":2851},"indent":[]}},{"type":"inlineCode","value":"CF-RAY: 230b030023ae2822-SJC","position":{"start":{"line":56,"column":126,"offset":2851},"end":{"line":56,"column":156,"offset":2881},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":56,"column":156,"offset":2881},"end":{"line":56,"column":157,"offset":2882},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":2726},"end":{"line":56,"column":157,"offset":2882},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Add the ","position":{"start":{"line":58,"column":1,"offset":2884},"end":{"line":58,"column":9,"offset":2892},"indent":[]}},{"type":"link","title":null,"url":"https://support.cloudflare.com/hc/articles/203118044#h_f7a7396f-ec41-4c52-abf5-a110cadaca7c","children":[{"type":"inlineCode","value":"CF-Ray","position":{"start":{"line":58,"column":10,"offset":2893},"end":{"line":58,"column":18,"offset":2901},"indent":[]}},{"type":"text","value":" header to your origin web server logs","position":{"start":{"line":58,"column":18,"offset":2901},"end":{"line":58,"column":56,"offset":2939},"indent":[]}}],"position":{"start":{"line":58,"column":9,"offset":2892},"end":{"line":58,"column":150,"offset":3033},"indent":[]}},{"type":"text","value":" to match requests proxied to Cloudflare to requests in your server logs. Enterprise customers can also see all requests via ","position":{"start":{"line":58,"column":150,"offset":3033},"end":{"line":58,"column":275,"offset":3158},"indent":[]}},{"type":"link","title":null,"url":"https://support.cloudflare.com/hc/en-us/articles/216672448-Enterprise-Log-Share-REST-API","children":[{"type":"text","value":"Cloudflare Logs","position":{"start":{"line":58,"column":276,"offset":3159},"end":{"line":58,"column":291,"offset":3174},"indent":[]}}],"position":{"start":{"line":58,"column":275,"offset":3158},"end":{"line":58,"column":382,"offset":3265},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":58,"column":382,"offset":3265},"end":{"line":58,"column":383,"offset":3266},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2884},"end":{"line":58,"column":383,"offset":3266},"indent":[]}},{"type":"jsx","value":"</div>\n</details>","position":{"start":{"line":60,"column":1,"offset":3268},"end":{"line":61,"column":11,"offset":3285},"indent":[1]}},{"type":"jsx","value":"<details>\n<summary>CF-IPCountry</summary>\n<div>","position":{"start":{"line":63,"column":1,"offset":3287},"end":{"line":65,"column":6,"offset":3334},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"CF-IPCountry","position":{"start":{"line":67,"column":1,"offset":3336},"end":{"line":67,"column":15,"offset":3350},"indent":[]}},{"type":"text","value":" contains a two character country code of the originating visitor’s country. XX is used for unknown country information. This header is added to requests by enabling ","position":{"start":{"line":67,"column":15,"offset":3350},"end":{"line":67,"column":181,"offset":3516},"indent":[]}},{"type":"link","title":null,"url":"https://support.cloudflare.com/hc/en-us/articles/200168236-What-does-Cloudflare-IP-Geolocation-do-","children":[{"type":"text","value":"Cloudflare IP Geolocation","position":{"start":{"line":67,"column":182,"offset":3517},"end":{"line":67,"column":207,"offset":3542},"indent":[]}}],"position":{"start":{"line":67,"column":181,"offset":3516},"end":{"line":67,"column":308,"offset":3643},"indent":[]}},{"type":"text","value":" in the dashboard. For example: ","position":{"start":{"line":67,"column":308,"offset":3643},"end":{"line":67,"column":340,"offset":3675},"indent":[]}},{"type":"inlineCode","value":"CF-IPCountry: US","position":{"start":{"line":67,"column":340,"offset":3675},"end":{"line":67,"column":358,"offset":3693},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":67,"column":358,"offset":3693},"end":{"line":67,"column":359,"offset":3694},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":3336},"end":{"line":67,"column":359,"offset":3694},"indent":[]}},{"type":"jsx","value":"</div>\n</details>","position":{"start":{"line":69,"column":1,"offset":3696},"end":{"line":70,"column":11,"offset":3713},"indent":[1]}},{"type":"jsx","value":"<details>\n<summary>CF-Visitor</summary>\n<div>","position":{"start":{"line":72,"column":1,"offset":3715},"end":{"line":74,"column":6,"offset":3760},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Currently, this header is a JSON object, containing only one key called “scheme”. The header will be either HTTP or HTTPS, and it is only relevant if you need to enable Flexible SSL in your Cloudflare settings. For example: ","position":{"start":{"line":76,"column":1,"offset":3762},"end":{"line":76,"column":225,"offset":3986},"indent":[]}},{"type":"inlineCode","value":"CF-Visitor: { \\\"scheme\\\":\\\"https\\\"}","position":{"start":{"line":76,"column":225,"offset":3986},"end":{"line":76,"column":262,"offset":4023},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":76,"column":262,"offset":4023},"end":{"line":76,"column":263,"offset":4024},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":3762},"end":{"line":76,"column":263,"offset":4024},"indent":[]}},{"type":"jsx","value":"</div>\n</details>","position":{"start":{"line":78,"column":1,"offset":4026},"end":{"line":79,"column":11,"offset":4043},"indent":[1]}},{"type":"jsx","value":"<details>\n<summary>CDN-Loop</summary>\n<div>","position":{"start":{"line":81,"column":1,"offset":4045},"end":{"line":83,"column":6,"offset":4088},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"CDN-Loop","position":{"start":{"line":85,"column":1,"offset":4090},"end":{"line":85,"column":11,"offset":4100},"indent":[]}},{"type":"text","value":" allows Cloudflare to specify how many times a request can enter Cloudflare's network before it is blocked as a looping request. For example: ","position":{"start":{"line":85,"column":11,"offset":4100},"end":{"line":85,"column":153,"offset":4242},"indent":[]}},{"type":"inlineCode","value":"CDN-Loop: cloudflare","position":{"start":{"line":85,"column":153,"offset":4242},"end":{"line":85,"column":175,"offset":4264},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":4090},"end":{"line":85,"column":175,"offset":4264},"indent":[]}},{"type":"jsx","value":"</div>\n</details>","position":{"start":{"line":87,"column":1,"offset":4266},"end":{"line":88,"column":11,"offset":4283},"indent":[1]}},{"type":"jsx","value":"<details>\n<summary>CF-Worker</summary>\n<div>","position":{"start":{"line":90,"column":1,"offset":4285},"end":{"line":92,"column":6,"offset":4329},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":94,"column":1,"offset":4331},"end":{"line":94,"column":5,"offset":4335},"indent":[]}},{"type":"inlineCode","value":"CF-Worker","position":{"start":{"line":94,"column":5,"offset":4335},"end":{"line":94,"column":16,"offset":4346},"indent":[]}},{"type":"text","value":" request header is added to an edge Worker subrequest that identifies the host that spawned the subrequest. This is useful when you want to protect yourself against cross-zone worker subrequests. For example: ","position":{"start":{"line":94,"column":16,"offset":4346},"end":{"line":94,"column":225,"offset":4555},"indent":[]}},{"type":"inlineCode","value":"CF-Worker: example.com","position":{"start":{"line":94,"column":225,"offset":4555},"end":{"line":94,"column":249,"offset":4579},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":94,"column":249,"offset":4579},"end":{"line":94,"column":250,"offset":4580},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":4331},"end":{"line":94,"column":250,"offset":4580},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can add ","position":{"start":{"line":96,"column":1,"offset":4582},"end":{"line":96,"column":13,"offset":4594},"indent":[]}},{"type":"inlineCode","value":"CF-Worker","position":{"start":{"line":96,"column":13,"offset":4594},"end":{"line":96,"column":24,"offset":4605},"indent":[]}},{"type":"text","value":" header on server logs similar to the way you add the ","position":{"start":{"line":96,"column":24,"offset":4605},"end":{"line":96,"column":78,"offset":4659},"indent":[]}},{"type":"link","title":null,"url":"https://support.cloudflare.com/hc/en-us/articles/203118044-Gathering-information-for-troubleshooting-sites#h_f7a7396f-ec41-4c52-abf5-a110cadaca7c","children":[{"type":"inlineCode","value":"CF-RAY","position":{"start":{"line":96,"column":79,"offset":4660},"end":{"line":96,"column":87,"offset":4668},"indent":[]}}],"position":{"start":{"line":96,"column":78,"offset":4659},"end":{"line":96,"column":235,"offset":4816},"indent":[]}},{"type":"text","value":" header. To do that, add ","position":{"start":{"line":96,"column":235,"offset":4816},"end":{"line":96,"column":260,"offset":4841},"indent":[]}},{"type":"inlineCode","value":"$http_cf_worker","position":{"start":{"line":96,"column":260,"offset":4841},"end":{"line":96,"column":277,"offset":4858},"indent":[]}},{"type":"text","value":" in the log format file: ","position":{"start":{"line":96,"column":277,"offset":4858},"end":{"line":96,"column":302,"offset":4883},"indent":[]}},{"type":"inlineCode","value":"log_format cf_custom \"CF-Worker:$http_cf_worker\"'","position":{"start":{"line":96,"column":302,"offset":4883},"end":{"line":96,"column":353,"offset":4934},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":4582},"end":{"line":96,"column":353,"offset":4934},"indent":[]}},{"type":"jsx","value":"</div>\n</details>","position":{"start":{"line":98,"column":1,"offset":4936},"end":{"line":99,"column":11,"offset":4953},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Related resources","position":{"start":{"line":101,"column":4,"offset":4958},"end":{"line":101,"column":21,"offset":4975},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":4955},"end":{"line":101,"column":21,"offset":4975},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://support.cloudflare.com/hc/articles/200170786","children":[{"type":"text","value":"Restoring original visitor IPs","position":{"start":{"line":103,"column":4,"offset":4980},"end":{"line":103,"column":34,"offset":5010},"indent":[]}}],"position":{"start":{"line":103,"column":3,"offset":4979},"end":{"line":103,"column":89,"offset":5065},"indent":[]}}],"position":{"start":{"line":103,"column":3,"offset":4979},"end":{"line":103,"column":89,"offset":5065},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":4977},"end":{"line":103,"column":89,"offset":5065},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":4977},"end":{"line":103,"column":89,"offset":5065},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"pcx-content-type\":\"concept\"}","position":{"start":{"line":106,"column":1,"offset":5068},"end":{"line":106,"column":59,"offset":5126},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":106,"column":59,"offset":5126}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"pcx-content-type\": \"concept\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"http-request-headers\"\n  }, \"HTTP request headers\"), mdx(\"p\", null, \"Cloudflare passes all HTTP request headers to your origin web server and adds additional headers as specified below.\"), mdx(\"details\", null, mdx(\"summary\", null, \"CF-Connecting-IP\"), mdx(\"div\", null, mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-Connecting-IP\"), \" provides the client IP address, connecting to Cloudflare, to the origin web server.\\nThis header will only be sent on the traffic from Cloudflare's edge to your origin webserver.\"))), mdx(\"details\", null, mdx(\"summary\", null, \"True-Client-IP (Enterprise plan only)\"), mdx(\"div\", null, mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP\"), \" provides the original client IP address to the origin web server. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP\"), \" is only available on our Enterprise plan. In the example below, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"203.0.113.1\"), \" is the original visitor IP address. For example: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP: 203.0.113.1\")), mdx(\"p\", null, \"There is no difference between the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-Connecting-IP\"), \" headers besides the name of the header. Some Enterprise customers with legacy devices need \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP\"), \" to avoid updating firewalls or load-balancers to read a custom header name.\"), mdx(Aside, {\n    type: \"warning\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"If you are using Cloudflare in a stacked CDN and authenticating HTTP requests based on the IP address value in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP\"), \" header, you must \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://support.cloudflare.com/hc/articles/206776727#h_4bf7CC7xR9dZJjR4y6wwcG\"\n  }, \"enable \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"True-Client-IP\")), \". If you do not enable this feature, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP\"), \" header can be spoofed to any value. Alternatively, if you do not want to receive the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP\"), \" header, use a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/rules/transform\"\n  }, \"Transform Rule\"), \" to remove this HTTP request header.\")))), mdx(\"details\", null, mdx(\"summary\", null, \"X-Forwarded-For\"), mdx(\"div\", null, mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Forwarded-For\"), \" maintains proxy server and original visitor IP addresses. If there was no existing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Forwarded-For\"), \" header in the request sent to Cloudflare, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Forwarded-For\"), \" has an identical value to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-Connecting-IP\"), \" header. For example: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Forwarded-For: 203.0.113.1\"), \".\"), mdx(\"p\", null, \"If an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Forwarded-For\"), \" header was already present in the request to Cloudflare, Cloudflare appends the IP address of the HTTP proxy to the header: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Forwarded-For: 203.0.113.1,198.51.100.101,198.51.100.102\")), mdx(\"p\", null, \"In the examples above, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"203.0.113.1\"), \" is the original visitor IP address and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"198.51.100.101\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"198.51.100.102\"), \" are proxy server IP addresses provided to Cloudflare via the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Forwarded-For\"), \" header.\"), mdx(Aside, {\n    type: \"note\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"To restore the original visitor IP address at your origin web server, Cloudflare recommends that your logs or applications look at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-Connecting-IP\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP\"), \", instead of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X-Forwarded-For\"), \", since \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-Connecting-IP\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"True-Client-IP\"), \" have a consistent format containing only one IP.\")))), mdx(\"details\", null, mdx(\"summary\", null, \"CF-RAY\"), mdx(\"div\", null, mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-ray\"), \" header is a hashed value that encodes information about the data center and the visitor\\u2019s request. For example: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-RAY: 230b030023ae2822-SJC\"), \".\"), mdx(\"p\", null, \"Add the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://support.cloudflare.com/hc/articles/203118044#h_f7a7396f-ec41-4c52-abf5-a110cadaca7c\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"CF-Ray\"), \" header to your origin web server logs\"), \" to match requests proxied to Cloudflare to requests in your server logs. Enterprise customers can also see all requests via \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://support.cloudflare.com/hc/en-us/articles/216672448-Enterprise-Log-Share-REST-API\"\n  }, \"Cloudflare Logs\"), \".\"))), mdx(\"details\", null, mdx(\"summary\", null, \"CF-IPCountry\"), mdx(\"div\", null, mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-IPCountry\"), \" contains a two character country code of the originating visitor\\u2019s country. XX is used for unknown country information. This header is added to requests by enabling \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://support.cloudflare.com/hc/en-us/articles/200168236-What-does-Cloudflare-IP-Geolocation-do-\"\n  }, \"Cloudflare IP Geolocation\"), \" in the dashboard. For example: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-IPCountry: US\"), \".\"))), mdx(\"details\", null, mdx(\"summary\", null, \"CF-Visitor\"), mdx(\"div\", null, mdx(\"p\", null, \"Currently, this header is a JSON object, containing only one key called \\u201Cscheme\\u201D. The header will be either HTTP or HTTPS, and it is only relevant if you need to enable Flexible SSL in your Cloudflare settings. For example: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-Visitor: { \\\\\\\"scheme\\\\\\\":\\\\\\\"https\\\\\\\"}\"), \".\"))), mdx(\"details\", null, mdx(\"summary\", null, \"CDN-Loop\"), mdx(\"div\", null, mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CDN-Loop\"), \" allows Cloudflare to specify how many times a request can enter Cloudflare's network before it is blocked as a looping request. For example: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CDN-Loop: cloudflare\")))), mdx(\"details\", null, mdx(\"summary\", null, \"CF-Worker\"), mdx(\"div\", null, mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-Worker\"), \" request header is added to an edge Worker subrequest that identifies the host that spawned the subrequest. This is useful when you want to protect yourself against cross-zone worker subrequests. For example: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-Worker: example.com\"), \".\"), mdx(\"p\", null, \"You can add \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CF-Worker\"), \" header on server logs similar to the way you add the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://support.cloudflare.com/hc/en-us/articles/203118044-Gathering-information-for-troubleshooting-sites#h_f7a7396f-ec41-4c52-abf5-a110cadaca7c\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"CF-RAY\")), \" header. To do that, add \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$http_cf_worker\"), \" in the log format file: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"log_format cf_custom \\\"CF-Worker:$http_cf_worker\\\"'\")))), mdx(\"h2\", {\n    \"id\": \"related-resources\"\n  }, \"Related resources\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://support.cloudflare.com/hc/articles/200170786\"\n  }, \"Restoring original visitor IPs\"))));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"pcx-content-type\": \"concept\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst Aside = makeShortcode(\"Aside\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"http-request-headers\"\n    }}>{`HTTP request headers`}</h1>\n    <p>{`Cloudflare passes all HTTP request headers to your origin web server and adds additional headers as specified below.`}</p>\n    <details>\n      <summary>CF-Connecting-IP</summary>\n      <div>\n        <p><inlineCode parentName=\"p\">{`CF-Connecting-IP`}</inlineCode>{` provides the client IP address, connecting to Cloudflare, to the origin web server.\nThis header will only be sent on the traffic from Cloudflare's edge to your origin webserver.`}</p>\n      </div>\n    </details>\n    <details>\n      <summary>True-Client-IP (Enterprise plan only)</summary>\n      <div>\n        <p><inlineCode parentName=\"p\">{`True-Client-IP`}</inlineCode>{` provides the original client IP address to the origin web server. `}<inlineCode parentName=\"p\">{`True-Client-IP`}</inlineCode>{` is only available on our Enterprise plan. In the example below, `}<inlineCode parentName=\"p\">{`203.0.113.1`}</inlineCode>{` is the original visitor IP address. For example: `}<inlineCode parentName=\"p\">{`True-Client-IP: 203.0.113.1`}</inlineCode></p>\n        <p>{`There is no difference between the `}<inlineCode parentName=\"p\">{`True-Client-IP`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`CF-Connecting-IP`}</inlineCode>{` headers besides the name of the header. Some Enterprise customers with legacy devices need `}<inlineCode parentName=\"p\">{`True-Client-IP`}</inlineCode>{` to avoid updating firewalls or load-balancers to read a custom header name.`}</p>\n        <Aside type=\"warning\" mdxType=\"Aside\">\n          <p>{`If you are using Cloudflare in a stacked CDN and authenticating HTTP requests based on the IP address value in the `}<inlineCode parentName=\"p\">{`True-Client-IP`}</inlineCode>{` header, you must `}<a parentName=\"p\" {...{\n              \"href\": \"https://support.cloudflare.com/hc/articles/206776727#h_4bf7CC7xR9dZJjR4y6wwcG\"\n            }}>{`enable `}<inlineCode parentName=\"a\">{`True-Client-IP`}</inlineCode></a>{`. If you do not enable this feature, the `}<inlineCode parentName=\"p\">{`True-Client-IP`}</inlineCode>{` header can be spoofed to any value. Alternatively, if you do not want to receive the `}<inlineCode parentName=\"p\">{`True-Client-IP`}</inlineCode>{` header, use a `}<a parentName=\"p\" {...{\n              \"href\": \"https://developers.cloudflare.com/rules/transform\"\n            }}>{`Transform Rule`}</a>{` to remove this HTTP request header.`}</p>\n        </Aside>\n      </div>\n    </details>\n    <details>\n      <summary>X-Forwarded-For</summary>\n      <div>\n        <p><inlineCode parentName=\"p\">{`X-Forwarded-For`}</inlineCode>{` maintains proxy server and original visitor IP addresses. If there was no existing `}<inlineCode parentName=\"p\">{`X-Forwarded-For`}</inlineCode>{` header in the request sent to Cloudflare, `}<inlineCode parentName=\"p\">{`X-Forwarded-For`}</inlineCode>{` has an identical value to the `}<inlineCode parentName=\"p\">{`CF-Connecting-IP`}</inlineCode>{` header. For example: `}<inlineCode parentName=\"p\">{`X-Forwarded-For: 203.0.113.1`}</inlineCode>{`.`}</p>\n        <p>{`If an `}<inlineCode parentName=\"p\">{`X-Forwarded-For`}</inlineCode>{` header was already present in the request to Cloudflare, Cloudflare appends the IP address of the HTTP proxy to the header: `}<inlineCode parentName=\"p\">{`X-Forwarded-For: 203.0.113.1,198.51.100.101,198.51.100.102`}</inlineCode></p>\n        <p>{`In the examples above, `}<inlineCode parentName=\"p\">{`203.0.113.1`}</inlineCode>{` is the original visitor IP address and `}<inlineCode parentName=\"p\">{`198.51.100.101`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`198.51.100.102`}</inlineCode>{` are proxy server IP addresses provided to Cloudflare via the `}<inlineCode parentName=\"p\">{`X-Forwarded-For`}</inlineCode>{` header.`}</p>\n        <Aside type=\"note\" mdxType=\"Aside\">\n          <p>{`To restore the original visitor IP address at your origin web server, Cloudflare recommends that your logs or applications look at `}<inlineCode parentName=\"p\">{`CF-Connecting-IP`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`True-Client-IP`}</inlineCode>{`, instead of `}<inlineCode parentName=\"p\">{`X-Forwarded-For`}</inlineCode>{`, since `}<inlineCode parentName=\"p\">{`CF-Connecting-IP`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`True-Client-IP`}</inlineCode>{` have a consistent format containing only one IP.`}</p>\n        </Aside>\n      </div>\n    </details>\n    <details>\n      <summary>CF-RAY</summary>\n      <div>\n        <p>{`The `}<inlineCode parentName=\"p\">{`CF-ray`}</inlineCode>{` header is a hashed value that encodes information about the data center and the visitor’s request. For example: `}<inlineCode parentName=\"p\">{`CF-RAY: 230b030023ae2822-SJC`}</inlineCode>{`.`}</p>\n        <p>{`Add the `}<a parentName=\"p\" {...{\n            \"href\": \"https://support.cloudflare.com/hc/articles/203118044#h_f7a7396f-ec41-4c52-abf5-a110cadaca7c\"\n          }}><inlineCode parentName=\"a\">{`CF-Ray`}</inlineCode>{` header to your origin web server logs`}</a>{` to match requests proxied to Cloudflare to requests in your server logs. Enterprise customers can also see all requests via `}<a parentName=\"p\" {...{\n            \"href\": \"https://support.cloudflare.com/hc/en-us/articles/216672448-Enterprise-Log-Share-REST-API\"\n          }}>{`Cloudflare Logs`}</a>{`.`}</p>\n      </div>\n    </details>\n    <details>\n      <summary>CF-IPCountry</summary>\n      <div>\n        <p><inlineCode parentName=\"p\">{`CF-IPCountry`}</inlineCode>{` contains a two character country code of the originating visitor’s country. XX is used for unknown country information. This header is added to requests by enabling `}<a parentName=\"p\" {...{\n            \"href\": \"https://support.cloudflare.com/hc/en-us/articles/200168236-What-does-Cloudflare-IP-Geolocation-do-\"\n          }}>{`Cloudflare IP Geolocation`}</a>{` in the dashboard. For example: `}<inlineCode parentName=\"p\">{`CF-IPCountry: US`}</inlineCode>{`.`}</p>\n      </div>\n    </details>\n    <details>\n      <summary>CF-Visitor</summary>\n      <div>\n        <p>{`Currently, this header is a JSON object, containing only one key called “scheme”. The header will be either HTTP or HTTPS, and it is only relevant if you need to enable Flexible SSL in your Cloudflare settings. For example: `}<inlineCode parentName=\"p\">{`CF-Visitor: { \\\\\"scheme\\\\\":\\\\\"https\\\\\"}`}</inlineCode>{`.`}</p>\n      </div>\n    </details>\n    <details>\n      <summary>CDN-Loop</summary>\n      <div>\n        <p><inlineCode parentName=\"p\">{`CDN-Loop`}</inlineCode>{` allows Cloudflare to specify how many times a request can enter Cloudflare's network before it is blocked as a looping request. For example: `}<inlineCode parentName=\"p\">{`CDN-Loop: cloudflare`}</inlineCode></p>\n      </div>\n    </details>\n    <details>\n      <summary>CF-Worker</summary>\n      <div>\n        <p>{`The `}<inlineCode parentName=\"p\">{`CF-Worker`}</inlineCode>{` request header is added to an edge Worker subrequest that identifies the host that spawned the subrequest. This is useful when you want to protect yourself against cross-zone worker subrequests. For example: `}<inlineCode parentName=\"p\">{`CF-Worker: example.com`}</inlineCode>{`.`}</p>\n        <p>{`You can add `}<inlineCode parentName=\"p\">{`CF-Worker`}</inlineCode>{` header on server logs similar to the way you add the `}<a parentName=\"p\" {...{\n            \"href\": \"https://support.cloudflare.com/hc/en-us/articles/203118044-Gathering-information-for-troubleshooting-sites#h_f7a7396f-ec41-4c52-abf5-a110cadaca7c\"\n          }}><inlineCode parentName=\"a\">{`CF-RAY`}</inlineCode></a>{` header. To do that, add `}<inlineCode parentName=\"p\">{`$http_cf_worker`}</inlineCode>{` in the log format file: `}<inlineCode parentName=\"p\">{`log_format cf_custom \"CF-Worker:$http_cf_worker\"'`}</inlineCode></p>\n      </div>\n    </details>\n    <h2 {...{\n      \"id\": \"related-resources\"\n    }}>{`Related resources`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://support.cloudflare.com/hc/articles/200170786\"\n        }}>{`Restoring original visitor IPs`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}